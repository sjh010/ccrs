/*! Inzi-sFormViewer 3.0 - v1.1.1 - 2019-04-17
* Copyright (c) 2019 Mobileleader; Licensed INZISOFT */
!function(a){"use strict";for(var b=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];if(a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),a.Array.prototype.indexOf||(a.Array.prototype.indexOf=function(a,b){for(var c=b||0;c<this.length;c++)if(this[c]===a)return c}),a.Array.prototype.isArray||(a.Array.isArray=function(b){return"[object Array]"===a.Object.prototype.toString.call(b)}),a.Array.prototype.contains||(a.Array.prototype.contains=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return!0;return!1}),a.String.prototype.trim||(a.String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),a.SVGElement.prototype.getTransformToElement||(a.SVGElement.prototype.getTransformToElement=a.SVGElement.prototype.getTransformToElement||function(a){return a.getScreenCTM().inverse().multiply(this.getScreenCTM())}),a.console||(a.console={log:function(){}}),!CanvasRenderingContext2D.prototype.setLineDash){var e=CanvasRenderingContext2D.prototype.moveTo,f=CanvasRenderingContext2D.prototype.lineTo,g={x:0,y:0};CanvasRenderingContext2D.prototype.setLineDash=function(a){0!==a[0]&&void 0!==a[0]||(a[0]=.1),void 0===a[1]&&(a[1]=0),this._lineDash=a},CanvasRenderingContext2D.prototype.moveTo=function(a,b){e.call(this,a,b),g.x=a,g.y=b},CanvasRenderingContext2D.prototype.lineTo=function(a,b){if("_lineDash"in this&&this._lineDash){e.call(this,g.x,g.y),this.save();var c=g.x,d=g.y,h=a-c,i=b-d,j=Math.sqrt(h*h+i*i),k=Math.atan2(i,h);this.translate(c,d),e.call(this,0,0),this.rotate(k);var l=this._lineDash.length,m=0,n=!0;for(c=0;j>c;)c+=this._lineDash[m++%l],c>j&&(c=j),n?f.call(this,c,0):e.call(this,c,0),n=!n;this.restore(),this.moveTo(a,b)}else f.call(this,a,b),g.x=a,g.y=b}}Date.now||(Date.now=function(){return(new Date).getTime()})}(window,document);var InziSForm=function(a,b){"use strict";var c={};c.ns=function(a){var b,d=a.split("."),e=c;for(d[0]===this.moduleName&&(d=d.slice(1)),b=0;b<d.length;b+=1)void 0===e[d[b]]&&(e[d[b]]={}),e=e[d[b]];return e};var d={payer:"결제자",toolbarControl:{},annotationConfig:{arc:{editable:!0,contextmenu:!0,fixed:!0},arrowline:{editable:!0,contextmenu:!0,fixed:!0},checkmark:{editable:!0,contextmenu:!0,fixed:!0},ellipse:{editable:!0,contextmenu:!0,fixed:!0},circle:{editable:!0,contextmenu:!0,fixed:!0},highlighter:{editable:!0,contextmenu:!0,fixed:!0,type:"rect"},image:{editable:!0,contextmenu:!0,fixed:!0},line:{editable:!0,contextmenu:!0,fixed:!0},memo:{editable:!0,contextmenu:!0,fixed:!0},text:{editable:!0,contextmenu:!0,fixed:!0},memopad:{editable:!0,contextmenu:!0,fixed:!0},polycurve:{editable:!0,contextmenu:!0,fixed:!0},polygon:{editable:!0,contextmenu:!0,fixed:!0},protractor:{editable:!0,contextmenu:!0,fixed:!0},polyline:{editable:!0,contextmenu:!0,fixed:!0},pen:{editable:!0,contextmenu:!0,fixed:!0},rect:{editable:!0,contextmenu:!0,fixed:!0},stamp:{editable:!0,contextmenu:!0,fixed:!0},imagearea:{editable:!0,contextmenu:!0,fixed:!0},hiddenarea:{editable:!1,contextmenu:!1,fixed:!0},mask:{editable:!0,contextmenu:!0,fixed:!0},edittext:{editable:!0,contextmenu:!0,fixed:!0},stickynote:{editable:!0,contextmenu:!0,fixed:!1,width:300,height:50},eternityrect:{editable:!0,contextmenu:!0,fixed:!0}}};return c.moduleName="InziSForm",c.moduleFullName="Inzi-WebFormViewer 3.0",c.moduleIdPrefix="sform-viewer",c.moduleClassName="sform",c.moduleLoadClassName="sform-viewer-loaded",c.modulePrintWindow="iframe",c.modulePrintProtocol="BatchPrintTrigger",c.moduleAnnotationGraphicType="snap",c.moduleImageGraphicType="canvas",c.modulePrintURL={customURI:"BatchPrintTrigger://",http:"http://localhost:43421",https:"https://localhost:34527",ws:"ws://localhost:41221/batchprint",wss:"wss://localhost:41223/batchprint"},c.modulePrintPort={customURI:0,http:0,https:0,ws:41221,wss:41223},c.setting=function(a){if(1===arguments.length&&"string"==typeof a)return d[a];2===arguments.length?d[arguments[0]]=arguments[1]:c.Utils.extend(d,a)},c.create=function(c){c(this,a,b)},c.inherit=function(a,b){var c=function(){};return function(a,b){c.prototype=b.prototype,a.prototype=new c,a.super=b.prototype,a.prototype.constructor=a}(a,b)},c.viewerLoad=function(a){var d=a.container;if(null!==d){var e=c.Element.select(b.body,d);if(null!==e&&!c.Element.hasClass(e,c.moduleLoadClassName)){c.Element.addClass(e,c.moduleLoadClassName);return new c.Controller(a)}}},c.loadViewer=function(a){return this.viewerLoad(a)},c.loadDocViewer=function(a){var d=a.container;if(null!==d){var e=c.Element.select(b.body,d);if(null!==e&&!c.Element.hasClass(e,c.moduleLoadClassName)){c.Element.addClass(e,c.moduleLoadClassName);return new c.DocController(a)}}},c.batchPrint=function(a,b){c.Utils.globalLocation();new c.BatchPrintManager(a).print();var d=[];d.push("<div style='color:#02a5de; line-height: 25px;'>인쇄 모듈 설치 및 프로그램 실행 허용 후 서비스 이용이 가능합니다.</div>"),b&&d.push("<div style='line-height: 20px; margin-top: 5px; font-size:12px;'><a href='"+b+"'><span>인쇄 모듈 다운로드 </span></a></div>"),c.UI.message(d.join(""),null,null,5e3)},c.ns(c.moduleName+".core"),c.ns(c.moduleName+".annotation"),c}(window,document);InziSForm.create(function(a,b,c){"use strict";var d=(a.moduleName,a.moduleClassName),e=(a.moduleIdPrefix,{DataType:{STRING:{},NUMBER:{},BOOLEAN:{TRUE:!0,FALSE:!1},OBJECT:{},FUNCTION:{}},GraphicUnitType:{INCH:0,CM:1,MM:2,PX:3,PT:4,DXA:5,EMU:6},GraphicUnitReferenceValue:{INCH:1,CM:2.54,MM:25.4,PX:96,PT:72,DXA:1440,EMU:914400},ModuleStatus:{READY:0,PENDING:1,INITIALIZE:2,INITIALIZE_COMPLETE:3},LayerType:{THUMBNAIL:"thumbnail",VIEWER:"viewer",DOC_THUMBNAIL:"doc-thumbnail",DOC_VIEWER:"doc-viewer",TOOLBAR:"toolbar",ICON:"icon",POPUP:"popup"},ToolbarLayoutType:{SIMPLE:"simple",FULL:"full",HIDDEN:"hidden"},GraphicsType:{CANVAS:0,SVG:1,SNAP:2},FilterType:{BRIGHTNESS:"brightness",GRAYSCALE:"grayscale",INVERT:"invert",CONSTRAST:"constrast"},ViewerType:{IMAGE_THUMBNAIL:"IMAGE_THUMBNAIL",IMAGE:"IMAGE",THUMBNAIL:"THUMBNAIL"},PaginateUnit:{ALL:"all",FILE:"file",DOCUMENT:"document",NONE:"none"},VIEWER_COMPAT_TYPE:{IFORM:"iform",VISUAL:"visual",NONE:""},GraphicType:{SVG:"svg",CANVAS:"canvas",SNAP:"snap"},ControlType:{name:function(){return"controlType"},NONE:"none",ZOOM:"zoom",ROTATE:"rotate",MAGNIFICATION:"magnification",ANNOTATION:"annotation",SELECT:"select",FILTER:"filter",CROP:"crop",CLIP:"clip",COMPARE:"compare"},AnnotationViewMode:{ALL:"all",LEVEL1:1,LEVEL2:2,LEVEL3:3,LEVEL4:4},ThumbnailLabelType:{NONE:"none",DEFAULT:"default",ALL:"all"},AnnotationType:{name:function(){return"annotationType"},RECT:"rect",CIRCLE:"circle",LINE:"line",ARROWLINE:"arrowline",POLYLINE:"polyline",POLYGON:"polygon",PEN:"pen",HIGHLIGHTER:"highlighter",HIGHLIGHTERRECT:"highlighterRect",MEMO:"memo",MEMOPAD:"memopad",STAMP:"stamp",CHECKMARK:"checkmark",ELLIPSE:"ellipse",POLYCURVE:"polycurve",TEXT:"text",EDITTEXT:"edittext",PROTRACTOR:"protractor",ARC:"arc",IMAGE:"image",IMAGEAREAd:"imagearea",HIDDENAREA:"hiddenarea",MASK:"mask",STICKYNOTE:"stickynote",ETERNITYRECT:"EternityRect"},ZoomType:{DEFAULT:"default",IN:"in",OUT:"out",FITSCREEN:"fitscreen",FITHEIGHT:"fitheight",FITWIDTH:"fitwidth",FITMAX:"fitmax",FITAUTO:"fitauto"},AnnotationSetPropType:{INDEX_FIRST:"index_first",INDEX_LAST:"index_last",INDEX_FRONT:"index_front",INDEX_BACK:"index_back"},AnnotationAttribute:{TEXT_ALIGN:{0:"start",1:"middle",2:"end"},TEXT_ALIGN_BASELINE:{0:"hanging",1:"middle",2:"baseline"}},RenderType:{CLIP:"clip",SCROLL:"scroll"},RenderNodeType:{CANVAS:"canvas",IMAGE:"image"},RenderQuality:{DRAFT:"draft",LOW:"low",MEDIUM:"medium",HIGH:"high",BEST:"best",CUSTOM:"custom"},MarkerType:{getByIndex:function(a,b){var c={LEFT:["NONE","ARROW_LEFT","OPENARROW_LEFT","SHARPARROW_LEFT","DIAMOND","CIRCLE"],RIGHT:["NONE","ARROW_RIGHT","OPENARROW_RIGHT","SHARPARROW_RIGHT","DIAMOND","CIRCLE"]};if(c[a])return c[a][b]},DIRECTION_LEFT:"LEFT",DIRECTION_RIGHT:"RIGHT",NONE:"NONE",ARROW_LEFT:"ARROW_LEFT",OPENARROW_LEFT:"OPENARROW_LEFT",SHARPARROW_LEFT:"SHARPARROW_LEFT",DIAMOND:"DIAMOND",CIRCLE:"CIRCLE",ARROW_RIGHT:"ARROW_RIGHT",OPENARROW_RIGHT:"OPENARROW_RIGHT",SHARPARROW_RIGHT:"SHARPARROW_RIGHT"},Marker:{NONE:{type:"NONE",shapeIndex:0},ARROW_RIGHT:{type:"ARROW_RIGHT",markerType:"path",attr:{d:"M 0 0 L 10 5 L 0 10 z",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:8,refY:5,markerUnits:"strokeWidth",shapeIndex:2},OPENARROW_RIGHT:{type:"OPENARROW_RIGHT",markerType:"path",attr:{d:"M 0 0 L 10 5 L 0 10",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:9,refY:5,markerUnits:"strokeWidth",shapeIndex:3},SHARPARROW_RIGHT:{type:"SHARPARROW_RIGHT",markerType:"path",attr:{d:"M 0 0 L 10 5 L 0 10 L 5 5z",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:1},DIAMOND:{type:"DIAMOND",markerType:"path",attr:{d:"M 0,5 L 5,4.6e-007 L 10,5 L 5,10 L 0,5 z",stroke:"none"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:4},CIRCLE:{type:"CIRCLE",markerType:"path",attr:{d:"M1,5a4,4 0 1,0 8,0a4,4 0 1,0 -8,0",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:5},BOX:{type:"BOX",markerType:"path",attr:{d:"M0,0 10,0 10,10, 0,10 0,0z",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:6},ARROW_LEFT:{type:"ARROW_LEFT",markerType:"path",attr:{d:"M 10 0 L 0 5 L 10 10 z",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:2},OPENARROW_LEFT:{type:"OPENARROW_LEFT",markerType:"path",attr:{d:"M 10 0 L 0 5 L 10 10",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:2,refY:5,markerUnits:"strokeWidth",shapeIndex:3},SHARPARROW_LEFT:{type:"SHARPARROW_LEFT",markerType:"path",attr:{d:"M10,0 L0,5 L10,10 L5,5 z",fill:"none","stroke-width":2,"stroke-linecap":"butt"},viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:5,refY:5,markerUnits:"strokeWidth",shapeIndex:1}},MARKER_SHAPE:{START:{0:"NONE",1:"ARROW_LEFT",2:"SHARPARROW_LEFT",3:"OPENARROW_LEFT",4:"DIAMOND",5:"CIRCLE",6:"BOX"},END:{0:"NONE",1:"ARROW_RIGHT",2:"SHARPARROW_RIGHT",3:"OPENARROW_RIGHT",4:"DIAMOND",5:"CIRCLE",6:"BOX"}},MEDIA_TYPE:{APPLICATION_ATOM_XML:"application/atom+xml",APPLICATION_FORM_URLENCODED:"application/x-www-form-urlencoded",APPLICATION_JSON:"application/json",APPLICATION_JSON_UTF8:"application/json;charset=UTF-8",APPLICATION_OCTET_STREAM:"application/octet-stream",APPLICATION_XHTML_XML:"application/xhtml+xml",APPLICATION_XML:"application/xml",IMAGE_GIF:"image/gif",IMAGE_JPEG:"image/jpeg",IMAGE_PNG:"image/png",MULTIPART_FORM_DATA:"multipart/form-data",TEXT_HTML:"text/html",TEXT_PLAIN:"text/plain",TEXT_XML:"text/xml"},VIEWER_CONTROL:{ZOOM:{type:"ZOOM",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"IN",title:"확대",nodeType:"icon",triggerName:"trigger.change.zoom",className:"icon-zoom-in",disabled:!1},{type:"OUT",title:"축소",nodeType:"icon",triggerName:"trigger.change.zoom",className:"icon-zoom-out",disabled:!1}]},ZOOM_SELECT:{type:"ZOOM",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"ZOOM",title:"비율 선택",nodeType:"select",name:"zoomRatio",triggerName:"trigger.change.zoom",className:"sform--ui-select",disabled:!1,value:null,options:[{text:"선택",value:""},{text:"25%",value:.25},{text:"50%",value:.5},{text:"75%",value:.75},{text:"100%",value:1},{text:"125%",value:1.25},{text:"150%",value:1.5},{text:"200%",value:2},{text:"400%",value:4},{text:"화면맞춤",value:"FITSCREEN"},{text:"자동맞춤",value:"FITAUTO"},{text:"높이맞춤",value:"FITHEIGHT"},{text:"폭맞춤",value:"FITWIDTH"}]}]},ROTATE:{type:"ROTATE",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"checkbox",value:!1,label:"전체 회전",title:"전체 회전",nodeType:"input",triggerName:"trigger.change.rotate",name:"applyAllRotation",className:"check-global-rotate",disabled:!0},{type:-90,value:-90,title:"왼쪽 90도 회전",nodeType:"icon",triggerName:"trigger.change.rotate",className:"icon-rotate-left",disabled:!1},{type:90,value:90,title:"오른쪽 90도 회전",nodeType:"icon",triggerName:"trigger.change.rotate",className:"icon-rotate-right",disabled:!1},{type:180,value:180,title:"180도 회전",nodeType:"icon",triggerName:"trigger.change.rotate",className:"icon-rotate-180",disabled:!1}]},MAGNIFICATION:{type:"MAGNIFICATION",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"MAGNIFICATION",title:"돋보기",nodeType:"icon",triggerName:"trigger.magnification",className:"icon-magnifier-in",disabled:!1}]},FIT_ZOOM:{type:"ZOOM",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"FITWIDTH",title:"너비맞춤",nodeType:"icon",triggerName:"trigger.change.zoom",className:"icon-fitwidth",disabled:!1},{type:"FITHEIGHT",title:"높이맞춤",nodeType:"icon",triggerName:"trigger.change.zoom",className:"icon-fitheight",disabled:!1}]},FILTER:{type:"brightness",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:10,title:"밝게",nodeType:"icon",triggerName:"trigger.change.filter",className:"icon-brightness-up",disabled:!1},{type:-10,title:"어둡게",nodeType:"icon",triggerName:"trigger.change.filter",className:"icon-brightness-down",disabled:!1}]},FILE_DOWNLOAD:{type:"file.download",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"filedownload",title:"다운로드",nodeType:"icon",triggerName:"trigger.file.download",className:"button-default",disabled:!1,label:"다운로드"}]},FILE_PRINT:{type:"print",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"print",title:"프린트",nodeType:"icon",triggerName:"trigger.file.print",className:"icon-print",disabled:!1}]},FILE_SAVE:{type:"save",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"save",title:"주석 저장",nodeType:"icon",triggerName:"trigger.file.save",className:"icon-save",disabled:!1}]}},PAGENATION_CONTROL:{name:"PAGENATION_CONTROL",type:"movepage",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"first",title:"첫 페이지",nodeType:"icon",triggerName:"trigger.movepage",className:"icon-arrow-first",disabled:!1},{type:"prev",title:"이전 페이지",nodeType:"icon",triggerName:"trigger.movepage",className:"icon-arrow-back",disabled:!1},{type:"text",title:"현재 페이지",nodeType:"input",triggerName:"change.current.page.no",name:"currentPageNo",className:"current-page-number number",disabled:!1},{type:"text",title:"전체 페이지",nodeType:"input",triggerName:"change.total.page.no",name:"totalPageNo",className:"total-page-number number",disabled:!1},{type:"next",title:"다음 페이지",nodeType:"icon",triggerName:"trigger.movepage",className:"icon-arrow-next",disabled:!1},{type:"last",title:"마지막 페이지",nodeType:"icon",triggerName:"trigger.movepage",className:"icon-arrow-last",disabled:!1}]},VIEWER_TYPE_CONTROL:{IMAGE_THUMBNAIL_VIEW:{type:"ViewerType",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"IMAGE_THUMBNAIL",title:"이미지/썸네일 뷰",nodeType:"icon",triggerName:"trigger.change.viewer.type",className:"icon-image-thumbnail",disabled:!1}]},IMAGE_VIEW:{type:"ViewerType",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"IMAGE",title:"이미지 뷰",nodeType:"icon",triggerName:"trigger.change.viewer.type",className:"icon-image",disabled:!1}]},THUMBNAIL_VIEW:{type:"ViewerType",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"THUMBNAIL",title:"썸네일 뷰",nodeType:"icon",triggerName:"trigger.change.viewer.type",className:"icon-thumbnail",disabled:!1}]}},FILE_CONTROL:{FILE_DOWNLOAD:{type:"file.download",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"filedownload",title:"다운로드",nodeType:"icon",triggerName:"trigger.file.download",className:"button-default",disabled:!1,label:"다운로드"}]},FILE_PRINT:{type:"file.print",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"print",title:"프린트",nodeType:"icon",triggerName:"trigger.file.print",className:"icon-print",disabled:!1}]},FILE_SAVE:{type:"file.save",classDefaultName:d+"-ui-icon",disabled:!0,controlItem:[{type:"save",title:"주석 저장",nodeType:"icon",triggerName:"trigger.file.save",className:"icon-save",disabled:!1}]}},ANNOTATION_CONTROL:{PROPERTY:{type:"prop",classDefaultName:d+"-ui-icon",disabled:!1,controlItem:[{type:"font-color",title:"글꼴 색",nodeType:"icon",triggerName:"trigger.set.annotation.color",className:"icon-color-font icon-color",disabled:!1,value:"#000000",targetNode:null,innerHTML:'<span class="color" style="background: #000000;">&nbsp;</span>'},{type:"stroke",title:"선 색",nodeType:"icon",triggerName:"trigger.set.annotation.color",className:"icon-color-stroke icon-color",disabled:!1,value:"#000000",targetNode:null,innerHTML:'<span class="color" style="background: #000000;">&nbsp;</span>'},{type:"fill",title:"채우기 색",nodeType:"icon",triggerName:"trigger.set.annotation.color",className:"icon-color-fill icon-color",disabled:!1,value:"#ffffff",targetNode:null,innerHTML:'<span class="color" style="background: #ffffff;">&nbsp;</span>'},{type:"index_first",title:"맨 앞으로",nodeType:"icon",triggerName:"trigger.set.annotation.index",className:"icon-index-first",disabled:!1},{type:"index_last",title:"맨 뒤로",nodeType:"icon",triggerName:"trigger.set.annotation.index",className:"icon-index-last",disabled:!1},{type:"index_front",title:"앞으로",nodeType:"icon",triggerName:"trigger.set.annotation.index",className:"icon-index-front",disabled:!1},{type:"index_back",title:"뒤로",nodeType:"icon",triggerName:"trigger.set.annotation.index",className:"icon-index-back",disabled:!1}]},ITEM:{DISPLAY:{type:"display",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"show",title:"주석 보이기",nodeType:"icon",triggerName:"trigger.display.annotation",className:"icon-annotation-show",value:!0,disabled:!1},{type:"hide",title:"주석 숨기기",nodeType:"icon",triggerName:"trigger.display.annotation",className:"icon-annotation-hide",value:!1,disabled:!1}]},SELECT:{type:"select",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"select",title:"주석 선택",nodeType:"icon",triggerName:"trigger.selected.annotation",className:"icon-select",disabled:!1}]},RECT:{type:"rect",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"rect",title:"Rect",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-rect",disabled:!1}]},CIRCLE:{type:"circle",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"",controlItem:[{type:"circle",title:"circle",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-ellipse",disabled:!1}]},ELLIPSE:{type:"ellipse",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"ellipse",title:"ellipse",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-ellipse",disabled:!1}]},LINE:{type:"line",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"line",title:"line",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-line",disabled:!1}]},ARROWLINE:{type:"arrowline",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"arrowline",title:"arrowline",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-arrow",disabled:!1}]},POLYLINE:{type:"polyline",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"visual",controlItem:[{type:"polyline",title:"polyline",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-polyline",disabled:!1}]},POLYGON:{type:"polygon",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual",controlItem:[{type:"polygon",title:"polygon",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-polygon",disabled:!1}]},PEN:{type:"pen",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual idoc",controlItem:[{type:"pen",title:"pen",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-pen",disabled:!1}]},HIGHLIGHTER_RECT:{type:"highlighterRect",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform idoc",controlItem:[{type:"highlighter",title:"highlighter",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-highlighter",disabled:!1}]},HIGHLIGHTER:{type:"highlighter",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"visual",controlItem:[{type:"highlighter",title:"highlighter",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-highlighter",disabled:!1}]},MEMO:{type:"memo",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform visual",controlItem:[{type:"memo",title:"memo",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-text",disabled:!1}]},MEMOPAD:{type:"memopad",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform",controlItem:[{type:"memopad",title:"memopad",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-memopad",disabled:!1}]},STAMP:{type:"stamp",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform",controlItem:[{type:"stamp",title:"stamp",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-stamp",disabled:!1}]},CHECKMARK:{type:"checkmark",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform idoc",controlItem:[{type:"checkmark",title:"checkmark",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-checkmark",disabled:!1}]},POLYCURVE:{type:"polycurve",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"visual",controlItem:[{type:"polycurve",title:"polycurve",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-polycurve",disabled:!1}]},TEXT:{type:"text",classDefaultName:d+"-ui-icon",disabled:!0,viewerCompatType:"",controlItem:[{type:"text",title:"text",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-text",disabled:!1}]},PROTRACTOR:{type:"protractor",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"visual",controlItem:[{type:"protractor",title:"protractor",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-protractor",disabled:!1}]},ARC:{type:"arc",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"visual",controlItem:[{type:"arc",title:"arc",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-arc",disabled:!1}]},IMAGE:{type:"image",classDefaultName:d+"-ui-icon",disabled:!0,viewerCompatType:"",controlItem:[{type:"image",title:"image",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-image",disabled:!1}]},MASK:{type:"mask",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"idoc",controlItem:[{type:"mask",title:"mask",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"button-default",disabled:!1,label:"마스킹"}]},ETERNITYRECT:{type:"EternityRect",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"iform",controlItem:[{type:"EternityRect",title:"마스킹",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"button-default",disabled:!1,label:"마스킹"}]},HIDDENAREA:{type:"hiddenarea",classDefaultName:d+"-ui-icon",disabled:!0,viewerCompatType:"iform",controlItem:[{type:"hiddenarea",title:"마스킹",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"button-default",disabled:!1,label:"마스킹"}]},EDITTEXT:{type:"edittext",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"",controlItem:[{type:"edittext",title:"text",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-text",disabled:!1}]},STICKYNOTE:{type:"stickynote",classDefaultName:d+"-ui-icon",disabled:!1,viewerCompatType:"idoc",controlItem:[{type:"stickynote",title:"StickyNote",nodeType:"icon",triggerName:"trigger.set.annotation.type",className:"icon-text",disabled:!1}]}}},SERVICE_TYPE:{API:"api",RESOURCE:"resource"},MAGNIFIER_TYPE:{xsmall:{width:150,height:100},small:{width:250,height:200},medium:{width:400,height:300},large:{width:700,height:500}},VIEWER_CONFIG:{container:null,wrapper:null,globalTransform:!0,zoom:"fitauto",minZoom:.25,maxZoom:4,zoomRatio:.25,angle:0,width:0,height:0,hAlign:"",editable:!0,draggable:!1,visible:!0,transform:0,isMulti:!1,resize:!0,showScroll:!1,isVisibleWatermark:!1,annotationEnable:!1,annotationViewMode:"all",renderNodeType:"canvas",renderType:"",renderQuality:"",secLevel:0,watermark:{visible:!0,type:"text",message:"Copy",position:"center center"},magnifier:{type:"small"},style:{position:"absolute","background-color":"#ffffff",left:"0px",top:"0px"},annotation:{visible:!0,editable:!0,fill:"#ffffff","fill-opacity":.5,stroke:"#000000","stroke-width":3,"font-family":"굴림","font-size":12,"font-weight":"normal","font-style":"normal","font-color":"#000000"},layerOptions:{toolbarControl:!0,viewerControl:!0,annotationControl:!1,thumbnailControl:!0,pageControl:!0,propertyControl:!0},zoomOptions:{isDblclickEnabled:!1}},PRINT_PAGE_TYPE:{PAGE_TYPE_A4:{name:"A4",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_A4"},PAGE_TYPE_A5:{name:"A5",web:"A5",width:8.267,height:11.693,batch:"PAGE_TYPE_A5"},PAGE_TYPE_A6:{name:"A6",web:"A4",batch:"PAGE_TYPE_A6"},PAGE_TYPE_A7:{name:"A7",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_A7"},PAGE_TYPE_B5:{name:"B5",web:"B5",width:8.267,height:11.693,batch:"PAGE_TYPE_B5"},PAGE_TYPE_B6:{name:"B6",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_B6"},PAGE_TYPE_B7:{name:"B7",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_B7"},PAGE_TYPE_POST_CARD:{name:"엽서",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_POST_CARD"},PAGE_TYPE_NAME_CARD:{name:"명함",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_NAME_CARD"},PAGE_TYPE_A4_LANDSCAPE:{name:"A4 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_A4_LANDSCAPE"},PAGE_TYPE_A5_LANDSCAPE:{name:"A5 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_A5_LANDSCAPE"},PAGE_TYPE_A6_LANDSCAPE:{name:"A6 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_A6_LANDSCAPE"},PAGE_TYPE_A7_LANDSCAPE:{name:"A7 가로",web:"A4",batch:"PAGE_TYPE_A7_LANDSCAPE"},PAGE_TYPE_B5_LANDSCAPE:{name:"B5 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_B5_LANDSCAPE"},PAGE_TYPE_B6_LANDSCAPE:{name:"B6 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_B6_LANDSCAPE"},PAGE_TYPE_B7_LANDSCAPE:{name:"B7 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_B7_LANDSCAPE"},PAGE_TYPE_POST_CARD_LANDSCAPE:{name:"엽서 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_POST_CARD_LANDSCAPE"},PAGE_TYPE_NAME_CARD_LANDSCAPE:{name:"명함 가로",web:"A4",width:8.267,height:11.693,batch:"PAGE_TYPE_NAME_CARD_LANDSCAPE"}},UI:{LOADING_BAR:{THUMBNAIL:"data:image/gif;base64,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",
VIEWER:"data:image/gif;base64,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",POPUP:"data:image/gif;base64,R0lGODlhIwAjAPUAAP///zM+SOLk5dnb3fHx8szP0fLz8/r6+9LV19ze3+fo6c/S1Pf3+NfZ2+zt7t/h4sbJy+rr7JedorK2ujxHUH6Fi56jqJSan4qRljM+SIGIjmRsdLm8wKqvs251fVZfZ7zAw77BxKaqr3F4f3d/hamtsklTXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIwAjAAAG/0CAcEgsGo/IpFExcCifSgGkUDBAr8QDlZrAegnbAsJrNDwUByJ4OyYqIBCr0lCYIhhD+nZALEguFyJpSQlhBYMACFQQEUMIgBKRD0oKhl1ChVR4AAQXkZ8ETwuGcg5UbQATnpEXEFAMhg1CWgUCQg+rgBNYDA1bEKGJBU4HFqwSh2QKowULmAVCBZAgTmSzD3WNB40GfxMKWAcGBJtDvZdCAhOTQ9sNCwPBQwJbCwgCBIhJEQgdGB4bAnpIBoCeISoLElQzAkEDwA0fAkrcUELIgIO/IIArcgADxIkgMQhZY2hBgwfyOD7g8A/kBxLQhBgYgMDkAwf6cgIbEiGEBZcNIzSISKnEwTs3FChw0AeAqRIGFzU2RZCmQoYMG5xZY4ANoZA3ThJcvYphIRRTYaoNgGALwIWxGShofeJgyhZZTU/JhHuVXRJaYTahLbCpA98P5Y4YXNQWQKZhsyjwjYlkcQG8QhRxmTdZyQHNfgHo0TskwYerGqCIS8wpzFyZVJxiGS3G2hVmbG1DWUNVNxQmRH0LLxIEACH5BAkKAAAALAAAAAAjACMAAAb/QIBwSCwaj8ikUTFwKJ9KAaRQMECvxAOVmsB6CdsCwms0PBQHIng7JjIEgrTSUJgiGEP6dkBU1MVPCWEFcgAIVBARQxFTWwRKfmFdQoJUeABag4VIC4NWAA5UbQADYRACUAyDDUKZD0JriHxXDA1bEI+GBU4AnVsKZAAKvguUBUIKjQ+XwQcPdYoH0VQDzE8HBgTWALWTQgYDuXkCZ9sCWwsIAgSbSARSExYS8xavQueDVAsJvEYN8RcCzhsoAYKQUvkQQQBmZELACwQHXpgAK+GCBg/EGYmwAKDAgCK8gUNw8YGDTe0QfAJgoEGIDhY6hNiWxEGDNngIbBhBKJibnlILAQgw4cTChw0YvHlh8EyfkAsZOoDaQHWDiJVQQoXJ9SEDCSETjm74QGLWEweNqLASliGDCTwHPFSlyjBJpjCXJrTNMAuC2LEa2hXBhwiVkBF7pWIiMXeD2SOEC6xlaWKvh0WNHxs5cKiAPSEF9rotpEADVQtQsG0LIZqCtVqayYTea0KwTyIGKOzVcPsJiLZEeys5cMEDB+HIkQQBACH5BAkKAAAALAAAAAAjACMAAAb/QIBwSCwaj8ikUTFwKJ9KAaRQMECvxAOVmsB6CdsCwms0PBQHIng7JjIEgrTSUJgiGEP6dkBU1MVPCWEFcgAIVBARQxFTWwRKfmFdQoJUeABag4VIC4NWAA5UbQADYRACUAyDDUKZD0JriHxXDA1bEI+GBU4AnVsKZAARvguUBUIKjQ+XwQcPdYoH0VQDn1AHBgTMQrWTQgYDuUPYBAabAAJbCwgCBOdHBwQKDb4FC+Lpg1QLCbxGDqX0bUFFSiAiCMCMlGokcFasMAsaCLBmhEGEAfXYiAOHIOIDB4UYJBwSZ5yDB/QaPHgHb8IHClbSGLBgwVswIQs2ZMiAARQJoyshLlyYMNLLABI7M1DA4zIEAAMSJFyQAGHbkw5Jd04QouGDBSEFpkq1oAiKiKwZPsDasIFEmgMWxE4VhyQB2gxtILDdQLCBWKkdnmhAq2GIhL1OhYj4K6GoEQxZTVxiMILtBwlDCMSN2lhJBAo7K4gbsLdtIQIdoiZW4gACKyI5947YdECBYzKk97q9qYSy5RK8nxRgS4JucCMHOlw4drz5kSAAIfkECQoAAAAsAAAAACMAIwAABv9AgHBILBqPyKRRMXAon0oBpFAwQK/EA5WawHoJ2wLCazQ8FAcieDsmMgSCtNJQmCIYQ/p2QFTUxU8JYQVyAAhUEBFDEVNbBEp+YV1CglR4AFqDhUgLg1YADlRtAANhEAJQDIMNQpkPQmuIfFcMDVsQj4YFTgCdWwpkABG+C5QFQgqND5fBBwJ1igfRVAOfUFIhCdaYA5NCBgO5QwcGBAabBxoZ6xQmGCGoTwcECg2+BQviGOv8/BQeJbYNcVBqUJh4HvopXIfhSMFGBmdxWLjOBAkOm9wwucdGHIQNJih8IDEhwaUDvPJkcfDAXoMHGQEwOJARQoUReNJoQSAuGCWdDBs+dABgQESaB1O0+VQgYYNTD2kWYGCViUocLyGcOv1wDECHCyGQQVwgEEmID1o3aBDCQMIFo0I4EnqiIK3TeAkuSJDAywFEQEpEpP0gYggIvRdYCTkUpiyREmiDapBzQARiDuM8KSFAwqkFa0z3Sig8pJZVKAYQxBvyQLQEC2UcYwm9l7TPJAcsIIZw+0nrt8x6I4HAwZvw40WCAAAh+QQJCgAAACwAAAAAIwAjAAAG/0CAcEgsGo/IpFExcCifSgGkUDBAr8QDlZrAegnbAsJrhGgsESJ4OyYyBILDs5CpUwZDQxg/VBSmbUkkdYROQghUEGlCEVNbBEoWhHUeQwlbDEJaYQVySQQUkxkQjFSBA2EQAlAIoh+aVA9Ca4l8UA0mkxOHBYYLYQpkBpJ2mZdCCo4PmWRCAoMZEgAHaZsDVlcRDQsKzEILHyNEBgOQWQYEBp6aIhvuHiQiCIYA2EYHBArbWwvmAB0f3Al8dyGENyIOUHEKswoAhoEDP0jcZUSho4V8CkAM6OFMJyQMmPzihMBfAwwkRpyB0C1PEXvTHDzY1uDBuiEHbgpJUMLCOpAtJZsViTDhAoYC0xDIeTAlAUwsDkBIuCDBJ4BkTjZRieOlwVQJU7sAGKAK2cUFT5EguEB1agdYYoaM3KLTCAGweC8YcoBJiIOLcZVAaDuV1M4t9BCFSUtkMNgLHdYpLiB2GifGQxiIABtinR42bhpshfKG3qwwC4wYwHzlsymhUEaWha1kjVLaT5j4w827SBAAIfkECQoAAAAsAAAAACMAIwAABv9AgHBILBqPyGTxgBlNlFBlJUMtRK9EAYWa8WC/IW7GdPgWGxYOgRjmUspDhkAATw42n81IMCyIN3UKBRAFCFASG4kfHmsABiZcFkMRhAWWjUggeYkbGEMeXA1CB5alBXVHBiOceA9CHVQUDEIDphB8UAmsGxq0VL0ABLYDWA8VnB9WjxlPAAumCmYHEx6JI2Wga5SWD7NmQhEWeBwACSIApAUDBlgEAg8OqA8aF0QGA5ijBgQGqAAhFiRIsCACwgN2QrwZOeBuwDNLCzBBuCBQ4IWLaRr4E+LAoamPuCZUHCnhIgYrRmoN+liKWLmSFTF2COEKCQMFHj8iwKRgggieCzPx1fGHcJSDBw0WNHiwEQmBpERI7fxWhEEtCNEOICjzgFCCol8YPCi1QIgCCA7QmaLzxcHHtAAG3DJbqcACsEkc1C0gSm2hIQ9LNY3K0ptbS4b3GlIiwBaucqXgAkDwEW+RxqX6CqFsKcGQdKUsR+VcU4gBU4sTNrD0OMkBAwqFCCNrxIBoLKdLpaaa5OFc3kpmbwUOBWc+4siJBAEAIfkECQoAAAAsAAAAACMAIwAABv9AgHBILBqPyGTx0LlAlFCl6LPZDKJYYsRT3Vyy4EV3QzqAi4LQgkEUd0fm4QKDUUAVksvF4hg2xhhEEhmEJgZKIBcSeRZsAAwkVR8cQyKElyBKC4qLF5RCF1QbD0IDl5ekSQcWnHl2ACFVJI4bpxkaURF5nR1CChsfIkIcthtxUBFNihcJj5EFjxSnGI5YBwuse2YXG4cXlyMNZ0MGIRIY4gohAAKEH0/WBgTVQg4dmUMQGxPHAAfyBvqxK0BwAQIBBI4JHPJPQYMFBAssIDBEQMSLEhP0OeJgAEaMAkp9jAgBwqsiHgtAGFngCgACIxc0eEARCQMFAyBiRFATgIGeAQhkPnDQT+Ahhg4ePJy5EImDh0QOFOA5rggDjyb9ITDzYGWCo2cYPIi4wBeEPlIjCmjqFOPGARBCAlCwsiBYJQ7qEhTnjyACORjZMvzoyEHEwnqnQrFIUi6ABBE3AkCA8a4RxnuJUCbYTEjaiJaXbE4lxMDFv0MYNCDoWJUBei8vli1iIDQY0xFRV9VEMO5uKDCnCv7ta0BP4siLBAEAIfkECQoAAAAsAAAAACMAIwAABv9AgHBILBqPyKQRwkkon8rQRSJRQK9Eg2V64WC/DypV9DUaHooDMSwWqYcJkcjxNBQgBQRjqBBfJkQTGxsfJHtJCQWKim8HIlwLQxwfg4ORSQqLik5CHFMSEUIKlZWhSguaBQZCDRcXbkIYpB8lUAypDUIErhBCCJSDHxhvTwwNixAEAI4XTgcjpBPEVwqoeUIgF2oTwBICZUMHD3ehBLkRgxgDWAcGBIdDxpysGAXEBwIQIQV0RAKLCxAIIDANST5ZFDIopBDizb9UihYk6GekwwaFGDNmwCBkAERkEKwUOXBRo0YPuj4uaPBA2ZEDBSSU1GgCxBADAxCsfOBgWsGXVULwdajwgcKHCqagOGhwKWgeoOEOFEzCwGPIZQjUPMCTAN4XBuMiioJAB+aib18cpOo3AAJaBXgiQlXiIK6iXMsUIRhibdHUkRAPqVUk2O41JQ8VuYWziCKCVHONJC6A19eieWYXRR75uMCDLJr2xjtWAK2Sdl4BENDU9ObmL3YWiQb3xNpi2k9W5/mLu4iCAS57C0cSBAA7AAAAAAAAAAAA"}},CONTROL_POSITION_TYPE:{TOP:1,LEFT:3,RIGHT:7,BOTTOM:10},CONTROL_POSITION_STYLE:{1:{class:"top",direction:"horizontal"},3:{class:"left",direction:"vertical"},7:{class:"right",direction:"vertical"},10:{class:"bottom",direction:"horizontal"}},RESOURCE:{ICON:{BOOKMARK:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAk9QTFRFAAAA019f1WBg1F9f015e02Ji01tb0YCA019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f02Bg019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f019f02Bg02Bg019f015e2nh41Who121t89PT3oiI0l1d02Bg6rGx//7+7Lm502Fh011d3IGB+u7u////+ejo2HJy1Wdn8tDQ/vv74ZKS5aKi/vr68cvL1GRk++/v2nl51GNj78TE5aCg4ZOT/fb29NnZ1mlp2HBw9t/f/PX13YKC67e33oaG+/Hx+OTk129v1mpq9NXV4I2N56mp/vz878PD23x8+uvr+u3t2XZ20lxc1WRk8MrK/v3945qa1GJi1WVl1mtr2HFx2XR023t73H5+3YWF34yM6rKy/fj43H9/8MfH8tHR89TU9NjY9dvb9t7e9+Hh+/Dw+/Ly/PT0/PPz0ltb7sHB89LS45iY1mho12xs9t3d7sLC4paW2Xd32nd37b+/2XV1+uzs9dra7b294I+P1WZm7Lq64I6O6Kqq5Jyc7sDA3YOD4peX6Kys9NbW235+7by8125u5qKi6K2t9+Tk8s/P//3967a234qK7Lu72np63ICA34uL8czM+Obm45mZ3oeH/ff35aGh78bG/Pb2+enp67i43YSE9+Dg89XV2HNz5Jub67W14JCQ1GFh8MjI9+Pj4ZCQ9+Li1mxs2XNz6rS04YmyAAAAADB0Uk5TAAAAAAAAAAAEGx8exuLh9fb8x09Ty3MYeuXzny4DAzKoTQoMUuDk5xqELzOMAgYHg21ZXAAAAAFiS0dEQP7ZXNgAAAAJcEhZcwAAnXsAAJ17ATyfd8QAAARBSURBVHja7dtnVxNBFAZgo6JGBMVesfeWG8CNMQsTAxiVKFhQiiUKVmJDUQHBihXFXlHEhr33Xn6YSYzJJGRnd7MzrkfnfuSEuc++NzuzIYc2bXjx4vV3lqGTsXM8xeps7GRQBzB2SUikWAldjCoB8YkmqpUYzwEcwAEcwAHMAKA3wJyihMAMAKlpUwQ9AZap1mk2HQFiegayT1cwA0YAcGQilJWtYAasADOcCKGZs/QCgNnu7Y9m54g6AVxzfP2Rda5OAMjN8wPQvPmyb0MWAFiw8Fd/lL9I9m3IAmBbbA0A0FQ9RiAWFP7uj4qK5WZAHwBLlgb7I+cyuRkwSGC5OwRAK1x/GgArS7D+qHQVsAeAv0RR8NbqNWvx/mjdeoElwFbmmuVxzN+QWrxxk3nzlvTyrbnbKsIAKM0B7ACwfcfOyqrqXTVF9pKM2t178iqcbmt4f7R3+z4RWAFMjv2R/VqV9UCd+aBFkERoA8ChTDmA91SuPXzk6DGHSQD6ABPUL5QX+BAZ1cezT0RDaL0LoLxBkcC3KZWePHV605kIhObbEI7uUSrwIRqqzp7baKG6D1jOO1UIvFV4gS4APBdlbwW8GurCdmcKOyGkHlDRv/qSie57wCcw1yht754T+ahO5TCCAoW3Qv7yVhszndMQLucr6W/PtlHfBwJlu5Il297aeDXKXkgJAB7ZU8F5rSnaQzqtBxJoqiT3333dw+IsCJXYTOx/Y6sl+nlIDeC6SWh/KzOHzXGMjWCBnXD3394g+RmNFkC4UyENmL1K+sGQ2ghaCBMovCuyBkBKNQGQf495AmJOLQFQUc4eMHcdAZB1nzmg7AFpE3Bnr2YMgKaHJID1EWuA8PgJcR98yhpguh3WL6/x2fOwHzQDY4CjChv4i5evUlynX+OnY4uFLUCszwje8m8evbV4n/xhegs2lbVljAHv3IGLf78oJfC5A1wfaoIhNHrYAj5+8l98ZZ3/4oO3xttgCIcPAksApH72X7wj4pMfuL4EQvj6jSlAuFSSFn7xkSHYi9kmUJ/uiP7Z+3cIpd+ZAkwgSN/n/hBqzcwfSKTLG8LXvVskT6M/8bUdfP9xVccEfIIy6T9X/stfXHIAB3AAB3AAB3AAB/zvgK7ddAUkde/Rs1eSfoCE3n3atjP27acToP+AgYO8qxqSBw/pqgMgqfvQYe3jfK+Naz98hOwcqAN86QeXNBhk50AZEEgfe73cHKgCQumHSm4ONAFh6WO/QpwDPUCr9JXNgRYgWvqK5kAJIJG+gjlQARDSl50DBQA5fbk5aAfIpk+eg1aAovRJc9AGUJo+YQ6aACrSx1YIn4MGgMr0sTXwOcQMUJ9+qPA5xAqIKX1smeAcYgPEnD62UGAOsQC0pB+qwBzUA0aO0pY+tpZ3DqNVA8aMHac1fWy15PET1P6738RJHTSnH6q4jpOTqV0OL168KNdPT4xc9TixAOMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMDFUMTE6NTE6NTQrMDI6MDA4JP4+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTAxVDExOjUxOjU0KzAyOjAwSXlGggAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE2LTA2LTE2IFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ+a/NLYAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADUxMsDQUFEAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTI3ODQ2NzE0m4Hi+QAAABJ0RVh0VGh1bWI6OlNpemUAOC4xS0JCye1RsgAAAER0RVh0VGh1bWI6OlVSSQBmaWxlOi8vLi91cGxvYWRzLzU2L1d2M0R2VzkvMTUwMS91c2VyYm9va21hcmtzXzEwMzUyOS5wbmfGneeXAAAAAElFTkSuQmCC"}},PRINT_SERVICE_TYPE:{CUSTOMURI:"customURI",AJAX:"ajax",WEBSOCKET:"websocket"}});return a.Type=e}),InziSForm.create(function(a,b,c){"use strict";var d=a.Type,e={BROWSER_MSIE_VERSION:new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),BROWSER_NETSCAPE_VERSION:new RegExp("rv:([0-9]{1,}[.0-9]{0,})"),BROWSER_CHROME_VERSION:new RegExp("Chrome/([0-9]{1,}[.0-9]{0,}[.0-9]{0,}[.0-9]{0,})"),DOCTYPE_MSOFFICE:new RegExp("xls|xlsx|ppt|pptx|doc|docx","gi"),DOCTYPE_AUDIO:new RegExp("amr|dmd|mp3|pdm|3gp|m4a|wma|wav","gi"),DOCTYPE_VIDEO:new RegExp("avi|asf|asx|mpg|mpeg|mpe|mp4|wmv|rm|mov|dat|mkv|skm|k3g|3pg","gi"),DOCTYPE_IMAGE:new RegExp("jpg|jpeg|png|bmp|tiff|tif|jb2|pdf","gi"),DOCTYPE_TXT:new RegExp("txt","gi"),DOCTYPE_HWP:new RegExp("hwp","gi"),DOCTYPE_ADOBE:new RegExp("pdf","gi")},f={isNumeric:function(a){return a="string"==typeof a?a.replace(",","."):a,!isNaN(parseFloat(a))&&isFinite(a)&&"[object array]"!==Object.prototype.toString.call(a).toLowerCase()},isFunction:function(a){return"function"==typeof a},isNotEmpty:function(a){var b=String(a).trim();return!(null===b||void 0===b||"null"===b||"undefined"===b||""===b||"NaN"===b)},isEmpty:function(a){return!this.isNotEmpty(a)},toNotEmpty:function(a,b){return this.isEmpty(a)?b:"number"==typeof b?this.toInt(a):a},toInt:function(a,b){return a+="",this.isNotEmpty(a)?(b=b||10,parseInt(a,b)):a},toFloat:function(a,b){if(this.isNotEmpty(a)){if(b=b||0,"number"==typeof a)return parseFloat(a.toFixed(b));if("string"==typeof a)return parseFloat(a,b)}},mapToString:function(a,b,c){var d=[];b=b||"",c=c||"";for(var e in a)this.hasOwn(a,e)&&d.push(e+b+a[e]);return d.join(c)},hasOwn:function(a,b){return"hasOwnProperty"in a?a.hasOwnProperty(b):Object.prototype.hasOwnProperty.call(a,b)},hasClass:function(a,b){if(a.className){return!!~(a.className.baseVal.match(/\S+/g)||[]).indexOf(b)}return!1},parent:function(a,b){var c=this.parents(a,b,1);return null==c?null:c[0]},parents:function(a,b,d){var e,f=[];for(b&&(e=b.charAt(0));a&&a!==c&&(b?("."===e&&a.classList.contains(b.substr(1))&&f.push(a),"#"===e&&a.id===b.substr(1)&&f.push(a),"["===e&&a.hasAttribute(b.substr(1,b.length-2))&&f.push(a),a.tagName.toLowerCase()===b&&f.push(a)):f.push(a),f.length!==d);a=a.parentNode);var g=f.length;return 0===g?null:f.slice(0,d>g?g:d)},stringByteLength:function(a,b,c,d){for(b=c=0;d=a.charCodeAt(c++);b+=d>>11?3:d>>7?2:1);return b},stringToArrayBuffer:function(){},arrayBufferToString:function(a){return String.fromCharCode.apply(null,new Uint16Array(a))},stringToBase64:function(){},base64ToString:function(a){for(var c="",d=new Uint8Array(a),e=d.byteLength,f=0;f<e;f++)c+=String.fromCharCode(d[f]);return b.btoa(c)},base64ToArrayBuffer:function(a){for(var c=b.atob(a),d=c.length,e=new Uint8Array(d),f=0;f<d;f++)e[f]=c.charCodeAt(f);return e.buffer},arrayBufferToBase64:function(a){for(var c="",d=new Uint8Array(a),e=d.byteLength,f=0;f<e;f++)c+=String.fromCharCode(d[f]);return b.btoa(c)},createDataUrl:function(a,b){return"data:"+a+";base64,"+b},dateFormat:function(a,b){var c,d=this;if(!a.valueOf())return" ";var e=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];return b.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,function(b){switch(b){case"yyyy":return a.getFullYear();case"yy":return d.lpad((a.getFullYear()%1e3).toString(),2,"0");case"MM":return d.lpad((a.getMonth()+1).toString(),2,"0");case"dd":return d.lpad(a.getDate().toString(),2,"0");case"E":return e[a.getDay()];case"HH":return d.lpad(a.getHours().toString(),2,"0");case"hh":return d.lpad(((c=a.getHours()%12)?c:12).toString(),2,"0");case"mm":return d.lpad(a.getMinutes().toString(),2,"0");case"ss":return d.lpad(a.getSeconds().toString(),2,"0");case"a/p":return a.getHours()<12?"오전":"오후";default:return b}})},lpad:function(a,b,c){if(!a||a.length>=b)return a;var d=(b-a.length)/c.length;c=c||" ";for(var e=0;e<d;e++)a=c+a;return a},rpad:function(a,b,c){if(!a||a.length>=b)return a;var d=(b-a.length)/c.length;c=c||" ";for(var e=0;e<d;e++)a+=c;return a},extend:function(a,b,c){c=void 0!==c&&c;for(var d in b)b.hasOwnProperty(d)&&(Array.isArray(a[d])||null===a[d]?a[d]=b[d]:a.hasOwnProperty(d)?"object"==typeof a[d]?a[d]=this.extend(a[d],b[d]):a[d]=b[d]:c&&(a[d]=b[d]));return a},data:function(a,b){if(void 0===a)return this._data;if(void 0===b){if("object"==typeof arguments[0]){for(var c in a)this._data[c]=a[c];return this}return this._data[a]}return this._data[a]=b,this},clone:function(a){if(null===a||"object"!=typeof a)return a;var b,c=a.constructor();for(b in a)a.hasOwnProperty(b)&&(c[b]=this.clone(a[b]));return c},bind:function(a,b,d,e){var f=b.split(" ");e=void 0!==e&&e;for(var g=0,h=f.length;g<h;g++){var i=f[g];this.isNotEmpty(i)&&(c.addEventListener?a.addEventListener(i,d,e):c.attachEvent&&a.attachEvent("on"+i,d))}},unbind:function(a,b,d){for(var e=b.split(" "),f=0,g=e.length;f<g;f++){var h=e[f];this.isNotEmpty(h)&&(c.removeEventListener?a.removeEventListener(h,d):c.attachEvent&&a.detachEvent("on"+h,d))}},namespace:function(a){var b,c=a.split("."),d=InziSForm;for("InziSForm"===c[0]&&(c=c.slice(1)),b=0;b<c.length;b+=1)void 0===d[c[b]]&&(d[c[b]]={}),d=d[c[b]];return d},isMobile:function(){return{Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Opera:function(){return/Opera Mini/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}},isSupportCanvas:function(){return!!b.HTMLCanvasElement||"undefined"===b.G_vmlCanvasManager},isSupportSVG:function(){return!!b.SVGElement},eventStop:function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},generateId:function(a,b){return b||(b="__"),b+a},domReady:function(a){var b=c.addEventListener?"DOMContentLoaded":"onreadystatechange";this.bind(c,b,a)},IEVersion:function(){var a,b=-1,c=navigator.appName||"",d=navigator.userAgent;return"Microsoft Internet Explorer"===c?(a=e.BROWSER_MSIE_VERSION,null!==a.exec(d)&&(b=this.toFloat(RegExp.$1))):"Netscape"===c&&-1!==d.indexOf("Trident")&&(a=e.BROWSER_NETSCAPE_VERSION,null!==a.exec(d)&&(b=this.toFloat(RegExp.$1))),b},ChromeVersion:function(){var a=-1,b=e.BROWSER_CHROME_VERSION,c=navigator.userAgent;return null!==b.exec(c)&&(a=RegExp.$1.substring(0,4),a=this.toFloat(a)),a},isBrowser:function(){return{wIE:function(){return/MSIE|Trident/i.test(navigator.userAgent)},wEdge:function(){return/Edge/i.test(navigator.userAgent)},wChrome:function(){return/Chrome/i.test(navigator.userAgent)},wSafari:function(){return/Safari/i.test(navigator.userAgent)},wOpera:function(){return/Opera/i.test(navigator.userAgent)},wFirefox:function(){return/Firefox/i.test(navigator.userAgent)},anyWeb:function(){return this.wIE()||this.wEdge()||this.wChrome()||this.wSafari()||this.wOpera()},mAndroid:function(){return/Android/i.test(navigator.userAgent)},mBlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},mIOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},mOpera:function(){return/Opera Mini/i.test(navigator.userAgent)},mWindows:function(){return/IEMobile/i.test(navigator.userAgent)},anyMobileWeb:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}}},getSlope:function(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2),Math.pow(a[1]-b[1],2))},getRandomId:function(b){var c=(new Date).getTime();return["__",a.moduleIdPrefix,"_",b?b+"_":"",c].join("")},pxToCm:function(a,b){return a/37.795276},cmToPx:function(a,b){return b=b||d.GraphicUnitReferenceValue.PX,this.convertInchBasedGraphicUnit(this.convertInch(d.GraphicUnitType.INCH,a),d.GraphicUnitType.PX)},inchToPx:function(a){return this.convertInchBasedGraphicUnit(d.GraphicUnitType.PX,a)},convertInchBasedGraphicUnit:function(a,b){var c=0;switch(a){case d.GraphicUnitType.INCH:c=b;break;case d.GraphicUnitType.CM:c=b*d.GraphicUnitReferenceValue.CM;break;case d.GraphicUnitType.MM:c=b*d.GraphicUnitReferenceValue.MM;break;case d.GraphicUnitType.PX:c=b*d.GraphicUnitReferenceValue.PX;break;case d.GraphicUnitType.PT:c=b*d.GraphicUnitReferenceValue.PT;break;case d.GraphicUnitType.DXA:c=b*d.GraphicUnitReferenceValue.DXA;break;case d.GraphicUnitType.EMU:c=b*d.GraphicUnitReferenceValue.EMU}return c},convertInch:function(a,b){var c=0;switch(a){case d.GraphicUnitType.INCH:c=b;break;case d.GraphicUnitType.CM:c=b/d.GraphicUnitReferenceValue.CM;break;case d.GraphicUnitType.MM:c=b/d.GraphicUnitReferenceValue.MM;break;case d.GraphicUnitType.PX:c=b/d.GraphicUnitReferenceValue.PX;break;case d.GraphicUnitType.PT:c=b/d.GraphicUnitReferenceValue.PT;break;case d.GraphicUnitType.DXA:c=b/d.GraphicUnitReferenceValue.DXA;break;case d.GraphicUnitType.EMU:c=b/d.GraphicUnitReferenceValue.EMU}return c},generateElementId:function(b,c){return"__"+a.moduleIdPrefix+"_"+b+"__"+c},globalLocation:function(){var a=b.location;if(void 0!==a){var c=a.protocol;return c=c.substring(0,c.length-1),{protocol:c,hostname:a.hostname,port:a.port,pathname:a.pathname}}},hex2rgba:function(a,b){var c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d});var d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null},hex2rgbaToString:function(a,b){return"rgba("+(a=a.replace("#","")).match(new RegExp("(.{"+a.length/3+"})","g")).map(function(b){return parseInt(a.length%2?b+b:b,16)}).concat(b||1).join(",")+")"},rgba2hex:function(a){function b(a,b){var c=Math.max(0,parseInt(a,10));return b?Math.floor(255*Math.min(100,c)/100):Math.min(255,c)}var c,d,e,f,g=/^rgb\(\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*\)$/,h="";return(c=g.exec(a))&&(d=b(c[1],c[2]),e=b(c[3],c[4]),f=b(c[5],c[6]),h="#0x"+(16777216+(d<<16)+(e<<8)+f).toString(16).slice(1)),h},getEventTarget:function(a){return a.target?a.target:a.srcElement},color:function(){return""},hsl:function(){return""},rgb:function(){return""},svgCursorPoint:function(a,b,c){var d=a.createSVGPoint();return d.x=b,d.y=c,d.matrixTransform(a.getScreenCTM().inverse())},svgCoordinateTransform:function(a,b){var c=b.getScreenCTM();return a.matrixTransform(c.inverse())},svgGlobalToLocalPoint:function(a,b){var c=a.getTransformToElement(a).inverse();return c.e=c.f=0,b.matrixTransform(c)},getDocType:function(a){var b="";a=this.toNotEmpty(a,"");var c=a.substring(a.lastIndexOf(".")+1,a.length);return new RegExp("jpg|jpeg|png|bmp|tiff|tif|jb2|pdf","gi").test(c)?b="image":new RegExp("xls|xlsx|ppt|pptx|doc|docx","gi").test(c)?b="msoffice":new RegExp("amr|dmd|mp3|pdm|3gp|m4a|wma|wav","gi").test(c)?b="audio":new RegExp("avi|asf|asx|mpg|mpeg|mpe|mp4|wmv|rm|mov|dat|mkv|skm|k3g|3pg","gi").test(c)?b="video":new RegExp("txt","gi").test(c)?b="txt":new RegExp("hwp","gi").test(c)?b="hwp":new RegExp("pdf","gi").test(c)&&(b="adobe"),b}};return a.Utils=f}),InziSForm.create(function(a,b,c){"use strict";var d="image/png",e=a.Utils,f={createCanvasByImage:function(a){var b=c.createElement("canvas"),d=b.getContext("2d"),e=a.width,f=a.height;return b.width=e,b.height=f,d.drawImage(a,0,0,e,f),b},cropToImage:function(a,b){var c=new Image;return c.src=this.cropToDataURL(a,b),c.width=e.toInt(b.w*(1/b.sx)),c.height=e.toInt(b.h*(1/b.sy)),c},downScale:function(a,d,e,f,g){if(!b.Float32Array)return a;if(f>1||g<0)return a;var h=f*g,i=Math.floor(d*f),j=Math.floor(e*g),k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=!1,A=!1,B=a,C=new Float32Array(3*i*j),D=0,E=0,F=0;for(l=0;l<e;l++)for(o=l*g,s=0|o,p=3*s*i,A=s!==(0|o+g),A&&(x=s+1-o,y=o+g-s-1),k=0;k<d;k++,m+=4)n=k*f,r=0|n,q=p+3*r,z=r!==(0|n+f),z&&(v=r+1-n,w=n+f-r-1),D=B[m],E=B[m+1],F=B[m+2],z||A?z&&!A?(t=v*f,C[q]+=D*t,C[q+1]+=E*t,C[q+2]+=F*t,u=w*f,C[q+3]+=D*u,C[q+4]+=E*u,
C[q+5]+=F*u):A&&!z?(t=x*g,C[q]+=D*t,C[q+1]+=E*t,C[q+2]+=F*t,u=y*g,C[q+3*i]+=D*u,C[q+3*i+1]+=E*u,C[q+3*i+2]+=F*u):(t=v*x,C[q]+=D*t,C[q+1]+=E*t,C[q+2]+=F*t,u=w*x,C[q+3]+=D*u,C[q+4]+=E*u,C[q+5]+=F*u,u=v*y,C[q+3*i]+=D*u,C[q+3*i+1]+=E*u,C[q+3*i+2]+=F*u,u=w*y,C[q+3*i+3]+=D*u,C[q+3*i+4]+=E*u,C[q+3*i+5]+=F*u):(C[q]+=D*h,C[q+1]+=E*h,C[q+2]+=F*h);var G=c.createElement("canvas");G.width=i,G.height=j;var H=G.getContext("2d"),I=H.getImageData(0,0,i,j),J=I.data,K=0;for(m=0,q=0;K<i*j;m+=3,q+=4,K++)J[q]=Math.ceil(C[m]),J[q+1]=Math.ceil(C[m+1]),J[q+2]=Math.ceil(C[m+2]),J[q+3]=255;return H.putImageData(I,0,0),H.getImageData(0,0,i,j)},cropToDataURL:function(a,b){var f=c.createElement("canvas"),g=f.getContext("2d"),h=b.contentType||d;f.width=e.toInt(b.width),f.height=e.toInt(b.height);var i=this.getImageData(a,e.toInt(b.x),e.toInt(b.y),e.toInt(b.width),e.toInt(b.height));return g.putImageData(i,0,0),f.toDataURL(h)},getImageData:function(a,b,c,d,e){var f=a.getContext("2d");return b=b||0,c=c||0,d=d||f.canvas.width,e=e||f.canvas.height,f.getImageData(b,c,d,e)},watermark:function(a,b){if(a){var c=a.canvas,d=c.width,e=c.height,f=e/5,g=b.message;a.font=f+"px bold",a.fillStyle="rgba(213, 213, 213, 0.4)",a.setTransform(1,0,0,1,0,0);var h=a.measureText(g),i=h.width,j=(h.height,d/2-i/2),k=e/2+f/2,l=b.position.split(" "),m=l[0],n=l[1];"top"===m?k=f:"center"===m?k=e/2+f/2:"bottom"===m&&(k=e-f/2),"left"===n?j=0:"center"===n?j=d/2-i/2:"right"===n&&(j=d-i),a.fillText(g,j,k),a.restore()}}};a.ImageUtils=f}),InziSForm.create(function(a,b,c){"use strict";var d={now:function(){return(new Date).getTime()}};return a.DateUtils=d}),InziSForm.create(function(a){"use strict";var b=a.Utils,c=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","touchstart","touchend","touchmove","touchcancel","gesturestart","gesturechange","gestureend","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","MSPointerDown","MSPointerMove","MSPointerUp","focus","blur","focusin","focusout","change","keydown","keyup","scroll","orientationchange"],d={listeners:{},listenerIndex:0,trigger:function(a,b){for(var c in this.listeners)this.listeners.hasOwnProperty(c)&&c.split("-")[0]===a&&this.listeners[c].callback(b)},_uniqueId:function(a){return this.listenerIndex++,a+"-"+this.listenerIndex},on:function(a,d,e,f){for(var g=[],h={callback:d,target:e},i=a.split(" "),j=0,k=i.length;j<k;j++){var l=i[j],m=this._uniqueId(l);this.listeners[m]=h;var n=-1!==l.indexOf(".")?l.substring(0,l.indexOf(".")):l;-1!==c.indexOf(n)&&e&&b.bind(e,n,d,f),g.push(m)}return g},multyOff:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=this.listeners[d];this._off(e.event,e.target)}},off:function(a,b){for(var c=a.split(" "),d=0,e=c.length;d<e;d++){var f=c[d];this._off(f,b)}},_off:function(a,c){for(var d in this.listeners)if(this.listeners.hasOwnProperty(d)){var e=a.split("-")[0];if(e===a||a===d){var f=this.listeners[d];if(f&&f.target&&c===f.target){var g=d.split("-")[0],h=-1!==g.indexOf(".")?g.substring(0,g.indexOf(".")):g;b.unbind(f.target,h,f.callback)}delete this.listeners[d]}}}};return a.Events=d,a.Events}),InziSForm.create(function(a){"use strict";var b=function(){};b.prototype={trigger:function(b,c){a.Events.trigger(b,c)},on:function(b,c,d){return a.Events.on(b,c,d)},off:function(b,c){a.Events.off(b,c)}},a.EventHandler=b}),InziSForm.create(function(a,b,c){"use strict";var d=(a.ImageUtils,{Type:{BRIGHTNESS:"brightness",GRAYSCALE:"grayscale",INVERT:"invert",CONSTRAST:"constrast"},getImageData:function(a,b,c,d,e){var f=a.getContext("2d");return b=b||0,c=c||0,d=d||f.canvas.width,e=e||f.canvas.height,f.getImageData(b,c,d,e)},putImageData:function(a,b,c,d){var e=a.getContext("2d"),f=c||0,g=d||0;e.putImageData(b,f,g)},invert:function(a,b){var c=this.getImageData(a),d=c.data,e=0,f=d.length;for(e=0;e<f;e+=4)d[e]=255-d[e],d[e+1]=255-d[e+1],d[e+2]=255-d[e+2];this.putImageData(a,c,0,0)},brightness:function(a,b){var c=this.getImageData(a),d=c.data,e=0,f=d.length;for(b=b||10,e=0;e<f;e+=4)d[e]+=b,d[e+1]+=b,d[e+2]+=b;this.putImageData(a,c,0,0)},grayscale:function(a,b){var c=this.getImageData(a),d=c.data,e=0,f=d.length;for(e=0;e<f;e+=4){var g=.34*d[e]+.5*d[e+1]+.16*d[e+2];d[e]=g,d[e+1]=g,d[e+2]=g}this.putImageData(a,c,0,0)},contrast:function(a,b){var c=this.getImageData(a),d=c.data,e=0,f=d.length;b=b||10,b*=2.55;var g=255+b;for(e=0;e<f;e+=4)d[e]=g*(d[e]-128)+128,d[e+1]=g*(d[e+1]-128)+128,d[e+2]=g*(d[e+2]-128)+128;this.putImageData(a,c,0,0)},flip:function(a,b){var c=this.getImageData(a),d=c.data,e=(d.length,a.getContext("2d")),f=e.canvas.width,g=e.canvas.height,h=new Image;h.src=a.toDataURL();var i=b?1:-1,j=b?-1:1,k=b?0:-1*f,l=b?-1*g:0;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(i,j),e.drawImage(h,k,l,f,g),e.restore()}});a.Filter=d}),InziSForm.create(function(a,b,c){"use strict";function d(a,b){if(a&&b)for(var c=0,d=b.length;c<d;c++)b[c]&&b[c].parentNode&&b[c].parentNode.removeChild(b[c])}var e=a.Utils,f=(e.IEVersion(),{DIV:"div",SPAN:"span",UL:"ul",LI:"li",INPUT:"input",SELECT:"select",CANVAS:"canvas",SVG:"svg"}),g={createElementNS:function(a,b,d){var e,f=c.createElementNS("http://www.w3.org/2000/svg",b);for(e in d)d.hasOwnProperty(e)&&f.setAttribute(e,d[e]);return a.appendChild(f)},createElement:function(a,d,g){var h,i=c.createElement(a);for(h in d)d.hasOwnProperty(h)&&i.setAttribute(h,d[h]);return g&&(a!==f.CANVAS||e.isSupportCanvas()||b.G_vmlCanvasManager.initElement&&(i=b.G_vmlCanvasManager.initElement(i)),g.appendChild(i)),i},appendToElement:function(a,d,g){var h,i=c.createElement(d);for(h in g)g.hasOwnProperty(h)&&i.setAttribute(h,g[h]);return d!==f.CANVAS||e.isSupportCanvas()||b.G_vmlCanvasManager.initElement&&(i=b.G_vmlCanvasManager.initElement(i)),a.appendChild(i)},createCanvas:function(a,b){var d,e=c.createElement(f.CANVAS);for(d in a)a.hasOwnProperty(d)&&e.setAttribute(d,a[d]);return b.appendChild(e),e},insertBefore:function(a,b){a.parentNode.insertBefore(b,a)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},appendChild:function(a,b){a.appendChild(b)},empty:function(a){var b=a.parentNode;b&&d(b,[a])},attr:function(a,b,c){if("string"==typeof b&&2===arguments.length)return a.getAttribute(b);if("string"==typeof b&&c)a.setAttribute(b,c);else{var d;for(d in b)b.hasOwnProperty(d)&&a.setAttribute(d,b[d])}return a},removeAttr:function(a,b){return a.hasOwnProperty(b)&&a.removeAttribute(b),a},prop:function(a,b,c){if("string"==typeof b&&c)return a[b]=c,a;if("string"!=typeof b||c){var d;for(d in b)b.hasOwnProperty(d)&&void 0!==a[d]&&(a[d]=b[d]);return a}return a[b]},rect:function(a,b){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"rect",b):this.createElementNS(a,"rect",b)},circle:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"rect",c):this.createElementNS(a,"circle",c)},ellipse:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"ellipse",c):this.createElementNS(a,"ellipse",c)},line:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"line",c):this.createElementNS(a,"line",c)},polygon:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"polygon",c):this.createElementNS(a,"polygon",c)},polyline:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"polyline",c):this.createElementNS(a,"polyline",c)},path:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"path",c):this.createElementNS(a,"path",c)},text:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"text",c):this.createElementNS(a,"text",c)},image:function(a,b,c){return a.nodeName===f.CANVAS?this.createCanvasElement(a,"image",c):this.createElementNS(a,"image",c)},bBox:function(a,b){var c=b.getTransformToElement(a),d=b.getBBox(),e=a.createSVGPoint(),f=[];e.x=d.x,e.y=d.y,f.push(e.matrixTransform(c)),e.x=d.x+d.width,e.y=d.y,f.push(e.matrixTransform(c)),e.x=d.x+d.width,e.y=d.y+d.height,f.push(e.matrixTransform(c)),e.x=d.x,e.y=d.y+d.height,f.push(e.matrixTransform(c));for(var g=f[0].x,h=f[0].x,i=f[0].y,j=f[0].y,k=1;k<f.length;k++){var l=f[k].x,m=f[k].y;l<g?g=l:l>h&&(h=l),m<i?i=m:m>j&&(j=m)}return d.x=g,d.y=i,d.width=h-g,d.height=j-i,d},transformToElement:function(a,b){for(var c=a.getCTM(),d=a.getParentNode();d!==b;)c=a.getCTM().multiply(c),a=a.getParentNode();return c},limit:function(a,b,c,d,e,f,g,h){return a>g-c&&(a=g-c),b>h-d&&(b=h-d),a<e&&(a=e),b<f&&(b=f),{x:a,y:b}},select:function(a,b){return b instanceof HTMLBodyElement?b:a.querySelector(b)},selectAll:function(a,b){return b instanceof HTMLBodyElement?[b]:a.querySelectorAll(b)},getById:function(a){return c.getElementById(a)},remove:function(a,b){b=b||c.body;var e;(e="string"==typeof a?this.select(b,a):a)&&d(b,[e])},removeAll:function(a,b){b=b||c.body;var e=this.selectAll(b,a);e&&d(b,e)},addClass:function(a,b){for(var c=this.getClassNames(a),d=b.split(" "),e=c.split(" "),f=0,g=d.length;f<g;f++){var h=d[f];-1===e.indexOf(h)&&(a.className&&void 0!==a.className.baseVal?a.className.baseVal=c+" "+h:a.className=c+" "+h)}},getClassNames:function(a){var b,c=a.className;return b=c instanceof SVGAnimatedString?c.baseVal:c,e.toNotEmpty(b,"")},hasClass:function(a,b){var c,d=this.getClassNames(a);return!!d&&(void 0!==(c=d.match(/\S+/g)||[])&&-1!==c.indexOf(b))},removeClass:function(a,b){if(a.className){var c=this.getClassNames(a);if(-1===c.indexOf(b))return;var d=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className&&a.className.baseVal?a.className.baseVal=c.replace(d,""):a.className=c.replace(d,"")}},parent:function(a,b){var c=this.parents(a,b,1);return null===c?null:c[0]},parents:function(a,b,d){var e,f=[];for(b&&(e=b.charAt(0));a&&a!==c;a=a.parentNode){if(b){if("."===e){var g=a.getAttribute("class")||"";(g?g.split(/\s+/):[]).contains(b.substr(1))&&f.push(a)}"#"===e&&a.id===b.substr(1)&&f.push(a),"["===e&&a.hasAttribute(b.substr(1,b.length-2))&&f.push(a),a.tagName.toLowerCase()===b&&f.push(a)}else f.push(a);if(f.length===d)break}var h=f.length;return 0===h?null:f.slice(0,d>h?h:d)},__getOffset:function(a,b){var c=a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.getComputedStyle&&a.ownerDocument.defaultView.getComputedStyle(a,null),d=b?"height":"width",f=c&&c.getPropertyValue(d)||"";return f=f&&f.indexOf(".")>-1?e.toFloat(f)+e.toInt(c.getPropertyValue(b?"padding-top":"padding-left"))+e.toInt(c.getPropertyValue(b?"padding-bottom":"padding-right"))+e.toInt(c.getPropertyValue(b?"border-top-width":"border-left-width"))+e.toInt(c.getPropertyValue(b?"border-bottom-width":"border-right-width")):b?a.offsetHeight:a.offsetWidth},_getOffsetWidth:function(a){return this.__getOffset(a)},_getOffsetHeight:function(a){return this.__getOffset(a,!0)},offset:function(a){return{width:this._getOffsetWidth(a),height:this._getOffsetHeight(a)}},width:function(a,b){if(!b)return this._getOffsetWidth(a);this.prop(a.style,"width",b)},height:function(a,b){if(!b)return this._getOffsetHeight(a);this.prop(a.style,"height",b)},getElementNode:function(a){return"string"==typeof a?this.select(c.body,a):a instanceof b.Node||a instanceof b.Element?a:void 0},convertTextareaLineBreakList:function(a,b,d,e,f){var g=this.createElement("textarea",{},c.body);g.style.position="absolute",g.style.left="-99999px",g.style.width=b+"px",g.style.height=(d||150)+"px",g.style.fontSize=(e||10)+"px",g.style.fontFamily=f||"Arial",g.value=a;var h=this.textareaLineBreakListByCanvas(g,b,d,e);return this.remove(g,c.body),h},textareaLineBreakListByCanvas:function(a,b,c,d,f){var g=[],h="",i=a.value,j=i.split("\n"),k=a.offsetWidth,l=this.createElement("canvas");l.width=b,l.height=c;var m=l.getContext("2d");m.font=d+"px "+(a.style.fontFamily||"Arial");for(var n=0;n<j.length;n++){var o=j[n];if(h="",o)for(var p=0;p<o.length;p++){var q=o[p];h+=q,m.fillText(h,0,0);var r=e.toInt(m.measureText(h).width)+e.toInt(d)/3;r>=k&&(h=h.substring(0,h.length-1),g.push(h),m.clearRect(0,0,b,c),h=q),h.length>0&&p===o.length-1&&g.push(h)}else g.push("")}return l&&this.remove(l),g},textareaLineBreakList:function(a){function b(){for(var b=0;b<f.length;b++){var i=f[b];if(d="",i)for(var j=0;j<i.length;j++){var k=i[j];d+=k,h.value=d;var l=h.scrollWidth;l>=g&&(d=d.substring(0,d.length-1),c.push(d),d=k,h.value=k),d.length>0&&j===i.length-1&&c.push(d)}else c.push("")}return a.setAttribute("wrap",""),a.value=e,c}var c=[],d="",e=a.value,f=e.split("\n"),g=a.offsetWidth,h=a;return h.setAttribute("wrap","off"),a.value="",f.length>0?b():c},getEventTarget:function(a){return a.target?a.target:a.srcElement},getPointer:function(a){var b,c;return a.touches||a.changedTouches?1===a.touches.length?(b=a.targetTouches[0].pageX,c=a.targetTouches[0].pageY):a.changedTouches&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY):(b=a.pageX,c=a.pageY),{x:b,y:c}},getPageX:function(a){for(var b=0;a.offsetParent;)b+=a.offsetLeft,a=a.offsetParent;return b},getPageY:function(a){for(var b=0;a.offsetParent;)b+=a.offsetTop,a=a.offsetParent;return b},getOffsetX:function(a){var c=a.target||a.srcElement,d=c.currentStyle||b.getComputedStyle(c,null),e=parseInt(d.borderLeftWidth,10),f=c.getBoundingClientRect();return a.layerX-e-f.left},getOffsetY:function(a){var c=a.target||a.srcElement,d=c.currentStyle||b.getComputedStyle(c,null),e=parseInt(d.borderTopWidth,10),f=c.getBoundingClientRect();return a.layerY-e-f.top},getLayerX:function(a){return a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].clientX:a.layerX&&b.parent===b?a.offsetX:b.event.offsetX?b.event.offsetX:a.offsetX},getLayerY:function(a){return a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].clientY:a.layerY&&b.parent===b?a.offsetY:b.event.offsetY?b.event.offsetY:a.offsetY},animate:function(a,b,d){var f={name:"",delay:0,direction:"normal",duration:0,easing:"linear",endDelay:0,fill:"none",iterationStart:.5,iterations:1/0,iterationCount:1};d=e.extend(f,d),"string"==typeof a&&(a=this.select(c.body,a)),a.style.transitionDelay=d.delay+"ms",a.style.transitionDuration=d.duration+"ms",a.style.transitionTimingFunction=d.easing;var g=0,h=b.length;for(g=0;g<h;g++){var i=b[g];for(var j in i)a.style[j]=i[j]}}};a.Element=g}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Utils,a.Element),e=function(a){this._domNode=a};e.prototype={createElementNS:function(a,b){return d.createElementNS(this._domNode,a,b)},createElement:function(a,b){return d.createElement(a,b,this._domNode)},appendToElement:function(a,b){return d.appendToElement(this._domNode,a,b)},createCanvas:function(a,b,c){return d.createCanvas(c,this._domNode)},attr:function(a,b){return d.attr(this._domNode,a,b)},removeAttr:function(a){return d.removeAttr(this._domNode,a),this},prop:function(){var a=Array.prototype.slice.call(arguments,0),b=arguments.length;return(1===b||2===b&&"string"==typeof arguments[1])&&(a=[this._domNode].concat(a)),d.prop.apply(this,a)},remove:function(a,b){return d.remove(this._domNode,a,b)},removeAll:function(a,b){return d.removeAll(this._domNode,a,b)},addClass:function(a){return d.addClass(this._domNode,a),this},getClassNames:function(){return d.getClassNames(this._domNode)},hasClass:function(a){return d.hasClass(this._domNode,a)},removeClass:function(a){return d.removeClass(this._domNode,a),this},parent:function(a){return d.parent(this._domNode,a)},parents:function(a,b){return d.parents(this._domNode,a,b)},offset:function(){return d.offset(this._domNode)},insertBefore:function(a){return d.insertBefore(this._domNode,a),this},insertAfter:function(a){return d.insertAfter(this._domNode,a),this},empty:function(a){var b=[];if(a)b.push(a);else{if(!this._domNode.firstChild)return;b.push(this._domNode.firstChild)}d.empty.apply(this,b)},animate:function(a,b){d.animate(this._domNode,a,b)}},a.DOMWrapper=e}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=a.Element,g=a.moduleName,h=a.moduleClassName,i=f.attr,j=[["63,0,72,4,72,15,63,19,54,15,54,4","#003366"],["81,0,90,4,90,15,81,19,72,15,72,4","#336699"],["99,0,108,4,108,15,99,19,90,15,90,4","#3366CC"],["117,0,126,4,126,15,117,19,108,15,108,4","#003399"],["135,0,144,4,144,15,135,19,126,15,126,4","#000099"],["153,0,162,4,162,15,153,19,144,15,144,4","#0000CC"],["171,0,180,4,180,15,171,19,162,15,162,4","#000066"],["54,15,63,19,63,30,54,34,45,30,45,19","#006666"],["72,15,81,19,81,30,72,34,63,30,63,19","#006699"],["90,15,99,19,99,30,90,34,81,30,81,19","#0099CC"],["108,15,117,19,117,30,108,34,99,30,99,19","#0066CC"],["126,15,135,19,135,30,126,34,117,30,117,19","#0033CC"],["144,15,153,19,153,30,144,34,135,30,135,19","#0000FF"],["162,15,171,19,171,30,162,34,153,30,153,19","#3333FF"],["180,15,189,19,189,30,180,34,171,30,171,19","#333399"],["45,30,54,34,54,45,45,49,36,45,36,34","#669999"],["63,30,72,34,72,45,63,49,54,45,54,34","#009999"],["81,30,90,34,90,45,81,49,72,45,72,34","#33CCCC"],["99,30,108,34,108,45,99,49,90,45,90,34","#00CCFF"],["117,30,126,34,126,45,117,49,108,45,108,34","#0099FF"],["135,30,144,34,144,45,135,49,126,45,126,34","#0066FF"],["153,30,162,34,162,45,153,49,144,45,144,34","#3366FF"],["171,30,180,34,180,45,171,49,162,45,162,34","#3333CC"],["189,30,198,34,198,45,189,49,180,45,180,34","#666699"],["36,45,45,49,45,60,36,64,27,60,27,49","#339966"],["54,45,63,49,63,60,54,64,45,60,45,49","#00CC99"],["72,45,81,49,81,60,72,64,63,60,63,49","#00FFCC"],["90,45,99,49,99,60,90,64,81,60,81,49","#00FFFF"],["108,45,117,49,117,60,108,64,99,60,99,49","#33CCFF"],["126,45,135,49,135,60,126,64,117,60,117,49","#3399FF"],["144,45,153,49,153,60,144,64,135,60,135,49","#6699FF"],["162,45,171,49,171,60,162,64,153,60,153,49","#6666FF"],["180,45,189,49,189,60,180,64,171,60,171,49","#6600FF"],["198,45,207,49,207,60,198,64,189,60,189,49","#6600CC"],["27,60,36,64,36,75,27,79,18,75,18,64","#339933"],["45,60,54,64,54,75,45,79,36,75,36,64","#00CC66"],["63,60,72,64,72,75,63,79,54,75,54,64","#00FF99"],["81,60,90,64,90,75,81,79,72,75,72,64","#66FFCC"],["99,60,108,64,108,75,99,79,90,75,90,64","#66FFFF"],["117,60,126,64,126,75,117,79,108,75,108,64","#66CCFF"],["135,60,144,64,144,75,135,79,126,75,126,64","#99CCFF"],["153,60,162,64,162,75,153,79,144,75,144,64","#9999FF"],["171,60,180,64,180,75,171,79,162,75,162,64","#9966FF"],["189,60,198,64,198,75,189,79,180,75,180,64","#9933FF"],["207,60,216,64,216,75,207,79,198,75,198,64","#9900FF"],["18,75,27,79,27,90,18,94,9,90,9,79","#006600"],["36,75,45,79,45,90,36,94,27,90,27,79","#00CC00"],["54,75,63,79,63,90,54,94,45,90,45,79","#00FF00"],["72,75,81,79,81,90,72,94,63,90,63,79","#66FF99"],["90,75,99,79,99,90,90,94,81,90,81,79","#99FFCC"],["108,75,117,79,117,90,108,94,99,90,99,79","#CCFFFF"],["126,75,135,79,135,90,126,94,117,90,117,79","#CCCCFF"],["144,75,153,79,153,90,144,94,135,90,135,79","#CC99FF"],["162,75,171,79,171,90,162,94,153,90,153,79","#CC66FF"],["180,75,189,79,189,90,180,94,171,90,171,79","#CC33FF"],["198,75,207,79,207,90,198,94,189,90,189,79","#CC00FF"],["216,75,225,79,225,90,216,94,207,90,207,79","#9900CC"],["9,90,18,94,18,105,9,109,0,105,0,94","#003300"],["27,90,36,94,36,105,27,109,18,105,18,94","#009933"],["45,90,54,94,54,105,45,109,36,105,36,94","#33CC33"],["63,90,72,94,72,105,63,109,54,105,54,94","#66FF66"],["81,90,90,94,90,105,81,109,72,105,72,94","#99FF99"],["99,90,108,94,108,105,99,109,90,105,90,94","#CCFFCC"],["117,90,126,94,126,105,117,109,108,105,108,94","#FFFFFF"],["135,90,144,94,144,105,135,109,126,105,126,94","#FFCCFF"],["153,90,162,94,162,105,153,109,144,105,144,94","#FF99FF"],["171,90,180,94,180,105,171,109,162,105,162,94","#FF66FF"],["189,90,198,94,198,105,189,109,180,105,180,94","#FF00FF"],["207,90,216,94,216,105,207,109,198,105,198,94","#CC00CC"],["225,90,234,94,234,105,225,109,216,105,216,94","#660066"],["18,105,27,109,27,120,18,124,9,120,9,109","#336600"],["36,105,45,109,45,120,36,124,27,120,27,109","#009900"],["54,105,63,109,63,120,54,124,45,120,45,109","#66FF33"],["72,105,81,109,81,120,72,124,63,120,63,109","#99FF66"],["90,105,99,109,99,120,90,124,81,120,81,109","#CCFF99"],["108,105,117,109,117,120,108,124,99,120,99,109","#FFFFCC"],["126,105,135,109,135,120,126,124,117,120,117,109","#FFCCCC"],["144,105,153,109,153,120,144,124,135,120,135,109","#FF99CC"],["162,105,171,109,171,120,162,124,153,120,153,109","#FF66CC"],["180,105,189,109,189,120,180,124,171,120,171,109","#FF33CC"],["198,105,207,109,207,120,198,124,189,120,189,109","#CC0099"],["216,105,225,109,225,120,216,124,207,120,207,109","#993399"],["27,120,36,124,36,135,27,139,18,135,18,124","#333300"],["45,120,54,124,54,135,45,139,36,135,36,124","#669900"],["63,120,72,124,72,135,63,139,54,135,54,124","#99FF33"],["81,120,90,124,90,135,81,139,72,135,72,124","#CCFF66"],["99,120,108,124,108,135,99,139,90,135,90,124","#FFFF99"],["117,120,126,124,126,135,117,139,108,135,108,124","#FFCC99"],["135,120,144,124,144,135,135,139,126,135,126,124","#FF9999"],["153,120,162,124,162,135,153,139,144,135,144,124","#FF6699"],["171,120,180,124,180,135,171,139,162,135,162,124","#FF3399"],["189,120,198,124,198,135,189,139,180,135,180,124","#CC3399"],["207,120,216,124,216,135,207,139,198,135,198,124","#990099"],["36,135,45,139,45,150,36,154,27,150,27,139","#666633"],["54,135,63,139,63,150,54,154,45,150,45,139","#99CC00"],["72,135,81,139,81,150,72,154,63,150,63,139","#CCFF33"],["90,135,99,139,99,150,90,154,81,150,81,139","#FFFF66"],["108,135,117,139,117,150,108,154,99,150,99,139","#FFCC66"],["126,135,135,139,135,150,126,154,117,150,117,139","#FF9966"],["144,135,153,139,153,150,144,154,135,150,135,139","#FF6666"],["162,135,171,139,171,150,162,154,153,150,153,139","#FF0066"],["180,135,189,139,189,150,180,154,171,150,171,139","#CC6699"],["198,135,207,139,207,150,198,154,189,150,189,139","#993366"],["45,150,54,154,54,165,45,169,36,165,36,154","#999966"],["63,150,72,154,72,165,63,169,54,165,54,154","#CCCC00"],["81,150,90,154,90,165,81,169,72,165,72,154","#FFFF00"],["99,150,108,154,108,165,99,169,90,165,90,154","#FFCC00"],["117,150,126,154,126,165,117,169,108,165,108,154","#FF9933"],["135,150,144,154,144,165,135,169,126,165,126,154","#FF6600"],["153,150,162,154,162,165,153,169,144,165,144,154","#FF5050"],["171,150,180,154,180,165,171,169,162,165,162,154","#CC0066"],["189,150,198,154,198,165,189,169,180,165,180,154","#660033"],["54,165,63,169,63,180,54,184,45,180,45,169","#996633"],["72,165,81,169,81,180,72,184,63,180,63,169","#CC9900"],["90,165,99,169,99,180,90,184,81,180,81,169","#FF9900"],["108,165,117,169,117,180,108,184,99,180,99,169","#CC6600"],["126,165,135,169,135,180,126,184,117,180,117,169","#FF3300"],["144,165,153,169,153,180,144,184,135,180,135,169","#FF0000"],["162,165,171,169,171,180,162,184,153,180,153,169","#CC0000"],["180,165,189,169,189,180,180,184,171,180,171,169","#990033"],["63,180,72,184,72,195,63,199,54,195,54,184","#663300"],["81,180,90,184,90,195,81,199,72,195,72,184","#996600"],["99,180,108,184,108,195,99,199,90,195,90,184","#CC3300"],["117,180,126,184,126,195,117,199,108,195,108,184","#993300"],["135,180,144,184,144,195,135,199,126,195,126,184","#990000"],["153,180,162,184,162,195,153,199,144,195,144,184","#800000"],["171,180,180,184,180,195,171,199,162,195,162,184","#993333"]],k={stamp:function(b,h){var j="__stamp_ui_stamp",k=b.x,l=b.y;if(null==c.querySelector(j)){var m=f.createElement("div"),n=[[1,"승인"],[2,"기각"],[3,"보류"],[4,"수신"],[5,"반려"],[6,"불승인"],[7,"부지급"],[8,"일부승인"],[9,"이송"],[10,"미가입재해"],[11,"14일이내 재해"]],o=[[3,"없음"],[0,"사각형"]],p=[[1,"중앙맞춤"],[2,"오른쪽맞춤"],[0,"왼쪽맞춤"]],q=-1,r=[],s=0,t=0;for(r[++q]='<div class="popup-container">',r[++q]="<div class='ui-font'>",r[++q]="<p><span class='ui-text-label'>종류&nbsp;:</span>",r[++q]="<select name='__sform__stamp__text_' id='__sform__stamp__text_' onchange='javascript:var el = this.parentNode.parentNode.parentNode.querySelector('input[name=__prev_type_]'); var arr = el.value.split('%'); arr.shift(); arr.unshift(this.options[this.selectedIndex].text); el.value=arr.join('%'); el.onchange();'>",s=0,t=n.length;s<t;s+=1)r[++q]="<option value='"+n[s][0]+"'"+(0===s?" selected='selected'":"")+">"+n[s][1]+"</option>";for(r[++q]="</select></p>",r[++q]="<p><span class='ui-font-color'>",r[++q]="<span style='display:block;' onclick=\""+g+".UI.font('"+j+"');\">글꼴</span>",r[++q]="<input type='hidden' name='__sform_font-size' value='"+b["font-size"]+"' onchange=\"this.parentNode.parentNode.parentNode.querySelector('.preview-display').style.fontSize=this.value+'px';\" />",r[++q]="<input type='hidden' name='__sform_font-weight' value='"+b["font-weight"]+"' onchange=\"this.parentNode.parentNode.parentNode.querySelector('.preview-display').style.fontWeight=this.value;\" />",r[++q]="<input type='hidden' name='__sform_font-style' value='"+b["font-style"]+"'onchange=\"this.parentNode.parentNode.parentNode.querySelector('.preview-display').style.fontStyle=this.value;\" />",r[++q]="<input type='hidden' name='__sform_font-family'  value='"+b["font-family"]+"' onchange=\"this.parentNode.parentNode.parentNode.querySelector('.preview-display').style.fontFamily=this.value;\"/>",r[++q]="<span style='display:block;' class='font-family'></span>",r[++q]="<span style='display:block; width:40px; height:20px; background:"+b["font-color"]+"; border:1px solid #ccc;' class='color'><input type='hidden' name='__sform_font-color'onchange=\"this.parentNode.parentNode.parentNode.querySelector('.preview-display').style.color=this.value;\" /></span>",r[++q]="</span>",r[++q]="<span class='ui-preview'>",r[++q]="<span class='title'>미리보기</span>",r[++q]="<span style='display:inline-block; width: 320px; overflow:hidden; text-align: center; font-size:"+b["font-size"]+"px;'><span class='preview-display'>승인</span></span>",r[++q]="</span></p></div>",r[++q]="<div class='ui-type'>",r[++q]="<span class='ui-text-label'>테두리&nbsp;:</span>",r[++q]="<select name='__sform_stroke-width'>",s=0,t=o.length;s<t;s+=1)r[++q]="<option value='"+o[s][0]+"' "+(o[s][0]===b["stroke-width"]?"selected=selected":"")+">"+o[s][1]+"</option>";for(r[++q]="</select>",r[++q]="<span class='ui-text-label'>표시위치&nbsp;:</span>",r[++q]="<select name='__stamp_text_align_' onchange='javascript:this.parentNode.parentNode.querySelector('.preview-display').style.textAlign=this.value;'>",s=0,t=p.length;s<t;s+=1)r[++q]="<option value='"+p[s][0]+"'>"+p[s][1]+"</option>";r[++q]="</select>",r[++q]="</div>",r[++q]="<div class='ui-format'>",r[++q]="<input type='checkbox' name='__fdate_' id='__sform_fdate_' format='%D' value='1' onchange='javascript:var el = this.parentNode.querySelector('input[name=__prev_type_]');if(this.checked){ el.value = el.value+this.getAttribute('format');} else {el.value =el.value.replace(this.getAttribute('format'), '');} el.onchange();'/> <label for='__sform_fdate_'>날짜</label>",r[++q]="<input type='checkbox' name='__ftime_'  id='__sform_ftime_' format='%T' value='2' onchange='javascript:var el = this.parentNode.querySelector('input[name=__prev_type_]');if(this.checked){ el.value = el.value+this.getAttribute('format');} else {el.value =el.value.replace(this.getAttribute('format'), '');} el.onchange();' /> <label for='__sform_ftime_'>시간</label>",r[++q]="<input type='checkbox' name='__fpayer_' id='__sform_fpayer_' format='%M' value='4' onchange='javascript:var el = this.parentNode.querySelector('input[name=__prev_type_]');if(this.checked){ el.value = el.value+this.getAttribute('format');} else {el.value =el.value.replace(this.getAttribute('format'), '');} el.onchange();' /> <label for='__sform_fpayer_'>결제자</label>";var u=a.setting("payer");r[++q]="<input type='checkbox' name='__fimage_' id='__sform_stamp_image_' format='%I' value='8' onchange='javascript:var el = this.parentNode.parentNode.querySelector('input[name=__prev_type_');if(this.checked){ el.value = el.value+this.getAttribute('format'); this.parentNode.parentNode.querySelector('input[name=__stamp_image_').click();} else {el.value =el.value.replace(this.getAttribute('format'), '');}'/><label for='__sform_stamp_image_'>이미지</label>",r[++q]="<input type='file' name='__stamp_image_'  style='display:none;' onchange='javascript:function __onSelectedFile(event) { var t = event.target, file = event.srcElement.files[0]; var reader = new FileReader(); reader.onload = (function(aFile){return function(e) { t.setAttribute('dataURL', e.target.result);};})(file);reader.readAsDataURL(file); event.stopPropagation(); event.preventDefault();} __onSelectedFile(event); var el = this.parentNode.querySelector('input[name=__prev_stamp_image_]'); el.value=this.value;'/>",r[++q]="<p><span class='ui-text-label'>형식&nbsp;:</span><input type='text' name='__prev_type_' readonly='readonly' style='width:300px' value='승인' onchange='javascript:var el = this.parentNode.parentNode.parentNode.querySelector('.preview-display'); var d = new Date(); el.innerHTML = this.value.replace('%D', ' '+d.getFullYear()+'년 '+(d.getMonth()+1)+'월 '+d.getDate()+'일 ').replace('%T', ' '+d.getHours()+'시 '+d.getMinutes()+'분').replace('%M','"+u+"').replace('%I','');'/></p>",r[++q]="<p><span class='ui-text-label'>이미지 파일명&nbsp;:</span><input type='text' name='__prev_stamp_image_' readonly='readonly'  style='width:240px' disabled='disabled'/> </p>",r[++q]="</div>",r[++q]="<div class='btn-area'>",r[++q]="<a href='#' class='btn-blue' id='__sform_stamp_confirm'>확인</a>",r[++q]="<a href='#' class='btn-blue' onclick=\""+g+".UI.unblock('body', '#"+j+"');\">닫기</a>",r[++q]="</div>",r[++q]="</div>",m.innerHTML=r.join("");var v={position:"absolute",left:k+"px",top:l+"px","z-index":1e3};i(m,{id:j,class:"sform-ui-stamp-prop sform-popup-layer",style:d.mapToString(v,":",";")}),this.block("body",m);var w=f.select(m,".color"),x=f.select(w,"input[name='__sform_font-color']"),y=function(a){x.value=a.hex,x.onchange(),w.style.backgroundColor=a.hex},z=function(){a.UI.colorpicker("#000000",y)},A=function(){function g(){J.height>t||J.width>v?t=J.height*(B/J.width):J.height<t/2&&(t/=2),b.height=t+C,b["image-href"]=I}var m=c.getElementById(j),n={};if(null!=m)for(var o=f.selectAll(m,"input:not([type='button']),select"),p=0,q=o.length;p<q;p+=1){var r=o[p];n[f.attr(r,"name")]=r}var s=n.__prev_type_.value;if(d.isNotEmpty(s)){var t=100,v=100,w=d.toNotEmpty(n["__sform_font-size"].value,12),y=4,z=new Date,A=f.select(m,".preview-display"),B=A.offsetWidth+2*y,C=w+2*y;b={anntype:e.AnnotationType.STAMP,x:k,y:l,width:B,height:C,"text-halign":d.toInt(n.__stamp_text_align_.value),"font-color":d.toNotEmpty(x.value,"#000000"),"font-family":n["__sform_font-family"].value,"font-weight":"normal","font-size":w,"stroke-width":d.toInt(n["__sform_stroke-width"].value),stroke:"#000000",text:"","stamp-style":0,"stamp-mode":0,"image-href":""},b["stamp-style"]=d.toInt(f.getById("__sform__stamp__text_").value);for(var D=s.split("%"),E=[D[0]],F=1,G=D.length;F<G;F++){var H=D[F];if("D"===H)b["stamp-mode"]=b["stamp-mode"]+1,E.push(z.getFullYear()+"년 "+(z.getMonth()+1)+"월 "+z.getDate()+"일");else if("T"===H)b["stamp-mode"]=b["stamp-mode"]+2,E.push(z.getHours()+"시 "+z.getMinutes()+"분");else if("M"===H)b["stamp-mode"]=b["stamp-mode"]+4,E.push(u);else if("I"===H){b["stamp-mode"]=b["stamp-mode"]+8;var I=i(n.__stamp_image_,"dataURL");if(d.isNotEmpty(I)){var J=new Image;J.src=I,J.onload=g}}}if(b.text=E.join(" "),d.isNotEmpty(b.text)){n["__sform_stroke-width"].value;b.fill="#ffffff",setTimeout(function(){h(b)},500)}a.UI.unblock("body","#"+j)}};d.bind(w,"click",z);var B=f.getById("__sform_stamp_confirm");d.bind(B,"click",A)}},contextmenu:function(b,e,g,h){if(b.data("editable")){var j,k=e.el,l=k.id,m="sform_ui_contextmenu",n=f.getById(m),o=h+10,p=g+10,q=b.data("pasteType"),r=-1,s=[],t=function(){e.selected(!1),b.data("pasteType","cut"),b.data("pasteItem",e),k.node.style.opacity=0,a.UI.uncontextmenu(l)},u=function(){b.data("pasteType","copy"),b.data("pasteItem",e),a.UI.uncontextmenu(l)},v=e.attr(),w=function(){var c=b.data("pasteType");try{var d,f,i=k.getBBox(),j=(i.x,i.y,a.Utils.svgCursorPoint(k.paper.node,g,h)),m=e.el.transform().diffMatrix.invert();"cut"===c?(v=e.attr(),k.node.style.opacity=v["fill-opacity"]||1):(v=e.attrToJson(),e=b.drawingItem(v),k=e.el),m.e=m.f=0;var n=m.x(j.x,j.y),o=m.y(j.x,j.y);d=n-v.x,f=o-v.y,k.transform("t"+[d,f])}catch(p){console.log(p)}b.data({
pasteType:null,pasteItem:null}),a.UI.uncontextmenu(l)},x=function(){null!=k&&b.removeItem(e),a.UI.uncontextmenu(l)},y=function(){var c=function(a){b.changeItemAttr(e,a)};a.UI.uncontextmenu(l),a.UI.properties(b,e,c)};if(d.isEmpty(q)&&null===n){j=f.createElement("div",{id:m,elId:l,class:"sform-ui-contextmenu",style:"height:120px;"},c.body),f.prop(j.style,{top:o+"px",left:p+"px"}),s[++r]="<ul>",s[++r]="<li><span>Cut</span></li>",s[++r]="<li><span>Copy</span></li>",s[++r]="<li class='deactive'><span>Paste</span></li>",s[++r]="<li><span>Delete</span></li>",s[++r]="<li class='last'><span>Properties</span></li>",s[++r]="</ul>",j.innerHTML=s.join(""),c.body.appendChild(j);var z=f.selectAll(j,"li");d.bind(z[0].childNodes[0],"click",t),d.bind(z[1].childNodes[0],"click",u),d.bind(z[3].childNodes[0],"click",x),d.bind(z[4].childNodes[0],"click",y)}else if(d.isNotEmpty(q)&&null===n){j=f.createElement("div"),i(j,{id:m,uiId:m,elId:l,class:"sform-ui-contextmenu"}),f.prop(j.style,{top:o+"px",left:p+"px"}),s[++r]="<ul>",s[++r]="<li class='deactive'><span>Cut</span></li>",s[++r]="<li class='deactive'><span>Copy</span></li>",s[++r]="<li class='paste'><span>Paste</span></li>",s[++r]="<li class='deactive'><span>Delete</span></li>",s[++r]="<li class='deactive' class='last'><span>Properties</span></li>",s[++r]="</ul>",j.innerHTML=s.join(""),c.body.appendChild(j);var A=j.querySelector(".paste");d.bind(A.childNodes[0],"click",w)}else n.style.top=o+"px",n.style.left=p+"px"}},uncontextmenu:function(a){var b;if(a){b=f.getById("sform_ui_contextmenu"),null!==b&&(b.remove?b.remove():b.parentNode.removeChild(b))}else for(var d=f.selectAll(c.body,".sform-ui-contextmenu"),e=0,g=d.length;e<g;e++)b=d[e],b.remove?b.remove():b.parentNode.removeChild(b)},mouseovercolor:function(a,b){var d=c.getElementById(a);d.querySelector(".previewColor").style.backgroundColor=b,d.querySelector(".previewColorTxt").innerHTML=b,c.body.style.cursor="pointer"},clickcolor:function(a,b,e,f){var h=c.getElementById(a),i=Snap.color(b),j=h.querySelector(".colors-lightness"),k=i.s,l=i.l,m=-1,n=[];n[++m]="<table cellpadding='0' cellspacing='0' style='margin: 0 auto;'>";var o,p,q,r;for(n[++m]="<tr>",r=0;r<10;r+=1)q=Snap.hsl(i.h,k/10*r,l/10*r,i),o=Snap.color(q),p=Snap.rgb(o.r,o.g,o.b,o.opacity),n[++m]="<td",n[++m]=" onclick=\"InziSForm.UI.clickcolor('"+a+"', '"+q.toUpperCase()+"',-1,-1)\"",n[++m]=" onmouseover=\"InziSForm.UI.mouseovercolor('"+a+"', '"+q.toUpperCase()+"')\"",n[++m]=" style='width: 20px; height: 20px; color: #FFFFFF; background: "+p+"'>&nbsp;</td>";for(n[++m]="</tr>",n[++m]="<tr>",r=0;r<10;r+=1)q=Snap.hsl(i.h,k-k/10*(r+1),l+(1-l)/10*(r+1),i),o=Snap.color(q),p=Snap.rgb(o.r,o.g,o.b,o.opacity),n[++m]="<td",n[++m]=' onclick="'+g+".UI.clickcolor('"+a+"', '"+q.toUpperCase()+"',-1,-1)\"",n[++m]=' onmouseover="'+g+".UI.mouseovercolor('"+a+"', '"+q.toUpperCase()+"')\"",n[++m]=" style='width: 20px; height: 20px; color: #FFFFFF; background: "+p+"'>&nbsp;</td>";if(n[++m]="</tr>",n[++m]="</table>",j.innerHTML=n.join(""),e>-1&&f>-1){var s=h.querySelector(".selected-color-bg");s.style.top=e+"px",s.style.left=f+"px",s.style.visibility="visible"}else h.querySelector(".selected-color-bg").style.visibility="hidden";h.querySelector(".selectedColor").style.backgroundColor=b,h.querySelector(".selectedColorTxt").innerHTML=b,h.querySelector("input[name='__sform_color_h']").value=d.toInt(360*i.h),h.querySelector("input[name='__sform_color_s']").value=d.toInt(100*i.s),h.querySelector("input[name='__sform_color_l']").value=d.toInt(100*i.l),h.querySelector("input[name='__sform_color_r']").value=i.r,h.querySelector("input[name='__sform_color_g']").value=i.g,h.querySelector("input[name='__sform_color_b']").value=i.b},colorpicker:function(b,e,h){b=b||"#000000";var i=Snap.color(b),k=c.querySelectorAll(".sform-ui-colorpicker"),l="sform-ui-colorpicker"+(null==k?1:k.length+1),m=-1,n=[],o=0,p=j.length;for(n[++m]="<div class='popup-container'>",n[++m]="<div class='frame'>",n[++m]="<div class='ui-left'>",n[++m]="<div class='selected-color-bg'></div>",n[++m]="<div class='color-map'>",n[++m]="<div usemap='#colormap' alt='colormap' title='colormap'></div>",n[++m]="<img src='data:image/gif;base64,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' usemap='#colormap' alt='colormap' />",n[++m]="<map id='colormap' name='colormap'>",o=0;o<p;o+=1){var q=j[o],r=q[0].split(",");n[++m]="<area style='cursor: pointer' shape='poly' coords='"+q[0]+"' onclick=\"InziSForm.UI.clickcolor('"+l+"','"+q[1]+"',"+(d.toInt(r[9])-15)+","+r[10]+')" onmouseover="InziSForm.UI.mouseovercolor(\''+l+"', '"+q[1]+"')\" alt='"+q[1]+"' />"}n[++m]="</map>",n[++m]="</div>",n[++m]="<div class='colors-lightness'></div>",n[++m]="</div>",n[++m]="<div class='ui-right'>",n[++m]="<div style='height:22px;'>",n[++m]="<span class='selectedColor color' style='background:"+(b||"#000000;")+"' ></span>",n[++m]="<span class='selectedColorTxt text'>"+i.hex+"</span>",n[++m]="</div>",n[++m]="<div style='height:22px; margin:10px 0;'>",n[++m]="<span class='previewColor color'></span>",n[++m]="<span class='previewColorTxt text'></span>",n[++m]="</div>",n[++m]="<div style='height:22px; margin:10px 0;'>",n[++m]="<ul>",n[++m]="<li><span class='text'>H:</span><span><input type='number' name='__sform_color_h' value='"+i.h+"' /></span></li>",n[++m]="<li><span class='text'>S:</span><span><input type='number' name='__sform_color_s' value='"+i.s+"' /></span></li>",n[++m]="<li><span class='text'>L:</span><span><input type='number' name='__sform_color_l' value='"+i.l+"' /></span></li>",n[++m]="<li><span class='text'>R:</span><span><input type='number' name='__sform_color_r' value='"+i.r+"' /></span></li>",n[++m]="<li><span class='text'>G: </span><span><input type='number' name='__sform_color_g' value='"+i.g+"' /></span></li>",n[++m]="<li><span class='text'>B:</span><span><input type='number' name='__sform_color_b' value='"+i.b+"' /></span></li>",n[++m]="</ul>",n[++m]="</div>",n[++m]="</div>",n[++m]="<div class='btn-area'>",n[++m]="<a href='#' class='btn-blue' id='__sform_stamp_save'>확인</a>",n[++m]="<a href='#' class='btn-blue' onclick=\""+g+".UI.unblock('body', '#"+l+"');\">닫기</a>",n[++m]="</div>",n[++m]="</div>",n[++m]="</div>";var s=f.createElement("div",{class:"sform-ui-colorpicker sform-popup-layer",id:l,style:"z-index:99999;"},c.body);if(s.innerHTML=n.join(""),this.block("body",s),d.isFunction(e)){var t=c.getElementById("__sform_stamp_save"),u=function(){var b=Snap.color(c.getElementById(l).querySelector(".selectedColorTxt").innerHTML);h?e(h,b):e(b),a.UI.unblock("body","#"+l)};d.bind(t,"click",u)}},font:function(b,e){var h="sform-ui-font-prop",i="__sform_",j=-1,k=[],l=0,m=0,n=["굴림","돋움","맑은고딕","Arial","궁서"],o=[8,9,10,11,12,13,14,15,16,17,18,19,20,22,24,26,28,36,40,48,72],p=[["normal|normal","보통"],["normal|italic","기울임꼴"],["bold|normal","굵게"],["bold|italic","굵게 기울임꼴"]],q=f.getById(b),r=f.select(q,"input[name='"+i+"font-size']"),s=f.select(q,"input[name='"+i+"font-weight']"),t=f.select(q,"input[name='"+i+"font-style']"),u=f.select(q,"input[name='"+i+"font-family']");for(k[++j]="<div class='popup-container'>",k[++j]="<div class='options'>",k[++j]="<ul>",k[++j]="<li><span class='title'>글꼴</span></li>",k[++j]="<li><input type='text' name='inputFontFamily' style='width:120px;' value='"+d.toNotEmpty(u.value,n[0])+"' /></li>",k[++j]="<li>",k[++j]="<select name='font-family' style='width:120px;' onchange=\"this.parentNode.parentNode.querySelector('input[name=inputFontFamily]').value = this.options[selectedIndex].text; this.parentNode.parentNode.parentNode.parentNode.querySelector('.preview-font').style.fontFamily = this.value;\">",l=0,m=n.length;l<m;l+=1)k[++j]="<option value='"+n[l]+"' "+(n[l]===u.value?"selected='selected'":"")+">"+n[l]+"</option>";for(k[++j]="</select>",k[++j]="</li>",k[++j]="</ul>",k[++j]="<ul>",k[++j]="<li><span class='title'>글꼴 사이즈</span></li>",k[++j]="<li><input type='text' name='inputFontSize' style='width:100px;' value='"+d.toNotEmpty(r.value,o[4])+"' /></li>",k[++j]="<li>",k[++j]="<select name='font-size' multiple style='width:100px; height:70px;' onchange=\"this.parentNode.parentNode.querySelector('input[name=inputFontSize]').value = this.options[selectedIndex].text; this.parentNode.parentNode.parentNode.parentNode.querySelector('.preview-font').style.fontSize = this.value+'px';\">",l=0,m=o.length;l<m;l+=1)k[++j]="<option value='"+o[l]+"' "+(o[l]===d.toInt(r.value)?"selected='selected'":"")+">"+o[l]+"</option>";for(k[++j]="</select>",k[++j]="</li>",k[++j]="</ul>",k[++j]="<ul>",k[++j]="<li><span class='title'>글꼴 스타일</span></li>",k[++j]="<li><input type='text' name='inputFontStyle' style='width:100px;' value='"+p[0][1]+"' /></li>",k[++j]="<li>",k[++j]="<select name='font-style' multiple style='width:100px; height:70px;' onchange=\"this.parentNode.parentNode.querySelector('input[name=inputFontStyle]').value = this.options[selectedIndex].text; var values = this.value.split('|'), el = this.parentNode.parentNode.parentNode.parentNode.querySelector('.preview-font'); el.style.fontWeight = values[0]; el.style.fontStyle = values[1];\">",l=0,m=p.length;l<m;l+=1)k[++j]="<option value='"+p[l][0]+"' "+(0===l?"selected='selected'":"")+">"+p[l][1]+"</option>";k[++j]="</select>",k[++j]="</li>",k[++j]="</ul>",k[++j]="</div>",k[++j]="<div class='preview-area'>",k[++j]="<span class='title'>미리보기</span>",k[++j]="<div class='preview-font'>가나다AaBbCcYyZz123</div>",k[++j]="</div>",k[++j]="<div class='btn-area'>",k[++j]="<a href='#' class='btn-blue' id='btnConfirm'>확인</a>",k[++j]="<a href='#' class='btn-blue' onclick=\""+g+".UI.unblock('body', '#"+h+"');\">닫기</a>",k[++j]="</div>",k[++j]="</div>";var v=f.createElement("div",{class:"sform-ui-font-prop sform-popup-layer",id:h,style:"z-index:9999;"},c.body);v.innerHTML=k.join(""),this.block("body",v);var w=f.getById("btnConfirm"),x=function(){var b=f.select(v,"select[name='font-style']").value.split("|");u.value=f.select(v,"select[name='font-family']").value,r.value=f.select(v,"input[name='inputFontSize']").value,s.value=b[0],t.value=b[1],d.isFunction(u.onchange)&&u.onchange(),d.isFunction(r.onchange)&&r.onchange(),d.isFunction(s.onchange)&&s.onchange(),d.isFunction(t.onchange)&&t.onchange(),a.UI.unblock("body","#"+h)};d.bind(w,"click",x)},properties:function(b,h,j){var k="sform-ui-properties",l=f.getById(k),m=h.attr(),n=m.anntype,o="__sform_",p=-1,q=[],r=a.UI,s=0,t=0,u=0,v=0;if(q[++p]='<div class="popup-container">',q[++p]="<div class='frame'>",n!==e.AnnotationType.MEMO&&n!==e.AnnotationType.TEXT&&n!==e.AnnotationType.STICKYNOTE&&n!==e.AnnotationType.EDITTEXT&&n!==e.AnnotationType.CHECKMARK||(q[++p]="<div class='prop-font'>",q[++p]="<span class='title'>글꼴</span>",q[++p]="<ul>",q[++p]="<li><span class='preview' onclick=\""+g+".UI.font('"+k+"')\">"+m["font-family"]+"</span>",q[++p]="<input type='hidden' name='"+o+"font-family' onchange=\"javascript:var elDisplay = this.parentNode.querySelector('.preview'); elDisplay.innerHTML = this.value;\" value=\""+m["font-family"]+'"  />',q[++p]="<input type='hidden' name='"+o+"font-size' value='"+m["font-size"]+"' />",q[++p]="<input type='hidden' name='"+o+"font-weight' value='"+m["font-weight"]+"' />",q[++p]="<input type='hidden' name='"+o+"font-style' value='"+m["font-style"]+"' />",q[++p]="</li>",q[++p]="<li><span>색:</span><span class='font-color' style='background:"+m["font-color"]+"'><input type='hidden' name='"+o+"font-color' /></span></li>",q[++p]="</ul>",q[++p]="</div>"),q[++p]="<div class='prop-fill'>",q[++p]="<span class='title'>채우기</span>",q[++p]="<ul>",q[++p]="<li><span class='text-label'>색:</span><span class='fill-color' style='background:"+m.fill+"'><input type='hidden' name='"+o+"fill' /></span></li>",n!==e.AnnotationType.MASK&&(q[++p]="<li><span class='text-label'>투명: </span><span>",n===e.AnnotationType.STICKYNOTE?q[++p]="<input type='text' name='fill-opacity'  value='"+m["fill-opacity"]+"'/>":q[++p]="<input type='checkbox' name='fill-opacity' "+(0===d.toFloat(m["fill-opacity"],1)?"checked=checked":"")+" value='"+m["fill-opacity"]+"' onchange='if(this.checked){this.value=0;}else{this.value=1;}'/>",q[++p]="</span></li>"),q[++p]="</ul>",q[++p]="</div>",n!==e.AnnotationType.STICKYNOTE){q[++p]="<div class='prop-stroke'>",q[++p]="<span class='title'>선</span>",q[++p]="<ul>",q[++p]="<li><span class='text-label'>색:</span><span class='stroke-color' style='background:"+m.stroke+"'><input type='hidden' name='"+o+"stroke' /></span></li>",q[++p]="<li><span class='text-label'>스타일: </span><span><input type='hidden' name='"+o+"stroke-linecap' /><span>선택</span></span>";var w=["butt","round","square"];for(q[++p]="<ul attrType='strokeLinecap' class='stroke-linecap' >",s=0,t=w.length;s<t;s+=1)q[++p]="<li class='line-cap'><span class='"+w[s]+"' attrValue='"+w[s]+"'></span></li>";q[++p]="</ul>",q[++p]="</li>",q[++p]="<li><span class='text-label'>종류:</span><span><input type='hidden' name='stroke-dasharray' /><input type='hidden' name='"+o+"stroke-dashstyle' /><span><svg width='70' height='20'><line stroke='#000' stroke-dasharray='' x1='5' y1='10' x2='60' y2='10' /></svg></span></span>",q[++p]="<ul attrType='stroke-dasharray'>";var x=["0,0","10,10","5,5","10,5,10,5","10,5,5","5,5,1,5"];for(s=0,t=x.length;s<t;s+=1)q[++p]="<li><svg width='70' height='20'><line stroke='#000' stroke-dashstyle='"+s+"' stroke-dasharray='"+x[s]+"' x1='5' y1='10' x2='60' y2='10' /></svg></li>";q[++p]="</ul></li>",q[++p]="<li><span class='text-label'>두께: </span><span><select name='"+o+"stroke-width'>";var y=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10,10.5,11,12,20,32];for(s=0,t=y.length;s<t;s+=1)q[++p]="<option value='"+y[s]+"' "+(5===s?"selected='selected'":"")+">"+y[s]+"</option>";q[++p]="</select></span></li>",q[++p]="</ul>",q[++p]="</div>"}if(n===e.AnnotationType.ARROWLINE||n===e.AnnotationType.LINE){q[++p]="<div class='prop-arrow'>",q[++p]="<span class='title'>화살표</span>",q[++p]="<ul>";var z,A=a.Type.MarkerType.getByIndex("LEFT",m["left-arrow-shape"]),B=a.Type.MarkerType.getByIndex("RIGHT",m["right-arrow-shape"]),C=a.Type.MarkerType;q[++p]="<li><span class='text-label'>시작 스타일:</span><span><input type='hidden' name='left-arrow-shape' value='"+m["left-arrow-shape"]+"' /><span class='marker-start-"+a.Type.Marker[A].type.toLowerCase()+"' attrValue='"+A+"'></span></span>",q[++p]="<ul type='marker-start'>";var D=a.Type.Marker,E=[C.NONE,C.ARROW_LEFT,C.OPENARROW_LEFT,C.SHARPARROW_LEFT,C.DIAMOND,C.CIRCLE],F=[C.NONE,C.ARROW_RIGHT,C.OPENARROW_RIGHT,C.SHARPARROW_RIGHT,C.DIAMOND,C.CIRCLE];for(s=0,t=E.length;s<t;s+=1)z=D[E[s]],q[++p]="<li><span class='marker-start-"+E[z.shapeIndex].toLowerCase()+"' type='marker-start' attrValue='"+z.shapeIndex+"'></span></li>";for(q[++p]="</ul>",q[++p]="</li>",q[++p]="<li><span class='text-label'>끝 스타일:</span><span><input type='hidden' name='right-arrow-shape' value='"+m["right-arrow-shape"]+"' /><span class='marker-end-"+a.Type.Marker[B].type.toLowerCase()+"' attrValue='"+B+"'></span></span>",q[++p]="<ul type='marker-end'>",s=0,t=F.length;s<t;s+=1)z=D[F[s]],q[++p]="<li><span class='marker-end-"+F[z.shapeIndex].toLowerCase()+"' type='marker-end' attrValue='"+z.shapeIndex+"'></span></li>";q[++p]="</ul>",q[++p]="</li>",q[++p]="<li><span class='text-label'>시작 크기:</span><span><input type='text' name='las-size' value='"+m["las-size"]+"' style='width:25px;' maxlength='2'/></span></li>",q[++p]="<li><span class='text-label'>끝 크기:</span><span><input type='text' name='ras-size' value='"+m["ras-size"]+"'  style='width:25px;' maxlength='2' /></span></li>",q[++p]="</ul>",q[++p]="</div>",q[++p]="</div>"}q[++p]='<div class="btn-area">',q[++p]="<a href='#' class='btn-blue' id='btn-sform-confirm'>확인</a>",q[++p]="<a href='#' class='btn-blue' onclick=\""+g+".UI.unblock('body', '#"+k+"');\">닫기</a>",q[++p]="</div>",q[++p]="</div>";var G;l?(G=l,l.removeChild()):G=f.createElement("div",{class:"sform-ui-properties sform-popup-layer",id:k},c.body),G.innerHTML=q.join("");var H,I,J,K;for(K in m)H=G.querySelector("input[name='"+o+K+"'],select[name='"+o+K+"']"),J=m[K],null!=H&&d.isNotEmpty(J)&&("hidden"===H.type||"text"===H.type?"object"!=typeof m[K]&&(H.value=J):-1!==H.type.indexOf("select")&&null!==(I=H.querySelector("option[value='"+J+"']"))&&(I.selected=!0));var L,M=function(a){f.parent(a.target,"li").querySelector("ul").style.display="block"},N=function(a){f.parent(a,"ul").style.display="none"},O=function(a){ga.value=a.hex,fa.style.backgroundColor=a.hex},P=function(a){ia.value=a.hex,ha.style.backgroundColor=a.hex,n===e.AnnotationType.HIGHLIGHTER&&(ka.value=a.hex,ja.style.backgroundColor=a.hex)},Q=function(){r.colorpicker(ha.style.backgroundColor,P)},R=function(a){ka.value=a.hex,ja.style.backgroundColor=a.hex},S=function(){r.colorpicker(ja.style.backgroundColor,R)},T=function(){r.colorpicker(fa.style.backgroundColor,O)},U=function(){for(var a,b,c=f.selectAll(G,"input:not([type='button']),select"),e={},g={},h=0,l=c.length;h<l;h+=1){var m=c[h];a=i(m,"name"),a=a.replace(o,""),e[a]=m,b=m.value,-1!==a.indexOf("arrow-shape")&&(b=d.toInt(b)),g[a]=b}d.isFunction(j)&&j(g),r.unblock("body","#"+k)},V=f.selectAll(G,".prop-stroke ul li ul"),W=function(a){var b,c=a.target,d=c.localName;b="svg"===d?c.childNodes[0]:c.parentNode.childNodes[0];var e=$.querySelector("svg"),g=e.childNodes[0];g&&e.removeChild(g),e.appendChild(b.cloneNode(!0)),f.select($,"input[name='strokeDasharray']").value=i(b,"stroke-dasharray"),f.select($,"input[name='strokeDashStyle']").value=i(b,"strokeDashStyle"),N(c)},X=function(a){var b=a.target,c=f.parent(b,"ul").previousSibling,d=f.select(c,"input[name='strokeLinecap']");d.value=i(b,"attrValue"),i(d.nextSibling,"class",d.value),N(b)};for(s=0,t=V.length;s<t;s+=1){var Y,Z=V[s],$=Z.previousSibling,_=i(Z,"attrType");if("stroke-dasharray"===_&&m.hasOwnProperty(_))for(f.select($,"svg line").setAttribute("stroke-dasharray",d.toNotEmpty(m["stroke-dasharray"],"0,0")),d.bind($,"click",M),L=Z.childNodes,u=0,v=L.length;u<v;u+=1)Y=L[u],d.bind(Y,"click",W);else if("stroke-linecap"===_&&m.hasOwnProperty(_))for(J=d.toNotEmpty(m["stroke-linecap"],"round"),$.querySelector("input[name='stroke-linecap']").nextSibling.setAttribute("class",m[_]),d.bind($,"click",M),L=Z.childNodes,u=0,v=L.length;u<v;u+=1)Y=L[u],d.bind(Y,"click",X);else $.setAttribute("class","disabled")}if(n===e.AnnotationType.ARROWLINE||n===e.AnnotationType.LINE){var aa,ba=f.selectAll(G,".prop-arrow ul li ul"),ca=function(b){var c,e=b.target,g=f.parent(e,"ul"),h=g.previousSibling,j=h.querySelector("input"),k=h.querySelector("span"),l=i(g,"type"),m=d.toInt(i(e,"attrValue")),n=(i(e,"type"),i(j,"name"));c="left-arrow-shape"===n?a.Type.MarkerType.getByIndex("LEFT",m):a.Type.MarkerType.getByIndex("RIGHT",m),j.value=m,k.setAttribute("class",l+"-"+a.Type.Marker[c].type.toLowerCase()),N(e)};for(s=0,t=ba.length;s<t;s+=1){var da=ba[s],ea=da.previousSibling;for(d.bind(ea,"click",M),L=da.childNodes,u=0,v=L.length;u<v;u+=1)aa=L[u].querySelector("span"),d.bind(aa,"click",ca)}}this.block("body",G);var fa=f.select(G,".font-color"),ga=f.select(G,"input[name="+o+"font-color]");fa&&d.bind(fa,"click",T);var ha=f.select(G,".fill-color"),ia=f.select(G,"input[name="+o+"fill]");ha&&d.bind(ha,"click",Q);var ja=f.select(G,".stroke-color"),ka=f.select(G,"input[name="+o+"stroke]");ja&&d.bind(ja,"click",S),d.bind(f.getById("btn-sform-confirm"),"click",U)},block:function(a,b){var e;if(null!==(e="string"==typeof a?c.querySelector(a)||c.querySelector("body"):a)){var g=e.offsetWidth,j=e.offsetHeight,k="block_"+i(b,"id"),l=b?b.style.zIndex||999:999,m=k?"div[blockId=block_"+k+"]":"."+h+"-ui-block",n=c.querySelector(m);if(null!=n&&e.removeChild(n),f.createElement("div",{blockId:k,class:h+"-ui-block",style:"width:"+g+"px; height:"+j+"px; z-index:"+(d.toInt(l)-10)+";"},e),void 0!==b&&"object"==typeof b){e.appendChild(b);var o=b.offsetWidth,p=b.offsetHeight;b.style.top=Math.min(250,(e.clientHeight-p)/2)+"px",b.style.left=(e.clientWidth-o)/2+"px"}}},unblock:function(a,b,d){var e,g=c.querySelector(a)||c.querySelector("body");try{if(null!==g){var j=f.select(g,b);null!==j&&(e=i(j,"id"),j.parentNode.removeChild(j));var k,l,m=e?"div[blockId=block_"+e+"]":"."+h+"-ui-block";if(d)k=f.selectAll(g,m);else{var n=f.select(g,m);k=n?[n]:[]}for(var o=0,p=k.length;o<p;o++)null!=(l=k[o])&&l.parentNode.removeChild(l)}}catch(q){console.log(q)}},imageCompare:function(a,b){function c(){w.style.display="block",v.style.display="none",t.style.position="absolute",t.style.zIndex=1,t.style.top=D/2-t.offsetHeight/2+"px",t.style.left=(B-C)/2+C/2-t.offsetWidth/2+"px",u.style.position="absolute",u.style.zIndex=100,u.style.opacity=.5,u.style.top=D/2-u.offsetHeight/2+"px",u.style.left=(B-C)/2+C/2-u.offsetWidth/2+"px"}function e(a){var b=a.target;"sform-compare-zoomin"===i(b,"id")?p+=.2:p-=.2,p=p>2?Math.min(p,2):p<.5?Math.max(p,.5):p,k(u,p,o)}function j(a){var b=a.target;"sform-compare-rotate-left"===i(b,"id")?o-=10:o+=10,k(u,p,o)}function k(a,b,c){var d="rotate("+c+"deg) scale("+b+")",e={transformOrigin:"50% 50%",transform:d,"-webkit-transform":d,"-webkit-transform-origin-x":"50%","-webkit-transform-origin-y":"50%","-ms-transform":d,"-ms-transform-origin":"50% 50%","-o-transform":d,"-o-transform-origin-x":"50%","-o-transform-origin-y":"50%","-moz-transform":d,"-moz-transform-origin-x":"50%","-moz-transform-origin-y":"50%"};f.prop(a.style,e);var g=Math.max(t.offsetWidth,u.offsetWidth*b),h=Math.max(t.offsetHeight,u.offsetHeight*b);t.style.top=h/2-t.offsetHeight/2+"px",t.style.left=(B-g)/2+g/2-t.offsetWidth/2+"px",u.style.top=h/2-u.offsetHeight/2+"px",u.style.left=(B-g)/2+g/2-u.offsetWidth/2+"px"}var l="__sform_compare_ui_popup",m=-1,n=[],o=0,p=1,q=f.getById(l);null!==q&&q.parentNode.removeChild(q);var r=f.createElement("div");n[++m]="<div class='"+h+"-popup-layer'>",n[++m]="<div class='popup-container'>",n[++m]="<div class='popup-title'>",n[++m]="<h3>이미지 비교</h3>",n[++m]="</div>",n[++m]="<div class='popup-contents'>",n[++m]="<div class='"+h+"-ui-compare-control'>",n[++m]="<div class='default-toolbar'><span><a id='sform-compare-button' href='#' class='btn-gray'>비교 하기</a></span></div>",n[++m]="<div style='display:none;' class='control-toolbar'>",n[++m]="<span class='sform-ui-active'><a id='sform-compare-zoomin' title='축소' alt='축소' href='#' class='sform-ui-icon icon-zoom-in'></a></span>",n[++m]="<span class='sform-ui-active'><a id='sform-compare-zoomout' title='축소' alt='축소' href='#' class='sform-ui-icon icon-zoom-out'></a></span>",n[++m]="<span class='sform-ui-active'><a id='sform-compare-rotate-left' title='왼쪽 회전' alt='왼쪽 회전' href='#' class='sform-ui-icon icon-rotate-left'></a></span>",
n[++m]="<span class='sform-ui-active'><a id='sform-compare-rotate-right' title='오른쪽 회전' alt='오른쪽 회전' href='#' class='sform-ui-icon icon-rotate-right'></a></span>",n[++m]="</div>",n[++m]="</div>",n[++m]="<div class='compare-contents'>",n[++m]="<div class='display-image'>",n[++m]="<div id='sform-compare-source'></div>",n[++m]="<div id='sform-compare-dest'></div>",n[++m]="</div>",n[++m]="</div>",n[++m]='<div class="btn-right">',n[++m]="<a href='#' class='btn-close' onclick=\""+g+".UI.unblock('body', '#"+l+"');\">닫기</a>",n[++m]="</div>",n[++m]="</div>",n[++m]="</div>",n[++m]="</div>",r.innerHTML=n.join(""),i(r,{id:l,class:h+"-ui-image-compare"}),this.block("body",r);var s=f.getById("sform-compare-button"),t=f.getById("sform-compare-source"),u=f.getById("sform-compare-dest");t.appendChild(a),u.appendChild(b);var v=f.select(r,".default-toolbar"),w=f.select(r,".control-toolbar"),x=f.getById("sform-compare-zoomin"),y=f.getById("sform-compare-zoomout"),z=f.getById("sform-compare-rotate-left"),A=f.getById("sform-compare-rotate-right"),B=t.parentNode.offsetWidth,C=(t.parentNode.offsetHeight,Math.max(t.offsetWidth,u.offsetWidth)),D=Math.max(t.offsetHeight,u.offsetHeight);null!=s&&(d.bind(s,"click",c),d.bind(x,"click",e),d.bind(y,"click",e),d.bind(z,"click",j),d.bind(A,"click",j))},memo:function(b,h,i){function j(){if(d.isFunction(h)){var c;b.type===e.AnnotationType.STICKYNOTE?(q=D.value,c={text:C.value,fontSize:a.Utils.toInt(D.value),fill:G.value,fillOpacity:d.toFloat(E.value,1)||.1}):c=C.value,h(c)}l()}function k(){i?m.block("body",u,!0):v.appendChild(u)}function l(){i?m.unblock("body","#"+n,!0):v.removeChild(u)}var m=this,n="__sform_ui_popup_memo",o=-1,p=[],q=b.fontSize,r="__sform_",s={memopad:"Memopad",memo:"Memo",text:"Memo",edittext:"Text",stickynote:"Sticky Note"},t=s[b.type]?s[b.type]:"Properties",u=f.getById(n);u&&u.parentNode.removeChild(u);var v=b.node?b.node:c.body;if(u=f.createElement("div",{id:n,class:"sform-ui-memo"},v),p[++o]='<div class="sform-popup-layer">',p[++o]='<div class="popup-container">',p[++o]='<div class="popup-title">',p[++o]="<h3>"+t+"</h3>",p[++o]="</div>",p[++o]='<div class="popup-contents">',p[++o]='<div class="message mb20 text-center">',b.type===e.AnnotationType.STICKYNOTE){var w=0,x=[8,9,10,11,12,13,14,15,16,17,18,19,20,22,24,26,28,36,40,48,72],y=x.length;for(p[++o]='<span class="properties">',p[++o]="<span class='fill-color' style='background:"+b.fill+"'><input type='hidden' name='"+r+"fill' value=\""+b.fill+'"/></span>',p[++o]='<label for="'+g+'-memo-font-size">불투명</label><select name="fill-opacity" id="'+g+'-memo-fill-opacity">',w=0;w<=10;w++)p[++o]='<option value="'+w/10+'" '+(b.fillOpacity===w/10?"selected='selected'":"")+">"+10*w+"%</option>";for(p[++o]="</select>",p[++o]='<label for="'+g+'-memo-font-size">크기</label><select name="font-size" id="'+g+'-memo-font-size">',-1===x.indexOf(d.toInt(b.fontSize))&&(p[++o]='<option value="'+d.toInt(b.fontSize)+'" >'+d.toInt(b.fontSize)+"</option>"),w=0;w<y;w++)p[++o]='<option value="'+x[w]+'" '+(x[w]===(d.toInt(b.fontSize)||24)?"selected='selected'":"")+">"+x[w]+"</option>";p[++o]="</select>",p[++o]="</span>"}p[++o]='<textarea rows="7">'+(b.text?b.text:"")+"</textarea>",p[++o]="</div>",p[++o]='<div class="btn-right">',p[++o]='<a href="#" class="btn-close">확인</a>',p[++o]="</div>",p[++o]="</div>",p[++o]="</div>",p[++o]="</div>",u.innerHTML=p.join("");var z=(v.clientHeight-u.offsetHeight)/2,A=(v.clientWidth-u.offsetWidth)/2;u.style.top=(z<0?0:z)+"px",u.style.left=(A<0?0:A)+"px";var B=f.select(u,".btn-close"),C=f.select(u,"textarea"),D=f.getById(g+"-memo-font-size"),E=f.getById(g+"-memo-fill-opacity"),F=f.select(u,".fill-color"),G=f.select(u,"input[name="+r+"fill]"),H=function(a){G.value=a.hex,F.style.backgroundColor=a.hex},I=function(){a.UI.colorpicker(F.style.backgroundColor,H)};F&&d.bind(F,"click",I),d.bind(B,"click",j),k()},loading:function(a,b){var d="sform-ui-progressbar",g="."+h+"-wrapper",i=f.select(c.body,"#"+d),j=(c.body,[]),k=-1;if(!a)return this.unblock("body",d),void(i&&i.parentNode&&i.parentNode.removeChild(i));if(!i){var l=f.createElement("div",{id:d,class:"sform-ui-progressbar"});j[++k]="<div class='container'>",j[++k]="<div class='progress-message'>",j[++k]="<div>",j[++k]="<p>"+(b||"처리중 입니다.")+"</p>",j[++k]="<img src='"+e.UI.LOADING_BAR.POPUP+"' alt='로딩바'/>",j[++k]="</div>",j[++k]="</div>",j[++k]="</div>",l.innerHTML=j.join(""),this.block(g,l)}},show:function(a){if(a){var b=f.offset(a);a.style.position="absolute",a.style.display="block",a.style.top=(c.body.clientHeight-b.height)/2+"px",a.style.left=(c.body.clientWidth-b.width)/2+"px"}},progress:function(b,e,g){var h="sform-ui-progressbar",i=f.getById(h),j=[],k=-1,l=d.toInt(b/e*100),m="progressbar-gray";l>10&&l<70?m="progressbar-blue":l>=70&&(m="progressbar-green");var n="progressbar "+m;null===i&&(i=f.createElement("div",{id:h,class:"sform-ui-progressbar"},c.body),a.UI.block("body",i),j[++k]="<div class='container'>",j[++k]="<div class='"+m+"'>",j[++k]="<div class='progress-message'>0%</div>",j[++k]="<div class='progressbar'>",j[++k]="<div class='progressbar-inner'></div>",j[++k]="</div>",j[++k]="</div>",j[++k]="</div>",i.innerHTML=j.join(""));var o=f.select(i,".progressbar"),p=f.select(i,".progressbar-inner"),q=f.select(i,".progress-message");o&&f.attr(o,"class",n),p&&(p.style.width=l+"%"),q&&(q.innerHTML=l+"%"),100===l&&g&&setTimeout(function(){a.UI.unblock("body","#"+h)},200)},alert:function(a,b,c){this.message(a,b,c)},message:function(b,d,e,i){var j="sform-ui-message",k=f.getById(j),l=[],m=-1,n="."+h+"-wrapper",o=f.select(c.body,n)||c.body;k=f.createElement("div",{id:j,class:"sform-ui-message"},o),a.UI.block(o,k),l[++m]='<div class="contents">',l[++m]='<div class="sform-popup-layer">',l[++m]='<div class="popup-container">',l[++m]='<div class="popup-title">',l[++m]="<h3>알림</h3>",l[++m]="</div>",l[++m]="<div class='message'>",l[++m]=b,l[++m]="</div>",l[++m]='<div class="btn-right">',l[++m]="<a href='#' class='btn-close' onclick=\""+g+".UI.unblock('body', '#"+j+"');\">닫기</a>",l[++m]="</div>",l[++m]="</div>",l[++m]="</div>",k.innerHTML=l.join(""),void 0!==i&&setTimeout(function(){a.UI.unblock("body","#"+j)},i)},animation:function(a,b){}};return a.UI=k}),InziSForm.create(function(a,b,c){"use strict";var d=/^data:image\/(png|jpg|jpeg|gif|bmp);base64,/,e=a.Utils,f=(a.Type,a.UI,function(a){var b={data:null,dataUrl:null,name:null,mimeType:null,width:null,height:null,fileId:null,pageNo:-1};if(this._params=e.extend(b,a),this.data=this._params.data,this.dataUrl=this._params.dataUrl,this.name=this._params.name,this.mimeType=this._params.mimeType,this.width=this._params.width||0,this.height=this._params.height||0,this.fileId=this._params.fileId||"",this._pageNo=this._params.pageNo||1,this._canvasImageData=null,this.dataUrl.match(d)){var c=this.dataUrl?this.dataUrl.replace(d,""):"";this.dataAB=e.isNotEmpty(c)?e.base64ToArrayBuffer(c):null}});f.prototype={setData:function(a){var b=this;this.data=a,this.dataUrl.match(d)&&setTimeout(function(){var a=c.createElement("canvas");a.width=b.width,a.height=b.height,a.getContext("2d").drawImage(b.data,0,0,b.width,b.height);var d=a.getContext("2d").getImageData(0,0,b.width,b.height);b.setCanvasImageData(d),a=null},100)},getData:function(){return this.data},setCanvasImageData:function(a){this._canvasImageData=a},getCanvasImageData:function(){return this._canvasImageData},setDataUrl:function(a,b){if(this.dataUrl=a,b){var c=this.dataUrl?this.dataUrl.replace(d,""):"";this.dataAB=e.isNotEmpty(c)?e.base64ToArrayBuffer(c):null}},getDataUrl:function(){return this.dataUrl},setName:function(a){this.name=a},getName:function(){return this.name},setMimeType:function(a){this.mimeType=a},getMimeType:function(){return this.mimeType},setSize:function(a,b){this.setWidth(a),this.setHeight(b)},setWidth:function(a){this.width=a},getWidth:function(){return this.width},setHeight:function(a){this.height=a},getHeight:function(){return this.height},setFileId:function(a){this.fileId=a},getFileId:function(){return this.fileId},setPageNo:function(a){this._pageNo=a},getPageNo:function(){return this._pageNo},setDataAB:function(a,b){if(this.dataAB=a,b&&a.byteLength>0){var c=e.arrayBufferToBase64(a);this.dataUrl=e.isNotEmpty(c)?e.createDataUrl(this.mimeType,c):null}},getDataAB:function(){return this.dataAB}},a.core.Image=f}),InziSForm.create(function(a,b,c){"use strict";var d=function(a,b){this._x=a||0,this._y=b||0};d.prototype.getPosition=function(){return{x:this._x,y:this._y}},d.prototype.getX=function(){return this._y},d.prototype.getY=function(){return this._y},d.prototype.getPosition=function(){return{x:this._x,y:this._y}},d.prototype.setPosition=function(a,b){this._x=a||0,this._y=b||0},a.core.Position=d}),InziSForm.create(function(a,b,c){"use strict";var d=function(a,b){this.x=a||1,this.y=b||1};d.prototype={getScale:function(){return{x:this.x,y:this.y}},setScale:function(a,b){this.x=a,this.y=b}},a.core.Scale=d}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Utils,function(a,b){this.width=a||0,this.height=b||0});d.prototype.getSize=function(){return{width:this.width,height:this.height}},d.prototype.getWidth=function(){return this.width},d.prototype.getHeight=function(){return this.height},d.prototype.setSize=function(a,b){this.width=a||0,this.height=b||0},a.core.Size=d}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Utils,a.UI),e=function(a,b){this.message=a,this.callback=b};e.prototype.notify=function(){d.alert(this.message)},a.ServiceException=e}),InziSForm.create(function(a,b,c){"use strict";function d(a){var b,c,e,f=a.attributes;if(f)for(c=f.length,b=0;b<c;b+=1)e=f[b].name,"function"==typeof a[e]&&(a[e]=null);if(f=a.childNodes)for(c=f.length,b=0;b<c;b+=1)d(a.childNodes[b])}var e=a.Utils,f=a.ImageUtils,g=a.Element,h=a.Type,i=a.UI,j=a.moduleClassName,k={GLOBAL_SCALE:"change.zoom",GLOBAL_ANGLE:"change.rotate",PAGE_SCALE:"change.zoom.page",PAGE_ANGLE:"change.rotate.page"},l=function(b){var c={container:null,controlType:a.Type.ControlType.NONE,renderNodeType:a.Type.RenderNodeType.CANVAS,renderType:"",renderQuality:"",index:-1,zoomType:"",angle:0,brightness:0,scale:new a.core.Scale(1,1),changed:!1,editable:!0,annotationEnable:!1,annotationViewMode:"all"};this._data=a.Utils.extend(c,b),this._pageIndex=this._data.index,this._container=this._data.container,this._pageNode=null,this._canvasNode=null,this._canvasContext=null,this._annotation=null,this._selectedItem=null,this._scale=new a.core.Scale(1,1),this._imageFile=null,this._drawing=!1,this._renderImageDataMap={},this._pageInfo={fileId:null,annotationId:null,itemPageNo:0},this._init()};a.inherit(l,a.EventHandler);var m=l.prototype;m._init=function(){function b(a){d.data("zoomType",a.zoomType),d.setScale(a.scale.x,a.scale.y)}function c(a){d.angle(a.angle),d.refreshAnnotation()}var d=this;null===this._pageNode&&this._createPageNode();var e=this.on(k.GLOBAL_SCALE,b);this.updateBindEvents(e),e=this.on(k.GLOBAL_ANGLE,c),this.updateBindEvents(e),e=this.on(k.PAGE_SCALE+d.pageIndex(),b),this.updateBindEvents(e),e=this.on(k.PAGE_ANGLE+d.pageIndex(),c),this.updateBindEvents(e),e=this.on("page"+d.pageIndex()+".change.annotation",function(b){b.attr("anntype")!==h.AnnotationType.ETERNITYRECT&&b.attr("anntype")!==h.AnnotationType.MASK&&b.attr("anntype")!==h.AnnotationType.IMAGEAREA||setTimeout(function(){d._annotation.refreshImage()},200),a.Events.trigger("change.annotation",b)}),this.updateBindEvents(e),this.hide()},m.updateBindEvents=function(a){var b,c=this.data("bind.events")||[],d=0,e=c.length,f=!0;for(d=0;d<e;d++)if(b=c[d].split("-")[0],0===a.indexOf(b)){f=!1;break}f&&(c=c.concat(a)),this.data("bind.events",c)},m.angle=function(a){if(1!==arguments.length)return this._data.angle;this._data.angle=(this._data.angle+a)%360},m.refreshAnnotation=function(){this._annotation&&this._annotation.refreshItem()},m.zoom=function(){return this._data.zoomType===h.ZoomType.DEFAULT?this._scale.x:this._data.zoomType},m._setVisible=function(a){this._pageNode&&(this._pageNode.style.display=a?"block":"none")},m.show=function(){this._setVisible(!0),this.refreshAnnotation()},m.hide=function(){this.unSelectedItem(),this._setVisible(!1)},m.data=function(a,b){return e.data.apply(this,Array.prototype.slice.call(arguments,0))},m.setScale=function(a,b){this._scale.setScale(a,b)},m.getScale=function(){return this._scale},m.pageNo=function(){return this._pageIndex+1},m._createPageNode=function(){if(!this._pageNode){this._pageNode=g.createElement("div",{id:e.generateElementId("page",this.pageNo()),oncontextmenu:"return false",class:"sform-page"},this._container);var a=(this._container.offsetWidth,this._container.offsetHeight,this._pageNode.clientWidth),b=this._pageNode.clientHeight;this._pageNode.style.position="clip"===this._data.renderType?"absolute":"relative",this._createImageNode(a,b),this.data("annotationEnable")&&this._createAnnotation(a,b)}},m._createImageNode=function(b,c){var d=this;this._data.renderNodeType===a.Type.RenderNodeType.IMAGE?(this._imageRenderNode=g.createElement("img",{draggable:"false"},this._pageNode),this._imageRenderNode.style.display="none"):(this._canvasGraphic=a.GraphicsFactory.createGraphic(a.moduleImageGraphicType,d._pageNode,b,c,function(a){}),this._imageRenderNode=this._canvasGraphic.node,this._imageRenderNode.style.position="absolute",this._canvasContext=this._imageRenderNode?this._imageRenderNode.getContext("2d"):null,this._canvasContext.imageSmoothingEnabled=!0,this._canvasContext.mozImageSmoothingEnabled=!0,this._canvasContext.webkitImageSmoothingEnabled=!0,this._canvasContext.msImageSmoothingEnabled=!0)},m._createAnnotation=function(b,c){this._annotation=new a.core.Annotation(this,{viewMode:this._data.annotationViewMode,editable:this._data.editable,pageNo:this.getImageFile()?this.getImageFile().getPageNo():1,container:this._pageNode,width:b,height:c})},m.pageIndex=function(){return this._pageIndex},m.getImageData=function(b){if(this.getImageFile())return this._data.renderNodeType===a.Type.RenderNodeType.IMAGE?this._imageRenderNode:this._annotation&&this.data("controlType")===h.ControlType.MAGNIFICATION&&this._annotation.toImage()?this._annotation.toImage():this.getImageFile().getData()},m.getPageNode=function(){return this._pageNode},m.getGraphicNode=function(){return this._annotation?this._annotation.getGraphicNode():null},m.setAnnotationVisible=function(a){this._annotation&&(a?this._annotation.show(this._data.annotationViewMode):this._annotation.hide(this._data.annotationViewMode))},m.isAnnotationVisible=function(a){if(this._annotation)return this._annotation.isVisible()},m._getAnnotationData=function(a){var b=this.getAnnotation();if(b)return b.data(a)},m.getImageFile=function(){return this._imageFile},m.setImageData=function(b){var c,d=this,f=b.type,g=b.fileName,h=b.mimeType,i=b.fileId,j=b.annotation,k=j?b.annotation.data:"",l=(j&&b.annotation.annotationId,b.pageNo||1),m="";"base64"===f||"url"===f?m=b.data:(e.isEmpty(h)&&(h=g.substring(g.lastIndexOf(".")+1)),c=e.arrayBufferToBase64(k),c="data:image/"+h+";base64,"+c,m=c);var n=new a.core.Image({dataUrl:m,name:g,mimeType:h,fileId:i,pageNo:l,width:b.width||0,height:b.height||0});d.setPageInfo({fileId:i,itemPageNo:l}),d.setImageFile(n),this._imageDataURL=m},m.setImageFile=function(b){var c,d,e=this;this._imageFile=b;var f=new Image;f.src=b.getDataUrl(),"clip"!==this._data.renderType&&i.loading(!0);var g=0;this._data.renderNodeType,a.Type.RenderNodeType.IMAGE,f.onload=function(b){e._imageFile&&(c=f.naturalWidth,d=f.naturalHeight,e._imageFile.setSize(c,d),e._data.renderNodeType!==a.Type.RenderNodeType.IMAGE&&e._imageFile.setData(f),e.updateAnnotationData({width:c,height:d}),e._drawingItems&&e.getAnnotation()&&(e.getAnnotation().getItem()||[]).length!==e._drawingItems.length&&e.drawingItems(e._drawingItems),e.data("width",c),e.data("height",d),e.trigger("page.load.complete"+e.pageIndex(),{page:e,fileId:e._imageFile.getFileId(),width:c,height:d,pageNo:e.pageNo()},e),e._imageRenderNode.style.display="block"),i.loading(!1),f.onload=null,f.onerror=null,f=null},f.onerror=function(){g<3&&(this.src=this.src),g+=1}},m.getImageRenderNode=function(){return this._imageRenderNode},m.getCanvasContext=function(){if(null!==this._canvasContext)return this._canvasContext},m.reset=function(){var b={zoomType:"",angle:0,scale:new a.core.Scale(1,1),matrix:"",index:-1,context:null,currentFile:null,annotation:null,changed:!1,selectedItem:null,isDrawing:!1,contentsNode:null,controlType:a.Type.ControlType.NONE,annotationEnable:!1,annotationViewMode:"all",editable:!0};this._pageNode=null,this._imageRenderNode=null,this._canvasContext=null,this._annotation=null,this._selectedItem=null,this._drawing=!1,this._graphic=null,this._imageFile&&this._imageFile.setData(null),this._imageFile=null,this.data(b)},m.remove=function(){for(var a=this.data("bind.events"),b=0;b<a.length;b++)this.off(a[b]);this._pageNode&&(d(this._imageRenderNode),d(this._pageNode),this._container.removeChild(this._pageNode)),this._annotation&&this._annotation.remove(),this.reset()},m.resetAnnotation=function(){this.getAnnotation()&&this.getAnnotation()&&this.getAnnotation().removeAllItem()},m.resetItem=function(){this.removeAllItem()},m.drawing=function(a){this._annotation&&!this._drawing&&this.isAnnotationVisible()&&(this._drawing=!0,null!==this.selectedItem()&&this.unSelectedItem(),a["page-index"]=this.getImageFile().getPageNo()-1,this._annotation.drawing(this,a,!0))},m.undrawing=function(){this._drawing=!1},m.getItems=function(a){return a?this.getAnnotation().getItem(a):this.getAnnotation().getItem()},m.getAnnotation=function(){if(null!==this._annotation)return this._annotation},m.removeItem=function(a){var b=this.getAnnotation();b&&(this.unSelectedItem(a),b.removeItem(a))},m.removeAllItem=function(){var a=this.getAnnotation();a&&a.removeAllItem()},m.itemProp=function(a,b){var c=this.getAnnotation(),d=b||this.selectedItem();c.setProp(d,a)},m.selectedItem=function(a,b,c,d){if(!(arguments.length>=1))return this._selectedItem;a.selected(!0,b,c,d),this._selectedItem=a},m.unSelectedItem=function(b){var c=b||this.selectedItem();return c&&(c.selected(!1),this._selectedItem=null,a.UI.uncontextmenu()),this},m.changeItemAttr=function(a,b){a&&a.change(b)},m.drawingItems=function(a){if(this._drawingItems=a,this._drawingItems&&this.trigger("page.annotation.load",{page:this}),this._annotation&&this.getImageFile()){var b=this._data.angle,c=this.getScale();return this.viewportUpdate(b,c.x,c.y),this._annotation.drawingItems(this,this._drawingItems)}},m.drawingItem=function(a){return this.drawingItems([a])[0]},m.updateAnnotationData=function(a){var b=this.getAnnotation();if(b)for(var c in a)b.data(c,a[c])},m._getRenderImage=function(){var a=this.getImageData();if(null!==a){var b=a.width,c=a.height,d=this.getScale(),e=d.x,f=d.y,g=b,h=c,i=this._container.clientWidth,j=this._container.offsetHeight;return this._data.angle/90%2==0?(g=Math.floor(b*e),h=Math.floor(c*f)):(g=Math.floor(b*f),h=Math.floor(c*e)),{image:a,containerWidth:i,containerHeight:j,width:b,height:c,rWidth:g,rHeight:h}}},m.render=function(b,c){null!==this.getImageData()&&(this._magnifierNode&&(g.remove(this._magnifierNode,this._pageNode),this._magnifierNode=null),this._data.renderNodeType===a.Type.RenderNodeType.IMAGE?this.renderImage(b,c):this.renderCanvas(b,c))},m.renderImage=function(a,b){var c,d,f=this,g=f.getPageNode(),h=f.getImageFile(),i=h.getWidth(),j=h.getHeight(),k=f.getScale(),l=k.x,m=k.y,n=l*i,o=m*j,p=l*i,q=m*j,r=f._data.angle,s=f._container.offsetWidth,t=f._container.offsetHeight;e.isEmpty(this._imageRenderNode.src)&&(this._imageRenderNode.src=this._imageDataURL);var u=0,v=0;r%180==0?(n=Math.floor(i*l),o=Math.floor(j*m)):(n=Math.floor(j*m),o=Math.floor(i*l)),g.style.width=n+"px",g.style.height=o+"px",b=e.isEmpty(b)?e.toInt(g.style.top||0):b,a=e.isEmpty(a)?e.toInt(g.style.left||0):a,"clip"===f._data.renderType?(c=Math.min(s,n),d=Math.min(t,o),b=o<=d||b>0?0:b>0?0:Math.max(b,-(o-d)),a=n<=c||a>0?0:a>0?0:Math.max(a,-(n-c))):(c=n,d=o);var w=r/90;1===w||-3===w?v=i>j?(q>p?(q-p)/2:0)-q:(q>p?0:(q-p)/2)-q:2===w||-2===w?(u=-p,v=-q):3!==w&&-1!==w||(u=-p,v=-(q>p?(q-p)/2:0),v=i>j?-(q>p?(q-p)/2:0):-(q>p?0:(q-p)/2));var x="rotate("+r+"deg) translate("+u+"px,"+v+"px)";this._imageRenderNode.style["transform-origin"]="0px 0px 0px",this._imageRenderNode.style.transform=x,this._imageRenderNode.style["-ms-transform"]=x,this._imageRenderNode.style["-webkit-transform"]=x,this._imageRenderNode.style.width=p+"px",this._imageRenderNode.style.height=q+"px","clip"===this._data.renderType&&(g.style.top=b+"px",g.style.left=a+"px"),f.trigger("page"+f.pageIndex()+".renderEnd")},m.renderCanvas=function(a,b){var c=this,d=c.getPageNode(),f=this.getImageData(),g=c.getImageFile(),i=g.getWidth(),j=g.getHeight(),k=g.getWidth(),l=g.getHeight(),m=c.getScale(),n=m.x,o=m.y,p=c._data.angle,q=k,r=l,s=d.style,t=e.toInt(s.width),u=e.toInt(s.height),v=c._canvasContext.canvas,w=c._container.offsetWidth,x=c._container.offsetHeight;"clip"===c._data.renderType&&(w=c._container.clientWidth,x=c._container.clientHeight),c._canvasGraphic.clear(),p/90%2==0?(q=Math.floor(k*n),r=Math.floor(l*o)):(q=Math.floor(l*o),r=Math.floor(k*n)),t!==q&&(s.width=q+"px"),u!==r&&(s.height=r+"px"),"clip"===c._data.renderType?(i=Math.min(w,q),j=Math.min(x,r),v.width=i,v.height=j):(i=v.width=q,j=v.height=r);var y=0,z=0;b=e.isEmpty(b)?e.toInt(d.style.top||0):b,a=e.isEmpty(a)?e.toInt(d.style.left||0):a,"clip"===c._data.renderType&&(b=r<=j||b>0?0:b>0?0:Math.max(b,-(r-j)),a=q<=i||a>0?0:a>0?0:Math.max(a,-(q-i)));var A,B,C,D,E,F,G=k/-2,H=l/-2;this._canvasContext.translate(i/2,j/2),this._canvasContext.rotate(p*Math.PI/180);var I=p/90%4;p/90%2==0?(A=e.toInt(k*n-i)/2,B=e.toInt(l*o-j)/2,C=G*n+A,D=H*o+B,E=G*n-A,F=H*o-B,0===I?(y=G*n+(a<=0?A+a:0),z=H*o+(b<=0?B+b:0)):(y=a<=0?E-a:0,z=b<=0?F-b:0),a<=0&&(y<E?y=E:y>C&&(y=C)),b<=0&&(z<F?z=F:z>D&&(z=D))):(A=e.toInt(k*n-j)/2,B=e.toInt(l*o-i)/2,C=G*n+A,D=H*o+B,E=G*n-A,F=H*o-B,-1===I||3===I?(y=b<=0?E-b:0,z=a<=0?D+a:0):(y=b<=0?C+b:0,z=a<=0?F-a:0),y=b<=0?y<E?E:y>C?C:y:y,z=a<=0?z<F?F:z>D?D:z:z),this._canvasContext.drawImage(f,y,z,k*n,l*o),n<1&&n===o&&c._data.renderQuality===h.RenderQuality.HIGH?this._canvasContext.putImageData(this.getRenderImageData(),a,b,0,0,q,r):this._canvasContext.drawImage(f,y,z,k*n,l*o),"clip"===c._data.renderType?(d.style.top=b+"px",d.style.left=a+"px"):d.style.marginTop=(x<r?0:(x-r)/2)+"px",v.style.top=(b<0?-b:0)+"px",v.style.left=(a<0?-a:0)+"px";try{c._imageDataURL=v.toDataURL()}catch(J){c._imageDataURL=this.getImageData()}c.trigger("page"+c.pageIndex()+".renderEnd")},m.getRenderImageData=function(){var a=this.getImageFile(),b=a.getWidth(),d=a.getHeight(),e=this.getScale(),g=e.x,h=e.y,i=this._data.angle,j=i%360;if(void 0===this._renderImageDataMap["scale_"+g]&&(this._renderImageDataMap["scale_"+g]={}),!this._renderImageDataMap["scale_"+g][j]){var k=c.createElement("canvas"),l=k.getContext("2d");i/90%2==0?(k.width=b,k.height=d):(k.width=d,k.height=b),l.translate(k.width/2,k.height/2),l.rotate(i*Math.PI/180),l.drawImage(this._imageFile.getData(),-b/2,-d/2,b,d),l.translate(-k.width/2,-k.height/2),this._renderImageDataMap["scale_"+g][j]=f.downScale(l.getImageData(0,0,k.width,k.height).data,k.width,k.height,g,h)}return this._renderImageDataMap["scale_"+g][j]},m.bbox=function(a,b){a=a||0,b=b||0;var c,d,e,f,g,h,i=(this.getPageNode(),this.getImageData(),this.getImageFile()),j=i.getWidth(),k=i.getHeight(),l=(i.getWidth(),i.getHeight(),this.getScale());l.x,l.y;return"clip"===this._data.renderType&&(j=this._container.clientWidth,k=this._container.offsetHeight),{top:e,left:f,width:j,height:k,dspWidth:c,dspHeight:d,cx:g,cy:h}},m.magnify=function(b,c,d,e,f){if(this._imageDataURL){var h=this,i=new Image;i.src=this._imageDataURL;var k=2,l=this.getImageFile(),m=(l.getWidth(),l.getHeight(),h._container.offsetWidth,h._container.offsetHeight,this.getScale()),n=m.x,o=m.y;if(d=d||250,e=e||200,this._data.renderNodeType===a.Type.RenderNodeType.CANVAS){var p=this._imageRenderNode;p.style.cursor="crosshair";var q=b-d/2,r=c-e/2;i.onload=function(){h._canvasGraphic.clear(h._canvasContext,i.naturalWidth,i.naturalHeight),h._canvasContext.save(),h._canvasContext.drawImage(i,0-b*(k-1)+4,0-c*(k-1)+4,p.width*k-8,p.height*k-8),h._canvasContext.globalCompositeOperation="destination-atop",h._canvasContext.beginPath(),h._canvasContext.strokeStyle="#000000",h._canvasContext.lineWidth=5,h._canvasGraphic.roundRect(q,r,d,e,30,"#ffffff",null,h._canvasContext),h._canvasContext.closePath(),h._canvasContext.drawImage(i,0,0,i.naturalWidth,i.naturalHeight),h._canvasContext.restore(),h._canvasContext.stroke(),h._canvasContext.restore()}}else{this._magnifierNode||(this._magnifierNode=g.createElement("div",{id:"sform-magnifier",oncontextmenu:"return false",class:j+"-magnifier"},this._pageNode),this._magnifierNode.style.background="url('"+this._imageDataURL+"') no-repeat",this._magnifierNode.style.width=d+"px",this._magnifierNode.style.height=e+"px");var s=this._pageNode.getBoundingClientRect(),t=f.pageX-s.left-d/2,u=f.pageY-s.top-e/2,v=i.naturalWidth*(n*k),w=i.naturalHeight*(o*k);u=Math.min(s.height-e,u);var x=this.data("angle"),y=-((f.pageX-s.left)*k-d/2),z=-((f.pageY-s.top)*k-e/2);this._magnifierNode.style.backgroundSize=i.naturalWidth*(n*k)+"px "+i.naturalHeight*(o*k)+"px",this._magnifierNode.style.left=t+"px",this._magnifierNode.style.top=u+"px",this._magnifierNode.style["-webkit-transform"]="rotate("+x+"deg)",this._magnifierNode.style["-moz-transform"]="rotate("+x+"deg)",this._magnifierNode.style["-ms-transform"]="rotate("+x+"deg)",this._magnifierNode.style["-o-transform"]="rotate("+x+"deg)",this._magnifierNode.style.transform="rotate("+x+"deg)",90===x||-270===x?(z=-(w+y)+e,y=-((f.pageY-s.top)*k-d/2)):180===x||-180===x?(y=-(v+y)+d,z=-(w+z)+e):270!==x&&-90!==x||(y=-(v+z)+d,z=-((f.pageX-s.left)*k-e/2)),this._magnifierNode.style.backgroundPosition=y+"px "+z+"px"}}},m.resize=function(a,b){},m.cropImage=function(a){return null===this.getImageFile()?"":f.cropToDataURL(f.createCanvasByImage(this.getImageData()),a)},m.getViewport=function(){return this._annotation.getViewport()},m.viewportUpdate=function(){if(this._annotation){var a=this.getScale(),b=this.selectedItem();this._annotation.viewportUpdate(this.data("angle"),a.x,a.y),b&&this.unSelectedItem(b).selectedItem(b)}},m.setPageInfo=function(b){return this._pageInfo=a.Utils.extend(this._pageInfo,b),this},m.getPageInfo=function(){return this._pageInfo},a.core.Page=l}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=(a.UI,function(b,c){var d={index:0,container:null,data:null,items:[],changed:!1,editable:!0,width:0,height:0,viewMode:"all"};return this.page=b,this._data=a.Utils.extend(d,c),this._container=this._data.container,this._graphicNode=null,this._graphic=null,this._items=[],this.changed=!1,this._procQueue=[],this._visible=!1,this._canvas=null,this._annotationImage=new Image,this.imageLoad=!1,this._init(),this});a.inherit(f,a.EventHandler),f.prototype={_init:function(){this._createGraphicNode(),this._createConvertImageNode()},remove:function(){this._graphic&&this._graphic.remove(),this.page=null,this._annotationImage=null},_createGraphicNode:function(){var b=this;b._graphicNode||(b._graphic=a.GraphicsFactory.createGraphic(a.moduleAnnotationGraphicType,b._container,b._data.width,b._data.height,function(c,d){d="boolean"==typeof d&&d,c&&(d?b.removeItem(c,!1):(b.addItem(c),c.redraw(!1),b._data.viewMode!==e.AnnotationViewMode.ALL&&(c._level===b._data.viewMode?c.show():c.hide()),a.Events.trigger("add.annotation",c),b.page.trigger("page"+b.page.pageIndex()+".annotation.drawEnd"))),b.page._drawing=!1}),b._graphicNode=b._graphic.node,this._setVisible(!0))},_createConvertImageNode:function(){this._canvas||(this._canvas=c.createElement("canvas"),this._canvas.width=this._data.width,this._canvas.height=this._data.height,this._canvas.style.background="transparent",this._context=this._canvas.getContext("2d"),this._imageDataURL=null)},refreshImage:function(a){if(this._canvas.width=this._data.width,this._canvas.height=this._data.height,0!==this._canvas.width&&0!==this._canvas.height&&this.page.getImageFile().getCanvasImageData()){this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.putImageData(this.page.getImageFile().getCanvasImageData(),0,0);for(var b=this.itemsToJSON(),c=0;c<b.length;c++){var d=b[c];d&&(d.anntype!==e.AnnotationType.ETERNITYRECT&&d.anntype!==e.AnnotationType.MASK&&d.anntype!==e.AnnotationType.IMAGEAREA||(this._context.fillStyle=d.anntype===e.AnnotationType.MASK?d.fill:"#ffffff",this._context.fillRect(d.x,d.y,d.width,d.height),this._context.save()))}this._imageDataURL=this._canvas.toDataURL(),this._annotationImage.src=this._imageDataURL,this._annotationImage.width=this._canvas.width,this._annotationImage.height=this._canvas.height}},refreshItem:function(){for(var a=this._items,b=0;b<a.length;b++){var c=a[b];c.attr("anntype")===e.AnnotationType.STICKYNOTE&&c.rotate(this.page.data("angle"))}},getImageDataURL:function(){if(this._imageDataURL)return this._imageDataURL},getImageData:function(a,b,c,d){if(this._context)return a=a||0,b=b||0,c=this._canvas.width,d=this._canvas.height,this._context.getImageData(a,b,c,d)},toImage:function(a,b){if(this._imageDataURL)return this._annotationImage},_setVisible:function(a,b){if(this._visible=a,this._graphicNode)if(void 0===b||b===e.AnnotationViewMode.ALL)this._graphicNode.style.display=this._visible?"block":"none";else{this._visible&&(this._graphicNode.style.display="block");for(var c=0;c<this._items.length;c++){var d=this._items[c];b===d._level?d._setVisible(a):a?d._setVisible(!1):d._setVisible(a)}}},isVisible:function(){return this._visible},show:function(a){this._setVisible(!0,a)},hide:function(a){this._setVisible(!1,a)},getGraphicNode:function(){return this._graphicNode},drawing:function(a,b,c){var d=this.createAnnotationItem(a,b);d&&this._graphic.draw(d,c)},data:function(a,b){return d.data.apply(this,Array.prototype.slice.call(arguments,0))},drawingItems:function(a,b){var c=0,d=0,e=[];if(Array.isArray(b))for(c=0,d=b.length;c<d;c++){var f=b[c],g=this.createAnnotationItem(a,f);g&&(g.draw(),e.push(g))}return e},createAnnotationItem:function(b,c,d){return a.AnnotationItemFactory.createItem(c.anntype,b,c,d)},viewportUpdate:function(a,b,c){this._graphic.viewportUpdate(a,b,c)},getViewport:function(){if(this._graphic)return this._graphic._ownerWrapper.data()},addItem:function(a){this._items.push(a)},redrawItem:function(a){a&&a.redraw(!1)},redraw:function(a,b){if(a)this.redrawItem(a,b);else for(var c=this._items||[],e=c.length,f=0;f<e;f++)this.redrawItem(c[f]);var g=this;d.isFunction(b)&&b.call(g,!0)},removeItem:function(a,b){for(var c=this._items,d=c.length,e=[],f=this,g=0;g<d;g++){var h=c[g];"string"!=typeof a||a!==h.el.id?a!==h?e.push(h):a.remove(b):h.remove()}this._items=e,setTimeout(function(){f.refreshImage()},200)},removeAllItem:function(){for(var a=this._items,b=a.length,c=0;c<b;c++)a[c].el&&this.removeItem(a[c]);this.data("items",[])},itemsToJSON:function(){var a=0,b=this._items.length,c=[];for(a=0;a<b;a++){var d=this._items[a];d.attr("id",a+1),c.push(d.attrToJson())}return c},setProp:function(a,b){var c={propType:b,item:a};this._procQueue.push(c),this._isInProgress||this.runSetProp()},runSetProp:function(b){b&&this._procQueue.shift();var c=this._procQueue.length>0;if(c&&this._items.length>1){this._isInProgress=c;var d=this._procQueue[0].propType,e=this._procQueue[0].item,f=this._items,g=[],h=f.length,i=-1,j=0,k=this.runSetProp;for(j=0;j<h;j++){var l=f[j];if(e.el.id===l.el.id){i=j;break}}if(a.Type.AnnotationSetPropType.INDEX_FIRST===d){for(j=0;j<h;j++)j!==i&&g.push(f[j]);g.push(e)}else if(a.Type.AnnotationSetPropType.INDEX_LAST===d)for(g[0]=e,j=0;j<h;j++)j!==i&&g.push(f[j]);else if(a.Type.AnnotationSetPropType.INDEX_FRONT===d&&h>0&&i<h-1)for(j=0;j<h;j++)j===i?g.push(f[i+1]):j===i+1?g.push(f[i]):g.push(f[j]);else if(a.Type.AnnotationSetPropType.INDEX_BACK===d&&i>0)for(j=0;j<h;j++)j===i?g.push(f[i-1]):j===i-1?g.push(f[i]):g.push(f[j]);else g=f;this._items=g,
this.redraw(null,k)}else this._isInProgress=!1},getItem:function(a){if(a){for(var b,c=this._items,d=c.length,e=0;e<d;e++){var f=c[e];a.id===f.el.id&&(b=f,e=d)}return b}return void 0===this._items&&(this._items=[]),this._items}},a.core.Annotation=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=function(b){var c={itemIdx:-1,itemId:0,name:null,annotationId:null,docFormCode:null,formName:null,param:null,empId:null,createTime:null,additionalInfo:null,initItem:!1,size:0,type:null};this._attr=a.Utils.extend(c,b),this._itemId=this._attr.itemId,this._itemIdx=this._attr.itemIdx,this._name=this._attr.name,this._size=this._attr.size,this._type=this._attr.type,this._annotationId=this._attr.annotationId,this._pageInfo={itemId:this._itemId,pageNo:0,pageCount:-1,itemPageNo:0,currentPageNo:0},this._thumbnailInfo={pageNo:1,running:!1,items:[]},this._status=0,this._enable=!0,this._loaded=0};e.prototype.isLoaded=function(){return this._loaded},e.prototype.isInitItem=function(){return this._attr.initItem},e.prototype.enable=function(a){if(!(arguments.length>0))return this._enable;this._enable=a},e.prototype.loaded=function(a){this._loaded=a},e.prototype.getItemId=function(){return this._itemId},e.prototype.getItemIdx=function(){return this._itemIdx},e.prototype.setItemIdx=function(a){this._itemIdx=a},e.prototype.getName=function(){return this._name},e.prototype.setName=function(a){this._name=a},e.prototype.getType=function(){return this._type},e.prototype.setType=function(a){this._type=a},e.prototype.getSize=function(){return this._size},e.prototype.setSize=function(a){this._size=a},e.prototype.setAnnotationId=function(a){this._annotationId=a},e.prototype.getAnnotationId=function(){return this._annotationId},e.prototype.getPageInfo=function(){return this._pageInfo},e.prototype.setPageInfo=function(a){1===arguments.length?this._pageInfo=d.extend(this._pageInfo,a):this._pageInfo[arguments[0]]=arguments[1]},e.prototype.getThumbnailInfo=function(){return this._thumbnailInfo},e.prototype.setThumbnailInfo=function(a){this._thumbnailInfo=d.extend(this._thumbnailInfo,a)},e.prototype.getCreateTime=function(){return this._attr.createTime},e.prototype.getEmpId=function(){return this._attr.empId},e.prototype.getDocFormCode=function(){return this._attr.docFormCode},e.prototype.setDocFormCode=function(a){this._attr.docFormCode=a},e.prototype.getParam=function(){return this._attr.param},e.prototype.getAdditionalInfo=function(){return this._attr.additionalInfo},a.core.FileItem=e}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Utils,function(b){var c={itemId:"",name:null,docFormCode:null,param:null};this._attr=a.Utils.extend(c,b),this._pageCount=0,this._fileItems=[]});d.prototype.getItemId=function(){return this._attr.itemId},d.prototype.getDocFormCode=function(){return this._attr.docFormCode},d.prototype.setFileItems=function(a){if(b.Array.isArray(a)){var c=0,d=a.length;for(c=0;c<d;c++)this._fileItems.push(this._convertToFileItem(a[c]))}else this._fileItems.push(this._convertToFileItem(a))},d.prototype.getFileItems=function(a){return this._fileItems},d.prototype._convertToFileItem=function(b){var c=new a.core.FileItem({itemId:b.fileId||"",name:b.name||b.fileName,annotationId:b.annotationId||"",createTime:b.createTime||"",empId:b.empId||"",docFormCode:b.docFormCode||"",param:this.getParam()});return c.setPageInfo({pageCount:b.pageCount||-1}),c},d.prototype.getParam=function(){return this._attr.param},a.core.DocItem=d}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Type,a.Element,{arc:"Arc",arrowline:"ArrowLine",checkmark:"CheckMark",ellipse:"Ellipse",circle:"Circle",highlighter:{pen:"Highlighter",rect:"HighlighterRect"},image:"Image",line:"Line",memo:"Memo",text:"Memo",memopad:"MemoPad",polycurve:"Polycurve",polygon:"Polygon",protractor:"Protractor",polyline:"Polyline",pen:"Pen",rect:"Rect",stamp:"Stamp",imagearea:"ImageArea",hiddenarea:"HiddenArea",mask:"Masking",edittext:"EditText",stickynote:"StickyNote",eternityrect:"EternityRect"}),e=function(){};e.ITEM_MAP=d,e.createItem=function(b){var c=b.toLowerCase(),d=a.setting("annotationConfig"),e=d[c],f=this.ITEM_MAP[c];e&&e.type&&(f=f[e.type]);var g=a.annotation[f];if(g){var h=Array.prototype.slice.call(arguments,1),i=new g(h[0],h[1],h[2]);return e&&(i.editable(e.editable),i._enabledContextmenu=e.contextmenu,i.fixed=e.fixed),i}},a.AnnotationItemFactory=e}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Type,a.Element,{CANVAS:"Canvas",SVG:"SVG",SNAP:"Snap",IMAGE:"Image"}),e=function(){};e.createGraphic=function(b){b=b.toUpperCase();var c=a.graphics[d[b]];if(c){var e=Array.prototype.slice.call(arguments,1);return new c(e[0],e[1],e[2],e[3])}},a.GraphicsFactory=e,a.ns(a.moduleName+".graphics")}),InziSForm.create(function(a,b,c){"use strict";function d(a,b){return(b[1]-a[1])/(b[0]-a[0])}function e(a){for(var b=0,c=a.length-1,e=[],f=a[0],g=a[1],h=e[0]=d(f,g);++b<c;)e[b]=(h+(h=d(f=g,g=a[b+1])))/2;return e[b]=h,e}function f(a){for(var b,c,f,g,h=[],i=e(a),j=-1,k=a.length-1;++j<k;)b=d(a[j],a[j+1]),Math.abs(b)<1e-6?i[j]=i[j+1]=0:(c=i[j]/b,f=i[j+1]/b,(g=c*c+f*f)>9&&(g=3*b/Math.sqrt(g),i[j]=g*c,i[j+1]=g*f));for(j=-1;++j<=k;)g=(a[Math.min(k,j+1)][0]-a[Math.max(0,j-1)][0])/(6*(1+i[j]*i[j])),h.push([g||0,i[j]*g||0]);return h}function g(a){return a.length<3?i("none",a):a[0]+h(a,f(a))}function h(a,b){if(b.length<1||a.length!==b.length&&a.length!==b.length+2)return i("none",a);var c=a.length!==b.length,d="",e=a[0],f=a[1],g=b[0],h=g,j=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],j=2),b.length>1){h=b[1],f=a[j],j++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var k=2;k<b.length;k++,j++)f=a[j],h=b[k],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var l=a[j];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+l[0]+","+l[1]}return d}function i(a,b){var c=[],d=0;if("arc"===a){for(d=0;d<b.length;d++)0===d?c.push("M"):2===d&&b.length>5&&c.push("Q"),c.push(b[d]);return c.join(" ")}if("polycurve"===a){var e=[];for(d=0;d<b.length;d+=2)e.push([b[d],b[d+1]]);return"M"+b[0]+","+b[1]+" "+g(e)}for(d=0;d<b.length;d++)0===d?c.push("M"):d%2==0&&c.push("L"),c.push(b[d]);return c.join(" ")}var j=(a.Type,a.Element,a.Utils),k=function(a,b,c,d){this._container=a,this.node=null,this.width=b,this.height=c,this._callback=d,this._init(),this._drawing=!1,this._redrawing=!1};k.prototype.pathToString=function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=a[c].join(" ");return b},k.prototype.pointsToPath=function(a,b){return i(a,b)},k.prototype.getStrokeWidth=function(a,b,c){return a=a||0},k.prototype.getPathToPoints=function(a){for(var b=a.path||"",c=b.split(" "),d=[],e=0,f=c.length;e<f;e+=2){var g=c[e].replace("M","");g=g.replace("L","");var h=c[e+1];d.push(j.toInt(g)),d.push(j.toInt(h))}return d},k.prototype.getPoints=function(a){var b=[];void 0===a.points&&(a.points=[]);var c=a.points?a.points.length:0,d=0;if(c>0)for(d=0;d<c;d++){var e=a.points[d];b.push(j.toFloat(e.x)),b.push(j.toFloat(e.y))}else(a.x||a.y)&&(b.push(a.x),b.push(a.y));return b},k.prototype.createNode=function(){},k.prototype.render=function(){},k.prototype.renderAll=function(){},k.prototype.rect=function(){},k.prototype.text=function(){},k.prototype.line=function(){},k.prototype.polyline=function(){},k.prototype.polygon=function(){},k.prototype.circle=function(){},k.prototype.ellipse=function(){},k.prototype.path=function(){},k.prototype.rect=function(){},k.prototype.marker=function(){},k.prototype.mask=function(){},k.prototype.addHandler=function(){},k.prototype.removeHandler=function(){},a.graphics.Graphics=k}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Type,a.Element),e=function(a,b,c,d){return this._container=a,this.node=null,this.width=b,this.height=c,this._callback=d,this._context=null,this._init(),this._drawing=!1,this};a.inherit(e,a.graphics.Graphics),e.prototype._init=function(){this.node||this._createNode()},e.prototype._createNode=function(){this.node=d.createCanvas({width:this.width,height:this.height},this._container),this.node.style.position="absolute",this.node.style.background="transparent",this._context=this.node?this.node.getContext("2d"):null},e.prototype.clear=function(a,b,c){a=a||this._context,b=b||this.width,c=c||this.width,a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,b,c)},e.prototype.renderImage=function(a,b){},e.prototype.rect=function(a,b){},e.prototype.text=function(a,b){},e.prototype.line=function(a,b){},e.prototype.polyline=function(a,b){},e.prototype.polygon=function(a,b){},e.prototype.circle=function(a,b){},e.prototype.ellipse=function(a,b){},e.prototype.path=function(a,b){},e.prototype.rect=function(a,b){},e.prototype.arc=function(a,b){},e.prototype.mask=function(a,b,c){return c=c||this._context,c.restore(),c.fillStyle=a.fill,c.fillRect(a.x,a.y,a.width,a.height),c.save(),this},e.prototype.restore=function(){return this._context.restore(),this},e.prototype.save=function(){return this._context.save(),this},e.prototype.roundRect=function(a,b,c,d,e,f,g,h){return h=h||this._context,void 0===g&&(g=!0),void 0===e&&(e=5),h.beginPath(),h.moveTo(a+e,b),h.lineTo(a+c-e,b),h.quadraticCurveTo(a+c,b,a+c,b+e),h.lineTo(a+c,b+d-e),h.quadraticCurveTo(a+c,b+d,a+c-e,b+d),h.lineTo(a+e,b+d),h.quadraticCurveTo(a,b+d,a,b+d-e),h.lineTo(a,b+e),h.quadraticCurveTo(a,b,a+e,b),h.closePath(),g&&h.stroke(),f&&h.fill(),this},a.graphics.Canvas=e}),InziSForm.create(function(a,b,c){"use strict";var d=(a.Type,a.Element,function(a){this.element=a});a.inherit(d,a.graphics.Graphics),d.prototype.rect=function(){},d.prototype.text=function(){},d.prototype.line=function(){},d.prototype.polyline=function(){},d.prototype.polygon=function(){},d.prototype.circle=function(){},d.prototype.ellipse=function(){},d.prototype.path=function(){},d.prototype.rect=function(){},d.prototype.marker=function(){},d.prototype.image=function(){},d.prototype.image=function(){},a.graphics.SVG=d}),InziSForm.create(function(a,b,c){"use strict";function d(a,b,c,d){var f,h,i=e.Marker;if(i.hasOwnProperty(a)&&a!==e.MarkerType.NONE){h=i[a];var j=h.attr;j.fill=c.stroke,j.stroke=c.stroke;var k=g.toInt(j["fill-opacity"],0)<1?0:1;j["fill-opacity"]=k;f=b.path().attr(j).marker(0,0,h.markerWidth,h.markerHeight,h.refX,h.refY).attr({orient:h.orient,viewBox:h.viewBox,fill:j.fill,"fill-opacity":k,markerUnits:h.markerUnits,markerWidth:(d||h.markerWidth)/2,markerHeight:(d||h.markerHeight)/2,type:h.type})}return f}var e=a.Type,f=a.Element,g=a.Utils,h={position:"absolute","z-index":200,left:"0px",top:"0px",overflow:"hidden",background:"rgba(255,255,255,0)"},i=function(a,b,c,d){return this._container=a,this.node=null,this.width=b,this.height=c,this._callback=d,this._init(),this._drawing=!1,this};a.inherit(i,a.graphics.Graphics),i.prototype._init=function(){this.node||this._createNode()},i.prototype.drawStart=function(a){this._callback&&this._callback(a)},i.prototype.drawing=function(a){this._callback&&this._callback(a)},i.prototype.drawEnd=function(a,b){this._callback&&!this._redrawing&&this._callback(a,b),this.undraw()},i.prototype._createNode=function(b){var c=a.Element.createElementNS(this._container,"svg",{style:a.Utils.mapToString(h,":",";"),width:this.width,height:this.height,focusable:!1,id:a.Utils.getRandomId(a.Type.ControlType.ANNOTATION)});this.node=c,this._ownerWrapper=Snap(c),this._drawWrapper=this._ownerWrapper.svg(0,0,this.width,this.height,0,0,this.width,this.height),this._createGroup()},i.prototype._createPattern=function(a){var b="hiddenAreaPattern_"+a+"_"+(new Date).getTime(),c=this._ownerWrapper.ptrn(0,0,10,10).attr({id:b,patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),d=this._ownerWrapper.rect(0,0,10,10).attr({stroke:"#000000",strokeWidth:3,fill:"#ffffff"});return c.add(d),b},i.prototype._createGroup=function(){this._completeGroup=this._drawWrapper.select(".group-complete"),this._controlGroup=this._drawWrapper.select(".group-control"),g.isEmpty(this._completeGroup)&&(this._completeGroup=this._drawWrapper.g().attr("class","group-complete")),g.isEmpty(this._controlGroup)&&(this._controlGroup=this._drawWrapper.g().attr("class","group-control"))},i.prototype.viewportUpdate=function(a,b,c){this.undraw();var d=this._container,e=this._controlGroup.node.childNodes.length,h=g.toInt(d.style.width||0),i=g.toInt(d.style.height||0),j=(g.toInt(d.style.top),g.toInt(d.style.left),[0,0,h,i]),k=a/180;if(.5===k||-1.5===k?j.splice(0,1,-h):1===k||-1===k?j.splice(0,2,-h,-i):1.5!==k&&-.5!==k||j.splice(1,1,-i),f.attr(this._ownerWrapper.node,{width:h,height:i}),f.attr(this._drawWrapper.node,{width:h,height:i,viewBox:j.join(" "),"viewport-fill":"red"}),e>0){var l=this._controlGroup;l.attr({transform:this._ownerWrapper.data("txInvertMatrix")}),l.removeClass("group-control"),this._completeGroup.add(l),this._controlGroup=this._drawWrapper.g().addClass("group-control")}this._controlGroup.attr({transform:"transform("+j[0]+","+j[1]+")",ra:a,tx:j[0],ty:j[1],sx:b,sy:c});var m=new Snap.Matrix;m.scale(b,c),m.rotate(a),this._completeGroup.attr({transform:m.toTransformString()}),m.translate(j[0],j[1]);var n=new Snap.Matrix;n.scale(1/b,1/c),n.rotate(-a),n.translate(j[0],j[1]),this._ownerWrapper.data({txCurrentMatrix:m.toTransformString(),txInvertMatrix:n.toTransformString(),currentMatrix:m,invertMatrix:n,sx:b,sy:c})},i.prototype.draw=function(a,b,c){var d=this._controlGroup.data("matrix");this._drawing=void 0!==b&&b,this._redrawing=c||!1,b?(this._drawGroup=this._controlGroup,a.data("invertMatrix",this._ownerWrapper.data("invertMatrix"))):this._drawGroup=this._completeGroup.g();var e={rect:this.rect,circle:this.circle,line:this.line,arrowline:this.arrowline,polyline:this.polyline,polygon:this.polygon,pen:this.penToPath,highlighter:this.highlighterRectType,highlighterPenType:this.highlighterRectType,memo:this.memo,text:this.memo,edittext:this.memo,memopad:this.memopad,stamp:this.stamp,checkmark:this.checkmark,ellipse:this.ellipse,polycurve:this.polycurve,protractor:this.protractor,arc:this.arc,imagearea:this.imagearea,hiddenarea:this.hiddenarea,mask:this.mask,stickynote:this.stickynote,EternityRect:this.hiddenarea,image:this.image},f=a.attr(),h=g.clone(f);h.width=h.width||0,h.height=h.height||0,h["fill-opacity"]=h["fill-opacity"],h.x=Math.max(0,h.x),h.y=Math.max(0,h.y);var i=e[f.anntype];"function"==typeof i&&(this._drawWrapper.data("currentMatrix",d),i.call(this,h,a))},i.prototype.undraw=function(){var b,c=this._ownerWrapper.events||[],d=c.length;for(b=0;b<d;b++){var e=c.pop();e&&e.unbind()}a.Element.removeClass(this.node,a.moduleClassName+"-drawing"),this._drawing=!1},i.prototype.render=function(){},i.prototype.renderAll=function(){},i.prototype.rect=function(b,c){var d=b.x,e=b.y,f=b.width,h=b.height,i=this;this._drawing&&(b["fill-opacity"]=1);var j=this._drawGroup.rect(d,e,f,h).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],strokeOpacity:1,fill:b.fill,fillOpacity:b["fill-opacity"],ox:d,oy:e,anntype:b.anntype,transform:b.transform});c.attr(b),c.setElement(j);var k=function(c){var d=g.toInt(j.attr("ox")),e=g.toInt(j.attr("oy")),f=a.Element.getLayerX(c),h=a.Element.getLayerY(c),i=d,k=e,l=f,m=h,n=l-i,o=m-k;n<0&&o<0?(i=l,k=m,n=d-i,o=e-k):n<0?(i=l,n=d-i):o<0&&(k=m,o=e-k),b.x=i,b.y=k,b.width=n,b.height=o,j.attr({x:b.x,y:b.y,width:b.width,height:b.height})},l=function(){var a={x:b.x,y:b.y,width:b.width,height:b.height};c.attr(a),i.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.stamp=function(b,c){var d,e,f=b.x,h=b.y,i=this,j=4,k=function(b){var i=this._drawGroup.g(),k=0===b["stroke-width"]?3:0;d=b.width+2*j,e=b.height;var l=this._drawGroup.rect(f,h,d,e).attr({stroke:b.stroke||"#ff0000",strokeWidth:k,fill:"#ffffff",fillOpacity:1});if(i.add(l),b["image-href"]){d=b.width+2*j,e=b.height-(b["font-size"]*(-1!==g.IEVersion()||g.isBrowser().wEdge())?0:1)-2*j;var m=this._drawGroup.image().attr({"xlink:href":b["image-href"],x:f,y:h,width:d,height:e,preserveAspectRatio:"none"});i.add(m)}if(b.text){1===b["text-halign"]?f+=b.width/2:2===b["text-halign"]&&(f+=b.width),d=f+j,e=b.y+(b["image-href"]?b.height:b.height/2)-(b["font-size"]*(-1!==g.IEVersion()||g.isBrowser().wEdge())?0:1)-j;var n=this._drawGroup.text(d,e,b.text).attr({"text-anchor":a.Type.AnnotationAttribute.TEXT_ALIGN[b["text-halign"]],stroke:b["font-color"],strokeWidth:"bold"===b["font-weight"]?2:1,fill:b["font-color"],"font-size":b["font-size"],"alignment-baseline":"hanging"});i.add(n)}i.attr("anntype",b.anntype),c.attr(b),c.setElement(i),this.drawEnd(c)};this._drawing?(b["stroke-width"]=0,a.UI.stamp(b,function(a){k.call(i,a)})):k.call(this,b)},i.prototype.text=function(a,b){},i.prototype.line=function(b,c){var d=b.x1||b.x,e=b.y1||b.y,f=b.x2||b.x,h=b.y2||b.y,i=this,j=this._drawGroup.line(d,e,f,h).attr({stroke:b.stroke||b.stroke,strokeWidth:b["stroke-width"]||b.strokeWidth,fill:b.fill,ox1:d,oy1:e,ox2:f,oy2:h,anntype:b.anntype}),k=function(b){var g=a.Element.getLayerX(b),i=a.Element.getLayerY(b),k={x1:d,y1:e,x2:g,y2:i};f=k.x2,h=k.y2,j.attr(k),c.attr(k)},l=function(){var a=g.toNotEmpty(f-d,-1),b=g.toNotEmpty(h-e,-1);(a<20||a<-20)&&(b<20||b<-20)?(j.remove(),i.drawEnd()):(c.setElement(j),i.drawEnd(c))};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.polyline=function(b,c){var d=(b.x,b.y,""),e=this,f=this.getPoints(b),g=this._drawGroup.polyline().attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:"none",anntype:b.anntype,points:f,transform:b.transform}),h=function(){c.setElement(g),c.data("points",f),e.drawEnd(c)},i=function(b){if(2===b.button)return b.preventDefault(),b.stopPropagation(),h(),!1;var c=g.attr("points"),e=c.length;e>2&&c.splice(e-2,2);var f=a.Element.getLayerX(b),i=a.Element.getLayerY(b);c.push(f),c.push(i),g.attr("points",c),d="mousedown"},j=function(b){var c=g.attr("points"),e=c.length;e>2&&"mousemove"===d&&c.splice(e-2,2);var f=a.Element.getLayerX(b),h=a.Element.getLayerY(b);c.push(f),c.push(h),g.attr("points",c),d="mousemove"};this._drawing?this._ownerWrapper.mousemove(j).mousedown(i):h()},i.prototype.polygon=function(b,c){var d=(b.x,b.y,""),e=this,f=e.getPoints(b);this._drawing&&(b["fill-opacity"]=0);var g=this._drawGroup.polygon().attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:b.fill,fillOpacity:b["fill-opacity"],anntype:b.anntype,points:f,transform:b.transform});c.attr(b);var h=function(b,c,e){if(2===b.button)b.preventDefault(),b.stopPropagation(),j();else{var f=g.attr("points"),h=f.length;h>2&&f.splice(h-2,2);var i=a.Element.getLayerX(b),k=a.Element.getLayerY(b);f.push(i),f.push(k),g.attr("points",f),d="mousedown"}},i=function(b,e,f){var h=g.attr("points"),i=h.length;i>2&&"mousemove"===d&&h.splice(i-2,2);var j=a.Element.getLayerX(b),k=a.Element.getLayerY(b);h.push(j),h.push(k),g.attr("points",h),c.data("points",h),d="mousemove"},j=function(){c.setElement(g),e.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(i).mousedown(h):(c.data("points",f),j())},i.prototype.circle=function(b,c){var d=b.x,e=b.y,f=this;this._drawing&&(b["fill-opacity"]=1);var h=this._drawGroup.circle(d,e,0).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:b.fill,fillOpacity:b["fill-opacity"],cx:d+(b.r?b.r:0),cy:e+(b.r?b.r:0),r:b.r||0,anntype:b.anntype});c.attr(b);var i=function(b){var d=g.toInt(h.attr("cx")),e=g.toInt(h.attr("cy")),f=a.Element.getLayerX(b),i=(a.Element.getLayerY(b),d-f);i=i<0?-i:i,h.attr("r",i),c.attr({cx:d,cy:e,r:i})},j=function(){c.setElement(h),f.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(i).mouseup(j):j()},i.prototype.ellipse=function(b,c){var d=b.x,e=b.y,f=b.cx,g=b.cy,h=b.rx,i=b.ry,j=this;this._drawing&&(b["fill-opacity"]=1);var k={stroke:b.stroke,strokeWidth:b["stroke-width"],fill:b.fill,fillOpacity:b["fill-opacity"],ox:d,oy:e,anntype:b.anntype};f&&(k.cx=f,k.cy=g,k.rx=h,k.ry=i),c.attr(b);var l=this._drawGroup.ellipse(d,e,0,0).attr(k),m=function(b){var d=Math.round(l.attr("ox")),e=Math.round(l.attr("oy")),f=a.Element.getLayerX(b),g=a.Element.getLayerY(b),h=f-d,i=g-e,j=d+h/2,k=e+i/2,m=0,n=0;m=h>0?h/2:-h/2,n=i>0?i/2:-i/2,l.attr({cx:j,cy:k,rx:m,ry:n});var o={cx:j,cy:k,rx:m,ry:n,x:j-m,y:k-n,width:2*m,height:2*n};c.attr(o)},n=function(){c.attr("width")<10||c.attr("height")<10?(l.remove(),j.drawEnd()):(c.setElement(l),j.drawEnd(c))};this._drawing?this._ownerWrapper.mousemove(m).mouseup(n):n()},i.prototype.memopad=function(b,c){function d(a){var d=a.text;if(g.isNotEmpty(d)){var i=h._drawGroup.rect(e,f,a.width,a.height).attr({x:e,y:f,class:"sform-ui-memopad-color",width:20,height:25}),j=h._drawGroup.image().attr({"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABR0lEQVRIS7VVS47DIAw16agXyUVyieyKNEfxWcqSS+RYUTUNI1ehIo6xoVLZVA3G9nvPHwfseO8TfQohOPpV/g8A8LLVzstJeSyH/N4MkB9YhtZ9RsztnPd+A4ATEsshv7+HMDiAxBFSgCbO13X9iTE+s/04jhdEpLdvHTgbhKo5gCA6iUznIDQPcgogUEP0idWCAAMCbDUWyFdLAFGOBOBKzrNRiVSlqCZyWS21CixtTggQcUBEqqyuzEtjNYDWF1xoKQPeD5oGbpqmy7Isf1KntzgXRZYQfJJ5TqCKYJ7na4zxkQ1bqJNQVRuNjDmfGrpaUZh9oDURr/mPEJRZSw6t8S0hOIwGaYDRBNg7efu93dLTuROdpsg1cWu6aPvgMK733WCuQp5AT4CuXbNTmEIIeXwf3r816PIqGJsIvhaAO7amaW8i/xoDI1SybNmqAAAAAElFTkSuQmCC",x:e,y:f,width:25,height:25,preserveAspectRatio:"none"}),k=h._drawGroup.g(i,j).attr("anntype",b.anntype);c.attr(a),c.setElement(k),h.drawEnd(c)}else h.drawEnd(c,!0)}var e=b.x,f=b.y,h=this,i={text:b.text,padding:4,x:b.x,y:b.y,width:b.width,height:b.height};this._drawing?a.UI.memo({x:e,y:f,type:b.anntype,node:this._container},function(a){b.text=a,d(b)}):d(i)},i.prototype.memo=function(b,c){function d(d,e,f,h,i){var j=i.split("\n");if(a.Utils.isNotEmpty(i)){var k,l,m=b["font-size"],n=g._drawGroup.text(d,e,j).attr({tabindex:"-1",fill:b["font-color"]}),o=n.node.childNodes;1===b["text-halign"]?l=d+c.textPadding+f/2:2===b["text-halign"]&&(l=d+f-c.textPadding);for(var p=0,q=o.length;p<q;p+=1){var r=Snap(o[p]);k=g.textPosition(l,e,p,m,c.textPadding,b),r.attr({x:k.x,y:k.y,"text-anchor":a.Type.AnnotationAttribute.TEXT_ALIGN[b["text-halign"]],fill:b["font-color"],"font-size":m+"px","alignment-baseline":a.Type.AnnotationAttribute.TEXT_ALIGN_BASELINE[b["text-valign"]],tabindex:"-1"})}var s=n.getBBox(),t=g._drawGroup.rect(d,e,s.width+c.textPadding,s.height+c.textPadding).attr({stroke:b.stroke||"#7dbcbe",strokeWidth:"edittext"===b.anntype?b["stroke-width"]:b["stroke-width"]||1,fill:b.fill||"#ffffff",fillOpacity:"edittext"===b.anntype?b["stroke-width"]:1});if(1===b["text-valign"]){var u=(h+m-s.height)/2;n.attr("transform","translate(0,"+u+")")}b.text=i;var v=g._drawGroup.g(t,n);v.attr("anntype",b.anntype),c.attr(b),c.setElement(v),g.drawEnd(c)}else g.drawEnd(c,!0)}var e=b.x,f=b.y,g=this;this._drawing&&"edittext"===b.anntype&&(b["stroke-width"]=0,b["fill-opacity"]=0),this._drawing?a.UI.memo({x:e,y:f,type:b.anntype,node:this._container},function(a){d(b.x,b.y,b.width,b.height,a)}):d(b.x,b.y,b.width,b.height,b.text)},i.prototype.stickynote=function(b,d){function e(c,e,f,h,i,k){var l=[];if(l=Array.isArray(k)?k:a.Element.convertTextareaLineBreakList(i,f-2*d.textPadding,h,b["font-size"],b["font-family"]),l.length>0&&g.isNotEmpty(i)||!j._drawing){var m=b["font-size"],n=c;1===b["text-halign"]?n=c-d.textPadding+f/2:2===b["text-halign"]&&(n=c+f-d.textPadding);for(var o,p=j._drawGroup.text(c,e,l).attr({tabindex:"-1",fill:b["font-color"]}),q=p.node.childNodes,r=q.length,s=0,t=r;s<t;s+=1){var u=Snap(q[s]);o=j.textPosition(n,e,s,m,d.textPadding),u.attr({x:o.x,y:o.y,"text-anchor":a.Type.AnnotationAttribute.TEXT_ALIGN[b["text-halign"]],fill:b["font-color"],"font-size":m+"px","font-family":b["font-family"],strokeWidth:b["stroke-width"],"alignment-baseline":a.Type.AnnotationAttribute.TEXT_ALIGN_BASELINE[b["text-valign"]],tabindex:"-1"})}var v=p.getBBox();h=Math.max(m*r+2*d.textPadding,b.height);var w=j._drawGroup.rect(c,e,f,h).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:b.fill,fillOpacity:b["fill-opacity"]});if(1===b["text-valign"]){var x=(h+m-v.height)/2;p.attr("transform","translate(0,"+x+")")}b.height=h,b.text=i;var y=j._drawGroup.g(w,p);y.attr("anntype",b.anntype),d.attr(b),d.setElement(y),j.drawEnd(d)}else j.drawEnd(d,!0)}var h=b.x,i=b.y,j=this;this._drawing&&("#000000"!==b.fill&&"#ffffff"!==b.fill||(b.fill="#ffff99",b.stroke="#ffff99"),b["fill-opacity"]=1),this._drawing?a.UI.memo({x:h,y:i,fontSize:b["font-size"],fill:b.fill,fillOpacity:b["fill-opacity"],type:b.anntype,node:f.select(c.body,".sform-contents")},function(a){a.fontSize&&(b["font-size"]=a.fontSize),b.fill=a.fill,b["fill-opacity"]=a.fillOpacity,b.width=b.width||250,e(b.x,b.y,b.width,b.height,a.text)}):e(b.x,b.y,b.width,b.height,b.text)},i.prototype.textPosition=function(a,b,c,d,e){return{x:a+e,y:b+(d*(c+(-1!==g.IEVersion()||g.isBrowser().wEdge()?1:0))+e/2)}},i.prototype.arrowline=function(b,c){var f=b.x1||b.x,h=b.y1||b.y,i=b.x2||b.x,j=b.y2||b.y,k=this;this._drawing&&(b["right-arrow-shape"]=1,b.fill="#000000");var l=this._drawGroup.g().attr({anntype:b.anntype}),m=l.line(f,h,i,j),n=d(e.MarkerType.getByIndex(e.MarkerType.DIRECTION_LEFT,b["left-arrow-shape"]),k._drawWrapper,b,b["las-size"]),o=d(e.MarkerType.getByIndex(e.MarkerType.DIRECTION_RIGHT,b["right-arrow-shape"]),k._drawWrapper,b,b["ras-size"]);l.data("markerLeft",n),l.data("markerRight",o),m.attr({markerStart:n,markerEnd:o,stroke:b.stroke,strokeWidth:b["stroke-width"],fill:b.fill,mx:f,my:h,anntype:b.anntype,transform:b.transform}),l.data({x1:f,y1:h,x2:i,y2:j,"left-arrow-shape":b["left-arrow-shape"],"right-arrow-shape":b["right-arrow-shape"],"las-size":b["las-size"],"ras-size":b["ras-size"]});var p=function(c){var f=a.Element.getLayerX(c),g=a.Element.getLayerY(c),h=b.x1||b.x,i=b.y1||b.y,j=f,p=g,q=b["left-arrow-shape"]||0,r=b["right-arrow-shape"]||0;h>j&&(h=j,i=p,j=b.x1||b.x,p=b.y1||b.y,q=r,r=b["left-arrow-shape"]||0),l.data("markerLeft")&&l.data("markerLeft").remove(),l.data("markerRight")&&l.data("markerRight").remove(),n=d(e.MarkerType.getByIndex(e.MarkerType.DIRECTION_LEFT,q),k._drawWrapper,b,b["las-size"]),o=d(e.MarkerType.getByIndex(e.MarkerType.DIRECTION_RIGHT,r),k._drawWrapper,b,b["ras-size"]),l.data("markerLeft",n),l.data("markerRight",o),m.attr({x1:h,y1:i,x2:j,y2:p,markerStart:n,markerEnd:o,"left-arrow-shape":q,"right-arrow-shape":r,"las-size":b["las-size"],"ras-size":b["ras-size"]}),l.data({x1:h,y1:i,x2:j,y2:p,"left-arrow-shape":q,"right-arrow-shape":r,"las-size":b["las-size"],"ras-size":b["ras-size"]})},q=function(a){b.x1=l.data("x1"),b.y1=l.data("y1"),b.x2=l.data("x2"),b.y2=l.data("y2"),b["left-arrow-shape"]=l.data("left-arrow-shape"),b["right-arrow-shape"]=l.data("right-arrow-shape");var d=g.toNotEmpty(b.x2-b.x1,-1),e=g.toNotEmpty(b.y2-b.y1,-1);(d<20||d<-20)&&(e<20||e<-20)?(l.remove(),k.drawEnd()):(c.attr(b),c.setElement(l),k.drawEnd(c))};this._drawing?this._ownerWrapper.mousemove(p).mouseup(q):(c.attr(b),c.setElement(l),k.drawEnd(c))},i.prototype.arc=function(b,c){var d=(b.x,b.y,""),e=this,f=e.getPoints(b),g=this._drawGroup.path(this.pointsToPath(b.anntype,f)).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:"none",anntype:b.anntype}),h=function(){c.data("points",f),c.setElement(g),e.drawEnd(c)},i=function(c){if(2===c.button)return c.preventDefault(),c.stopPropagation(),h(),!1;var i=f.length,j=a.Element.getLayerX(c),k=a.Element.getLayerY(c);i>2&&f.splice(i-4,4);var l=[j,f[1],j,k];if(f=f.concat(l),6===f.length)return c.preventDefault(),c.stopPropagation(),void h();g.attr("d",e.pointsToPath(b.anntype,f)),d="mousedown"},j=function(c){var h=f.length,i=a.Element.getLayerX(c),j=a.Element.getLayerY(c);h>4&&"mousemove"===d&&f.splice(h-4,4);var k=[i,f[1],i,j];f=f.concat(k),g.attr("d",e.pointsToPath(b.anntype,f)),d="mousemove"};this._drawing?this._ownerWrapper.mousemove(j).mousedown(i):h()},i.prototype.pen=function(b,c){var d=(b.x,b.y,this),e=d.getPoints(b),f=this._drawGroup.polyline().attr({stroke:b.stroke||b.stroke,strokeWidth:b["stroke-width"]||b.strokeWidth,fill:"none",anntype:b.anntype,points:e,transform:b.transform}),g=function(b,c,d){var e=f.attr("points"),g=a.Element.getLayerX(b),h=a.Element.getLayerY(b);e.push(g),e.push(h),f.attr("points",e)},h=function(){c.data("points",f.attr("points")),c.setElement(f),d.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(g).mouseup(h):h()},i.prototype.penToPath=function(b,c){var d=b.x,e=b.y,f=this.getPathToPoints(b),g="",h=this,i=[["M",d,e],["L",d,e]];this._drawing?(f=[d,e,d,e],g=this.pathToString(i)):g=b.path;var j=this._drawGroup.path().attr({stroke:b.stroke||b.stroke,strokeWidth:b["stroke-width"]||b.strokeWidth,fill:"none",anntype:b.anntype,d:g,transform:b.transform}),k=function(c,d,e){var g=a.Element.getLayerX(c),i=a.Element.getLayerY(c);f.push(g),f.push(i),j.data("points",g,i),j.attr("d",h.pointsToPath(b.anntype,f))},l=function(){c.data("points",f),c.attr("path",j.attr("d")),c.setElement(j),h.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.highlighter=function(b,c){var d=(b.x,b.y,this),e=d.getPoints(b),f=this._drawGroup.polyline().attr({stroke:b.stroke||b.stroke,strokeWidth:b["stroke-width"]||b.strokeWidth,fill:"none",anntype:b.anntype,points:e,transform:b.transform}),g=function(b,c,d){var e=f.attr("points"),g=a.Element.getLayerX(b),h=a.Element.getLayerY(b);e.push(g),e.push(h),f.attr("points",e)},h=function(){c.data("points",f.attr("points")),c.setElement(f),d.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(g).mouseup(h):h()},i.prototype.highlighterRectType=function(b,c){var d=b.x,e=b.y,f=b.width,h=b.height,i=this;this._drawing&&("#000000"!==b.fill&&"#ffffff"!==b.fill||(b.fill="#ffff00"));var j=this._drawGroup.rect(d,e,f,h).attr({fill:b.fill,opacity:.4,ox:d,oy:e,anntype:b.anntype,transform:b.transform});c.attr(b),c.setElement(j);var k=function(c){var d=g.toInt(j.attr("ox")),e=g.toInt(j.attr("oy")),f=a.Element.getLayerX(c),h=a.Element.getLayerY(c),i=d,k=e,l=f,m=h,n=l-i,o=m-k;n<0&&o<0?(i=l,k=m,n=d-i,o=e-k):n<0?(i=l,n=d-i):o<0&&(k=m,o=e-k),b.x=i,b.y=k,b.width=n,b.height=o,j.attr({x:b.x,y:b.y,width:b.width,height:b.height})},l=function(){var a={x:b.x,y:b.y,width:b.width,height:b.height};c.attr(a),i.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.protractor=function(b,c){function d(a){var d=[];d.push(a[2]),d.push(a[2]);var e=Snap.angle(a[2],a[3],a[0],a[1]),f=Snap.angle(a[2],a[3],a[4],a[5]),l=g.toFloat(e-f);l=l<0?-l:l;var m=g.toFloat(a[3]);if(m>a[1]&&m>a[5]?m+=20:m>a[1]||m>a[5]?m-=20:m+=20,6===a.length){i.remove(),j.remove(),j=h._drawGroup.text(g.toFloat(a[2]),m,l).attr({stroke:b.stroke,strokeWidth:1,"text-anchor":"middle",fill:"none",fontColor:b["font-color"]||"#000000"});a[2],a[3],a[0],a[1],a[4],a[5];k.g(i,j),k.attr("anntype",b.anntype),c.data("points",a)}}var e=(b.x,b.y,""),f=this.getPoints(b),h=this,i=this._drawGroup.polyline().attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:"none",anntype:b.anntype,points:f,transform:b.transform}),j=this._drawGroup.text(f[0],f[1],"").attr({stroke:b.stroke,strokeWidth:1,"text-anchor":"middle",fill:"none",fontColor:b["font-color"]||"#000000"}),k=this._drawGroup.g(i,j).attr({anntype:b.anntype}),l=function(){c.setElement(k),h.drawEnd(c)},m=function(b){if(2===b.button)return b.preventDefault(),b.stopPropagation(),l(),!1;var c=i.attr("points"),d=c.length;if(d>2&&c.splice(d-2,2),c.length<5){var f=a.Element.getLayerX(b),g=a.Element.getLayerY(b);c.push(f),c.push(g)}if(6===c.length||c.length>6)return b.preventDefault(),b.stopPropagation(),void l();i.attr("points",c),e="mousedown"},n=function(b){var c=i.attr("points"),f=c.length;f>2&&"mousemove"===e&&c.splice(f-2,2);var g=a.Element.getLayerX(b),h=a.Element.getLayerY(b);c.push(g),c.push(h),i.attr("points",c),d(c),e="mousemove"};this._drawing?this._ownerWrapper.mousemove(n).mousedown(m):d(f)},i.prototype.hiddenarea=function(b,c){var d=b.x,e=b.y,f=b.width,h=b.height,i=this;this._drawing&&(b["fill-opacity"]=1);var j=this._drawGroup.rect(d,e,f,h).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],strokeOpacity:1,fill:"url(#"+this._createPattern(b.anntype)+")",fillOpacity:b["fill-opacity"],ox:d,oy:e,anntype:b.anntype,transform:b.transform}),k=function(d){var e=g.toInt(j.attr("ox")),f=g.toInt(j.attr("oy")),h=(g.toInt(j.attr("width")),g.toInt(j.attr("height")),
a.Element.getLayerX(d)),i=a.Element.getLayerY(d),k=e,l=f,m=h,n=i,o=m-k,p=n-l;o<0&&p<0?(k=m,l=n,o=e-k,p=f-l):o<0?(k=m,o=e-k):p<0&&(l=n,p=f-l);var q={x:k,y:l,width:o,height:p,"fill-opacity":b["fill-opacity"]};j.attr(q),c.attr(q)},l=function(){c.setElement(j),i.drawEnd(c)};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.imagearea=function(a,b){var c=a.x,d=a.y,e=this,f=this._controlGroup.g();if(a["image-href"]){var g=this._drawGroup.image().attr({"xlink:href":a["image-href"],x:c,y:d,width:a.width,height:a.height,preserveAspectRatio:"none"});f.add(g)}if(a.text){var h=this._drawGroup.text(c,a.y+a.height+a["font-size"],a.text).attr({"text-anchor":"start",fill:a["font-color"],"font-size":a["font-size"]});f.add(h)}f.attr("anntype",a.anntype),b.attr(a),function(){b.setElement(f),e.drawEnd(b)}()},i.prototype.image=function(a,b){function c(a){a["image-href"]&&(d=this._drawGroup.image().attr("anntype",a.anntype),d.attr("anntype",a.anntype),d.attr({"xlink:href":a["image-href"],x:e,y:f,width:a.width,height:a.height,preserveAspectRatio:"none"})),d&&(b.attr(a),h())}var d,e=a.x,f=a.y,g=this,h=function(){b.setElement(d),g.drawEnd(b)};this._drawing||c(a)},i.prototype.polycurve=function(b,c){var d="",e=this.getPoints(b),f=this,g=this._drawGroup.path().attr({stroke:b.stroke,strokeWidth:b["stroke-width"],fill:"none",anntype:b.anntype,d:f.pointsToPath(b.anntype,e)}),h=function(){c.data("points",e),c.setElement(g),f.drawEnd(c)},i=function(i){if(2===i.button)return i.preventDefault(),i.stopPropagation(),h(),!1;var j=e.length;j>2&&e.splice(j-2,2);var k=a.Element.getLayerX(i),l=a.Element.getLayerY(i);e.push(k),e.push(l),c.data("points",e),g.attr("d",f.pointsToPath(b.anntype,e)),d="mousedown"},j=function(c){var h=e.length;h>1&&"mousemove"===d&&e.splice(h-2,2);var i=a.Element.getLayerX(c),j=a.Element.getLayerY(c);e.push(i),e.push(j),g.attr("d",f.pointsToPath(b.anntype,e)),d="mousemove"};this._drawing?this._ownerWrapper.mousemove(j).mousedown(i):h()},i.prototype.checkmark=function(b,c){function d(d,e,f,g,i){var k;if(k=Array.isArray(i)?i:i.split("\n"),d=d||b.x,e=e||b.y,f=f||b.width,g=g||b.height,h._drawing&&(e-=b["font-size"]),a.Utils.isNotEmpty(i)){j.clear();var l=d;1===b["text-halign"]?l=d+f/2:2===b["text-halign"]&&(l=d+f);var m,n,o=b["font-size"],p=h._drawGroup.text(l,e,k).attr({"text-anchor":a.Type.AnnotationAttribute.TEXT_ALIGN[b["text-halign"]],tabindex:"-1",fill:b["font-color"]}),q=p.node.childNodes,r=q.length,s=0,t=f;for(s=0;s<r;s+=1){m=Snap(q[s]);var u=m.node.textLength.baseVal.value;t<u&&(t=u),m.attr("x",l),n=h.textPosition(l,0,s,o,0),m.attr("dy",n.y),m.attr("fill",b["font-color"]),m.attr("alignment-baseline","hanging"),m.attr("alignment-baseline","text-before-edge"),m.attr("font-size",o+"px"),m.attr("font-family",b["font-family"]),m.attr("font-weight",b["font-weight"]),m.attr("tabindex","-1")}if(0===f)for(h._drawing&&(t=32),1===b["text-halign"]?l=d+t/2:2===b["text-halign"]&&(l=d+t),p.attr("x",l),s=0;s<r;s+=1)m=Snap(q[s]),m.attr("x",l);j.add(p),b.text=i;var v={text:i,x:d,y:e,x1:d,y1:e};c.attr(v),c.setElement(j),h.drawEnd(c)}else h.drawEnd(c,!0)}var e,f=b.x,g=b.y,h=(c.page,this),i=0;this._drawWrapper.node.viewBox.animVal?e=this._drawWrapper.node.viewBox.animVal:this._drawWrapper.node.viewBox.baseVal&&(e=this._drawWrapper.node.viewBox.baseVal),e.x<0&&e.y<0?i=180:e.x<0&&e.y>=0?i=90:e.x>=0&&e.y<0&&(i=270),this._drawing&&(b["font-size"]=48,b["font-weight"]="weight",b["font-color"]="#ff0000",b.height=72,90===i?(g=b.y+b.height/2,f=b.x+b.height/2):180===i?(g=b.y+b.height,f=b.x+b.height/2):270===i&&(g=b.y+b.height));var j=this._drawGroup.g();j.attr("anntype",b.anntype),c.attr(b),this._drawing&&(b.text="√",f-=8),d(f,g,b.width,b.height,b.text)},i.prototype.mask=function(b,c){var d=b.x,e=b.y,f=b.width,h=b.height,i=this;b["fill-opacity"]=1,b.fill=this._drawing?"#000000":b.fill,b.stroke=b.fill;var j=this._drawGroup.rect(d,e,f,h).attr({stroke:b.stroke,strokeWidth:b["stroke-width"],strokeOpacity:1,fill:b.fill,fillOpacity:1,ox:d,oy:e,anntype:b.anntype,transform:b.transform});c.attr(b),c.setElement(j);var k=function(c){var d=g.toInt(j.attr("ox")),e=g.toInt(j.attr("oy")),f=(g.toInt(j.attr("width")),g.toInt(j.attr("height")),a.Element.getLayerX(c)),h=a.Element.getLayerY(c),i=d,k=e,l=f,m=h,n=l-i,o=m-k;n<0&&o<0?(i=l,k=m,n=d-i,o=e-k):n<0?(i=l,n=d-i):o<0&&(k=m,o=e-k),b.x=i,b.y=k,b.width=n,b.height=o,j.attr({x:b.x,y:b.y,width:b.width,height:b.height})},l=function(){var a=!1;b.width>c.minWidth&&b.height>c.minHeight?c.attr({x:b.x,y:b.y,width:b.width,height:b.height}):a=!0,i.drawEnd(c,a)};this._drawing?this._ownerWrapper.mousemove(k).mouseup(l):l()},i.prototype.remove=function(){this._drawGroup=null,this._ownerWrapper&&(this.undraw(),this._ownerWrapper.paper.clear(),this._ownerWrapper.remove(),this._completeGroup&&(this._completeGroup.paper.clear(),this._completeGroup.remove()),this._controlGroup&&(this._controlGroup.paper.clear(),this._controlGroup.remove()),this._drawWrapper&&(this._drawWrapper.paper.clear(),this._drawWrapper.remove())),this._ownerWrapper=null,this._drawWrapper=null},a.graphics.Snap=i}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=a.UI,g=a.Events,h=function(a,b,c){var e={"page-index":0,anntype:"",angle:0,id:0,width:0,height:0,x:0,y:0,transform:"",fill:"#000000","fill-style":-1,"fill-opacity":.5,matrix:"","log-font":"","security-level":255,"uid-encode":"","upw-encode":"","fix-mode":0};return this._attr=d.extend(e,b,!0),this._data={},this.page=a,this.el=c,this._graphics=null,this._selected=!1,this._visible=!1,this._editable=!0,this._readonly=!1,this._level=1,this._enabledContextmenu=!0,this.transforms=[],this.fixed=!0,this};h.prototype={initItemHandler:function(){return this.initOnSelected(),this},initOnSelected:function(){var a=this;a.el&&(a.el.unmousedown(),a.el.mousedown(function(b,c,d){a.page.data("editable")&&a.editable()&&a.page.data(e.ControlType.name())!==e.ControlType.MAGNIFICATION&&a.click(b)}),a.page.data("editable")&&a.editable()&&a.el.initDrag(a))},editable:function(a){if(1!==arguments.length)return this._editable;this._editable=a},readonly:function(a){this._editable=a},dblclick:function(){},click:function(a){var b=this.data("evtTimeStamp")||0,c=Date.now(),d=c-b<500;if(this.data("evtTimeStamp",d?0:c),2===a.button)this.contextmenu(a.pageX,a.pageY);else{var e=this.page.selectedItem();e&&e!==this&&this.page.unSelectedItem(e),this.isSelected()||this.page.selectedItem(this,a,a.pageX,a.pageY)}},contextmenu:function(a,b){this._enabledContextmenu&&f.contextmenu(this.page,this,a,b)},selected:function(a,b,c,d){this._editable&&(this._selected=a,this.el&&(a?this.el.selected(this,b,c,d):this.el.unselected()))},isSelected:function(){return this._selected},pageControlType:function(){return this.page.data("controlType")},pageSelectedItem:function(a){if(!a)return this.page.selectedItem();this.page.selectedItem("selectedItem",a)},options:function(){},change:function(a){this.attr(a),this._changeAttr(a)},_changeAttr:function(a){this.redraw()},draw:function(a){return this.page.getAnnotation()._graphic.draw(this,!1,a),this},setElement:function(a){this.el=a,this.initItemHandler()},redraw:function(){var a=this.isSelected();a&&this.selected(!1),this.attr(this.attrToJson()),this.data("invertMatrix",null),this.remove(!1).draw(!0),this.selected(a),this.page.trigger("page"+this.page.pageIndex()+".change.annotation",this)},remove:function(a){return a="boolean"!=typeof a||a,this.el&&(this.el.unselected(),this.el.remove(),this.el=null,a&&(this.page.removeItem(this),g.trigger("remove.annotation",this))),this},attr:function(a,b){if(0===arguments.length)return this._attr;if(1===arguments.length){if("object"==typeof a){for(var c in a)c in this._attr&&(this._attr[c]=a[c]);return this}return this._attr[a]}return a in this._attr&&(this._attr[a]=b),this},data:function(a,b){return 0===arguments.length?this._data:d.data.call(this,a,b)},copyAttr:function(){var a={},b=this.attr();for(var c in b)a[c]=b[c];return a},_exportAttr:function(a){if(null!==this.el){var b=this.copyAttr(),c=[1,0,0,1,0,0].join(","),e=this.getGlobalBBox();b.matrix=c,b.transform="matrix("+c+")",a&&(b["page-index"]=a-1);for(var f in e)b.hasOwnProperty(f)&&(b[f]=e[f]);return b["fill-opacity"]=d.toFloat(b["fill-opacity"],1),b["stroke-dashstyle"]=d.toNotEmpty(b["stroke-dashstyle"],1),b["stroke-width"]=d.toNotEmpty(b["stroke-width"],1),b.width=d.toNotEmpty(b.width,0),b.height=d.toNotEmpty(b.height,0),b.x=d.toNotEmpty(b.x,0),b.y=d.toNotEmpty(b.y,0),0===b["fill-opacity"]&&delete b.fill,b}},attrToJson:function(a){return this._exportAttr(a)},_pointsToMapByNode:function(){var a,b,c,d,e=this.el?this.el.node.points:this.data("points"),f=[],g=this.getInvertMatrix(),h=0;e=e||[];try{if(e.numberOfItems)for(h=0;h<e.numberOfItems;h++)a=e.getItem(h),c=a.x,d=a.y,b={x:c,y:d},b.x&&b.y&&g&&(b.x=g.x(c,d),b.y=g.y(c,d),f.push(b));else for(h=0;h<e.length;h+=2)c=e[h],d=e[h+1],b={x:c,y:d},b.x&&b.y&&g&&(b.x=g.x(c,d),b.y=g.y(c,d),f.push(b))}catch(i){console.log(i)}return f},_pointsToMapByData:function(){var a,b,c,d=this.data("points"),e=[],f=this.getInvertMatrix(),g=0;for(g=0;g<d.length;g+=2)b=d[g],c=d[g+1],a={x:b,y:c},a.x&&a.y&&f&&(a.x=f.x(b,c),a.y=f.y(b,c),e.push(a));return e},_pointsToPathByNode:function(a){var b,c,e,f,g,h=this.el?this.el.node.points:this.data("points"),i=[],j=this.getInvertMatrix(),k=0;a=void 0===a||a,h=h||[];try{if(h.numberOfItems)for(k=0;k<h.numberOfItems;k++)b=h.getItem(k),f=b.x,g=b.y,c={x:f,y:g},c.x&&c.y&&j&&(c.x=j.x(f,g),c.y=j.y(f,g),e="",a&&(e=0===k?"M":"L"),e+=d.toInt(c.x)+" "+d.toInt(c.y),i.push(e));else for(k=0;k<h.length;k+=2)f=h[k],g=h[k+1],c={x:f,y:g},c.x&&c.y&&j&&(c.x=j.x(f,g),c.y=j.y(f,g),e="",a&&(e=0===k?"M":"L"),e+=d.toInt(c.x)+" "+d.toInt(c.y),i.push(e))}catch(l){console.log(l)}return i.join(" ")},_pointsToPathByData:function(a){var b,c,e,f,g=this.data("points"),h=[],i=this.getInvertMatrix(),j=0;for(a=void 0===a||a,j=0;j<g.length;j+=2)e=g[j],f=g[j+1],b={x:e,y:f},b.x&&b.y&&i&&(b.x=i.x(e,f),b.y=i.y(e,f),c="",a&&(c=0===j?"M":"L"),c+=d.toInt(b.x)+" "+d.toInt(b.y),h.push(c));return h.join(" ")},pointsToMap:function(a){return a?this._pointsToMapByNode():this._pointsToMapByData()},pointsToPath:function(a,b){return a?this._pointsToPathByNode():this._pointsToPathByData()},getInvertMatrix:function(){var a=[1,0,0,1,0,0],b=this.data("invertMatrix"),c=this.el.transform(),d=c.localMatrix,e=(c.globalMatrix,c.globalMatrix,new Snap.Matrix);return d&&e.add(d),b&&(a=[b.a,b.b,b.c,b.d,b.e,b.f]),e.add(a[0],a[1],a[2],a[3],a[4],a[5]),e},_globalBBox:function(){var a=this.el.getBBox(1),b=this.getInvertMatrix(),c=b.x(a.x,a.y),e=b.y(a.x,a.y),f=c,g=e,h=b.x(a.x2,a.y2),i=b.y(a.x2,a.y2),j=Math.min(c,h),k=Math.max(c,h),l=Math.min(e,i),m=Math.max(e,i),n=k-j,o=m-l;return{x:d.toFloat(c,2),y:d.toFloat(e,2),x1:d.toFloat(f,2),y1:d.toFloat(g,2),x2:d.toFloat(h,2),y2:d.toFloat(i,2),cx:d.toFloat(0,2),cy:d.toFloat(0,2),r:d.toFloat(0,2),rx:d.toFloat(0,2),ry:d.toFloat(0,2),minX:d.toFloat(j,2),minY:d.toFloat(l,2),maxX:d.toFloat(k,2),maxY:d.toFloat(m,2),width:d.toFloat(n,2),height:d.toFloat(o,2)}},getGlobalBBox:function(){return this._globalBBox()},hide:function(){this._setVisible(!1)},show:function(){this._setVisible(!0)},_setVisible:function(a){this._visible=a,this.el&&(this.el.node.style.display=a?"block":"none")},render:function(){},changeViewport:function(){},focus:function(){},getBoundingClientRect:function(){if(this.el)return this.el.node.getBoundingClientRect()}},a.annotation.AnnotationItem=h}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.ARC,points:[],stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,fill:"none"};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(),b},a.annotation.Arc=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.ARROWLINE,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"right-arrow-shape":0,"left-arrow-shape":0,x1:0,y1:0,x2:0,y2:0,"ras-size":8,"las-size":8};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox(),b=this.getInvertMatrix();return a.x1=b.x(this.attr("x1"),this.attr("y1")),a.y1=b.y(this.attr("x1"),this.attr("y1")),a.x2=b.x(this.attr("x2"),this.attr("y2")),a.y2=b.y(this.attr("x2"),this.attr("y2")),a},a.annotation.ArrowLine=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.CHECKMARK,fill:"none","fill-style":-1,"fill-opacity":.5,text:"","font-size":48,"text-halign":0,"font-color":"#FF0000","font-family":"굴림","font-weight":"bold","text-valign":1};return g=d.extend(g,c,!0),a.annotation.Text.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox(),b=this.getInvertMatrix();return a.x=b.x(this.attr("x"),this.attr("y")),a.y=b.y(this.attr("x"),this.attr("y")),a.x1=a.x,a.y1=a.y,a},f.prototype.initOnSelected=function(){var b=this,c=b.el,d=b.attr("anntype").toLowerCase();c&&(c.unmousedown(),c.mousedown(function(c,f,g){if(b.pageControlType()===e.ControlType.NONE||""===b.pageControlType())2===c.button?(c.preventDefault(),c.stopPropagation(),b.contextmenu(f,g)):(c.preventDefault(),c.stopPropagation(),a.UI.memo({x:f,y:g,type:d,node:b.page.getPageNode(),text:b.attr("text")},function(a){b.attr("text",a),b.redraw()},!0));else if(b.pageControlType()===e.ControlType.SELECT){var h=b.page.selectedItem();h?(b.page.unSelectedItem(h),b.isSelected()||b.page.selectedItem(b)):b.page.selectedItem(b)}}))},f.prototype.contextmenu=function(b,c){var d=this;a.UI.contextmenu(d.page,d,b,c)},a.annotation.CheckMark=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.ELLIPSE,fill:"#ffffff",stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"fill-opacity":1,rx:0,ry:0,cx:0,cy:0};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.rx=(a.maxX-a.minX)/2,a.ry=(a.maxY-a.minY)/2,a.cx=a.maxX-a.rx,a.cy=a.maxY-a.ry,a},a.annotation.Ellipse=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.CIRCLE,fill:"#ffffff",stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"fill-opacity":1,r:0,cx:0,cy:0};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.r=(a.maxY-a.minY)/2,a.cx=a.maxX-a.r,a.cy=a.maxY-a.r,a},a.annotation.Circle=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.HIGHLIGHTER,points:[],stroke:"#f0f014","stroke-dashstyle":0,"stroke-width":10,fill:"#f0f014","fill-opacity":.5};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),a.annotation.Highlighter=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.HIGHLIGHTER,points:[],stroke:"#f0f014","stroke-dashstyle":0,"stroke-width":3,fill:"#f0f014","fill-opacity":.5};return this._subType="rect",this._attr=d.extend(g,c,!0),a.annotation.Rect.call(this,b,this._attr,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.x=a.minX,a.x2=a.maxX,a.y=a.minY,a.y2=a.maxY,a},a.annotation.HighlighterRect=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.IMAGE,"image-opacity":1,"image-href":""};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),a.annotation.Image=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.LINE,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,x1:0,y1:0,x2:0,y2:0,"right-arrow-shape":0,"left-arrow-shape":0,"ras-size":8,"las-size":8};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox(),b=this.getInvertMatrix();return a.x1=b.x(this.attr("x1"),this.attr("y1")),a.y1=b.y(this.attr("x1"),this.attr("y1")),a.x2=b.x(this.attr("x2"),this.attr("y2")),a.y2=b.y(this.attr("x2"),this.attr("y2")),a},a.annotation.Line=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.TEXT,text:"","font-size":10,"text-halign":0,"font-color":"#000000","font-family":"굴림","font-weight":"normal","text-valign":0};return a.annotation.AnnotationItem.call(this,b,g,f),this._attr=d.extend(g,c,!0),this};f.prototype.click=function(b){var c=this,d=this.data("evtTimeStamp")||0,e=Date.now(),f=e-d<500;if(this.data("evtTimeStamp",f?0:e),f)a.UI.memo({x:c.attr("x"),y:c.attr("y"),type:c.attr("anntype"),node:c.page.getPageNode(),text:c.attr("text")},function(b){c.attr("text",b),c.redraw(),a.Events.trigger("change.annotation",c)},!0);else if(2===b.button)this.contextmenu(b.pageX,b.pageY);else{var g=this.page.selectedItem();g&&g!==this&&this.page.unSelectedItem(g),this.isSelected()||this.page.selectedItem(this,b,b.pageX,b.pageY)}},a.inherit(f,a.annotation.AnnotationItem),a.annotation.Text=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.MEMO,text:"",stroke:"#000000","font-size":10,"text-halign":0,"font-color":"#FF0000","font-family":"굴림","font-weight":"normal","text-valign":0};return g=d.extend(g,c,!0),a.annotation.Text.call(this,b,g,f),this.textPadding=4,this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.click=function(b){var c=this,d=this.data("evtTimeStamp")||0,e=Date.now(),f=e-d<500;if(this.data("evtTimeStamp",f?0:e),f)a.UI.memo({x:c.attr("x"),y:c.attr("y"),type:c.attr("anntype"),node:c.page.getPageNode(),text:c.attr("text")},function(b){c.attr("text",b),c.redraw(),a.Events.trigger("change.annotation",c)},!0);else if(2===b.button)this.contextmenu(b.pageX,b.pageY);else{var g=this.page.selectedItem();g&&g!==this&&this.page.unSelectedItem(g),this.isSelected()||this.page.selectedItem(this,b,b.pageX,b.pageY)}},f.prototype.getGlobalBBox=function(){var a=this._globalBBox(),b=this.getInvertMatrix();return a.x=b.x(this.attr("x"),this.attr("y")),a.y=b.y(this.attr("x"),this.attr("y")),a.x1=a.x,a.y1=a.y,a},a.annotation.Memo=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=(a.Element,function(b,c,f){var g={anntype:e.AnnotationType.MEMOPAD};return g=d.extend(g,c,!0),a.annotation.Memo.call(this,b,g,f),this});a.inherit(f,a.annotation.AnnotationItem),f.prototype.initOnSelected=function(){var b=this,c=b.attr("anntype").toLowerCase();b.el&&(b.el.unmousedown(),b.el.mousedown(function(d,f,g){if(b.pageControlType()===e.ControlType.NONE||""===b.pageControlType())a.UI.memo({x:d.offsetX,y:d.offsetY,type:c,node:b.page.getPageNode(),text:b.attr("text")},function(a){b.attr("text",a)},!0);else if(b.pageControlType()===e.ControlType.SELECT){var h=b.page.selectedItem();h?(b.page.unSelectedItem(h),b.isSelected()||b.page.selectedItem(b)):b.page.selectedItem(b)}}))},a.annotation.MemoPad=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.POLYCURVE,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,points:[]};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(),b},a.annotation.Polycurve=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.POLYGON,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"fill-opacity":0,fill:"#ffffffff",points:[]};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(!0),b["fill-opacity"]=d.toFloat(b["fill-opacity"],1),b},a.annotation.Polygon=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.POLYLINE,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,path:"",points:[]};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(!0),b},a.annotation.Polyline=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.PEN,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,path:"",points:[]};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(),b.path=this.pointsToPath(),b},a.annotation.Pen=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.PROTRACTOR,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,x1:0,points:[]};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.attrToJson=function(a){var b=this._exportAttr(a);return b.points=this.pointsToMap(),b},a.annotation.Protractor=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.RECT,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"fill-opacity":1,x1:0,y1:0,x2:0,y2:0};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.x=a.minX,a.x2=a.maxX,a.y=a.minY,a.y2=a.maxY,a},a.annotation.Rect=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.STAMP,stroke:"#000000","stroke-dashstyle":0,"stroke-width":3,"stamp-mode":0,"stamp-style":0};return this._attr=d.extend(g,c,!0),a.annotation.Image.call(this,b,this._attr,f),a.annotation.Memo.call(this,b,this._attr,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.initOnSelected=function(){var b=this;b.attr("anntype").toLowerCase();b.el&&(b.el.unmousedown(),b.el.mousedown(function(c,d,f){if(b.pageControlType()===e.ControlType.NONE||""===b.pageControlType())2===c.button&&(a.UI.uncontextmenu(),a.UI.stamp(b.attr(),function(a){b.change(a)}));else if(b.pageControlType()===e.ControlType.SELECT){var g=b.page.selectedItem();g?(b.page.unSelectedItem(g),b.isSelected()||b.page.selectedItem(b)):b.page.selectedItem(b)}}))},a.annotation.Stamp=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.IMAGEAREA};return g=d.extend(g,c,!0),a.annotation.Image.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.initOnSelected=function(){},f.prototype.contextmenu=function(){},a.annotation.ImageArea=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.HIDDENAREA,"image-opacity":1,"image-href":""};return g=d.extend(g,c,!0),a.annotation.AnnotationItem.call(this,b,g,f),this._editable=!1,this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.x=a.minX,a.x2=a.maxX,a.y=a.minY,a.y2=a.maxY,a},a.annotation.HiddenArea=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.MASK,points:[],stroke:"#000","stroke-dashstyle":0,"stroke-width":3,fill:"#000","fill-opacity":1};return this._attr=d.extend(g,c,!0),this.minWidth=10,this.minHeight=10,a.annotation.Rect.call(this,b,this._attr,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.x=a.minX,a.x2=a.maxX,a.y=a.minY,a.y2=a.maxY,a},a.annotation.Masking=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.EDITTEXT,text:"","fill-opacity":0,"stroke-width":0,stroke:"#000000","font-size":10};return g=d.extend(g,c,!0),a.annotation.Text.call(this,b,g,f),this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.click=function(b){var c=this,d=this.data("evtTimeStamp")||0,e=Date.now(),f=e-d<500;if(this.data("evtTimeStamp",f?0:e),f)a.UI.memo({x:c.attr("x"),y:c.attr("y"),type:c.attr("anntype"),node:c.page.getPageNode(),text:c.attr("text")},function(b){c.attr("text",b),c.redraw(),a.Events.trigger("change.annotation",c)},!0);else if(2===b.button)this.contextmenu(b.pageX,b.pageY);else{var g=this.page.selectedItem();g&&g!==this&&this.page.unSelectedItem(g),this.isSelected()||this.page.selectedItem(this,b,b.pageX,b.pageY)}},a.annotation.EditText=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=a.setting("annotationConfig").stickynote,g=function(b,c,g){var h={anntype:e.AnnotationType.STICKYNOTE,text:"",stroke:null,"font-size":10,"text-halign":0,"font-color":"#000000","font-family":"굴림","font-weight":"normal","text-valign":0,fill:"#ffff99","fill-opacity":1,width:f.width||300,height:f.height||50};h=d.extend(h,c,!0),h.fill=h.fill?h.fill:"#ffff99",h.stroke=h.stroke||h.fill,a.annotation.Text.call(this,b,h,g),this.fixed=!1,this.minWidth=20,this.minHeight=10,this._data.angle=0,this.textPadding=20};a.inherit(g,a.annotation.AnnotationItem),g.prototype.click=function(b){var d=this,e=this.data("evtTimeStamp")||0,f=Date.now(),g=f-e<400;if(this.data("evtTimeStamp",g?0:f),g)a.UI.memo({x:d.attr("x"),y:d.attr("y"),fontSize:d.attr("font-size"),fill:d.attr("fill"),fillOpacity:d.attr("fill-opacity"),type:d.attr("anntype"),node:a.Element.select(c.body,".sform-contents"),text:d.attr("text")},function(a){d.attr({text:a.text,"font-size":a.fontSize,fill:a.fill,width:d.attr("width"),"fill-opacity":a.fillOpacity}),d.redraw(!0)},!0),a.UI.uncontextmenu();else if(2===b.button)this.contextmenu(b.pageX,b.pageY);else{var h=this.page.selectedItem();h&&h!==this&&this.page.unSelectedItem(h),this.isSelected()||this.page.selectedItem(this,b,b.pageX,b.pageY)}},g.prototype.getGlobalBBox=function(){var a=this._globalBBox(),b=this.getInvertMatrix();return a.x=b.x(this.attr("x"),this.attr("y")),a.y=b.y(this.attr("x"),this.attr("y")),a.x1=a.x,a.y1=a.y,a},g.prototype.updateTextNode=function(a,b,c,d){return this},g.prototype.rotate=function(a){this.el&&!this.fixed&&(this.el.transform(this.transformsToString()+"r"+-a),this.data("angle",-a))},g.prototype.getInvertMatrix=function(){var a=[1,0,0,1,0,0],b=this.data("invertMatrix"),c=this.el.transform(),d=(c.localMatrix,c.globalMatrix,c.globalMatrix,new Snap.Matrix),e=0,f=this.transforms.length;for(e<0;e<f;e++){var g=this.transforms[e];"translate"===g.type&&d.translate(g.tx,g.ty)}return b&&(a=[b.a,b.b,b.c,b.d,b.e,b.f]),d.add(a[0],a[1],a[2],a[3],a[4],a[5]),d},g.prototype.transformsToString=function(){var a=0,b=this.transforms.length,c="";for(a<0;a<b;a++){var d=this.transforms[a];"translate"===d.type&&(c+="t"+d.tx+","+d.ty)}return c},g.prototype.redraw=function(a){a="boolean"!=typeof a||a;var b=this.isSelected();return this.isSelected()&&this.selected(!1),this.attr(this.attrToJson()),this.data("invertMatrix",null),this.remove(!1).draw(!0),this.transforms=[],0!==this.page.data("angle")&&this.rotate(this.page.data("angle")),this.selected(b),a&&this.page.trigger("page"+this.page.pageIndex()+".change.annotation",this),this},g.prototype._globalBBox=function(){var a=this.el.getBBox(1),b=this.getInvertMatrix(),c=b.x(a.x,a.y),e=b.y(a.x,a.y),f=c,g=e,h=b.x(a.x2,a.y2),i=b.y(a.x2,a.y2),j=Math.min(c,h),k=Math.max(c,h),l=Math.min(e,i),m=Math.max(e,i),n=a.width,o=a.height;return{x:d.toFloat(c,2),y:d.toFloat(e,2),x1:d.toFloat(f,2),y1:d.toFloat(g,2),x2:d.toFloat(h,2),y2:d.toFloat(i,2),cx:d.toFloat(0,2),cy:d.toFloat(0,2),r:d.toFloat(0,2),rx:d.toFloat(0,2),ry:d.toFloat(0,2),minX:d.toFloat(j,2),minY:d.toFloat(l,2),maxX:d.toFloat(k,2),maxY:d.toFloat(m,2),width:d.toFloat(n,2),height:d.toFloat(o,2)}},g.prototype.getGlobalBBox=function(){return this._globalBBox()},a.annotation.StickyNote=g}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=a.Type,f=function(b,c,f){var g={anntype:e.AnnotationType.ETERNITYRECT,points:[],stroke:"#000","stroke-dashstyle":0,"stroke-width":3,fill:"#000","fill-opacity":1};return this._attr=d.extend(g,c,!0),a.annotation.Rect.call(this,b,this._attr,f),this._attr.anntype=e.AnnotationType.ETERNITYRECT,this._level=2,this};a.inherit(f,a.annotation.AnnotationItem),f.prototype.getGlobalBBox=function(){var a=this._globalBBox();return a.x=a.minX,a.x2=a.maxX,a.y=a.minY,a.y2=a.maxY,a},a.annotation.EternityRect=f}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils,e=(a.Element,a.Type);a.ServiceAPIMessage={Action:{PageCount:"PageCount",PageInfo:"PageInfo",PageStream:"PageStream",PageAnnotation:"PageAnnotation"},DocInfoRequest:{URI:"/sform/doc/info.wfm",TYPE:"POST",ContentType:"json",DataType:"json",PARAM:{docId:"",docFormCode:""}},PageCountRequest:{URI:"/sform/file/@/count.wfm",TYPE:"POST",ContentType:"json",DataType:"json",PARAM:{fileId:""}},PageInfoRequest:{URI:"/sform/file/info.wfm",TYPE:"POST",ContentType:"json",DataType:"json",PARAM:{fileId:""}},PageStreamRequestByPost:{URI:"/sform/file/streaming.wfm",TYPE:"POST",ContentType:"json",DataType:"json",PARAM:{fileId:"",pageNo:1,fileFormat:"jpg",compressFormat:"jpeg",compressValue:5,imageSize:"",action:"PageStream"}},PageStreamRequestByGet:{URI:"/sform/file/streaming.wfm",TYPE:"GET",ContentType:"json",DataType:"json",PARAM:{fileId:"",pageNo:1,fileFormat:"jpg",compressFormat:"jpeg",compressValue:5,imageSize:"",action:"PageStream"}},PageStreamFileRequest:{URI:"/sform/file/streaming.wfm",TYPE:"POST",ContentType:"json",DataType:"arraybuffer",PARAM:{fileId:"",pageNo:1,fileFormat:"jpg",compressFormat:"jpeg",compressValue:5,imageSize:"",action:"PageStream"}},PageProcessingRequest:{URI:"/sform/file/processing.wfm",TYPE:"POST",ContentType:"json",DataType:"json",ParamType:"json",PARAM:{fileId:"",pageNo:1,processingList:{}},ITEM:{command:"",angle:0,x:0,y:0,width:0,height:0}},AnnotationCreateRequest:{URI:"/sform/file/annotation/create.wfm",TYPE:"POST",ContentType:"json",DataType:"json",ParamType:"json",PARAM:{fileId:"",annotationId:"",pageNo:1,annotation:""}},AnnotationUpdateRequest:{URI:"/sform/file/annotation/update.wfm",TYPE:"POST",ContentType:"json",DataType:"json",ParamType:"json",PARAM:{fileId:"",annotationId:"",pageNo:1,annotation:""}},AnnotationGetRequest:{URI:"/sform/file/annotation.wfm",TYPE:"POST",ContentType:"json",DataType:"json",PARAM:{fileId:"",annotationId:"",pageNo:1}},ThumbnailPostRequest:{URI:"/sform/file/thumbnail.wfm",TYPE:"POST",ContentType:"json",DataType:"arraybuffer",PARAM:{fileId:"",pageNo:1,fileFormat:"jpg",compressFormat:"jpeg",compressValue:5,imageSize:"100,150"}},ThumbnailGetRequest:{URI:"/sform/file/@/page/$/thumbnail.wfm",TYPE:"GET",ContentType:"json",DataType:"arraybuffer",PARAM:{fileId:"",pageNo:1,fileFormat:"jpg",compressFormat:"jpeg",compressValue:5,imageSize:"100,150"}},FileDownloadRequest:{URI:"/sform/file/down.wfm",TYPE:"POST",ContentType:"",DataType:"",PARAM:{fileId:""}}};var f=a.Utils.globalLocation(),g=function(b){var c={protocol:f.protocol,hostname:f.hostname,port:a.Utils.toInt(f.port),context:"",resolve:null,reject:null};this.options=this.extend(c,b)}
;return g.prototype._makeUrl=function(a){return 0===a.indexOf("http")?a:this.options.protocol+"://"+this.options.hostname+":"+f.port+a},g.prototype.request=function(a,b,c,d){var e,f=this.options.context,g=a.type,h=g.TYPE,i=g.DataType,j=g.ContentType;b=b||this.options.resolve,c=c||this.options.reject,f+=g.URI,f=f.replace("@",a.fileId),a.pageNo&&(f=f.replace(/[$]/gi,a.pageNo));var k=g.ParamType;e=this.paramToString(a);var l={ajaxType:h,url:this._makeUrl(f),contentType:j,dataType:i,params:e,reject:c,resolve:b};try{"binary"===k?(l.data=a.data,this.xhrBinary(l)):"arraybuffer"===i?this.xhrArraybuffer(l):this.ajax(l)}catch(m){console.log(m)}return this},g.createRequest=function(){if(b.XMLHttpRequest)return new XMLHttpRequest;if(b.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){return new ActiveXObject("Microsoft.XMLHTTP")}},g.prototype.createRequest=function(){if(b.XMLHttpRequest)return new XMLHttpRequest;if(b.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){return new ActiveXObject("Microsoft.XMLHTTP")}},g.prototype.requestDocInfo=function(b,c,d){var e={type:a.ServiceAPIMessage.DocInfoRequest,docId:b.docId,docFormCode:b.docFormCode||"",param:b.param};this.request(e,c,d)},g.prototype.requestPageInfo=function(b,c,d){var e={type:a.ServiceAPIMessage.PageInfoRequest,fileId:b.fileId,pageNo:b.pageNo||1,param:b.param};this.request(e,c,d)},g.prototype.requestPageStreaming=function(b,c,d){var e={type:a.ServiceAPIMessage.PageStreamFileRequest,fileId:b.fileId,pageNo:b.pageNo||1};this.request(e,c,d)},g.prototype.requestPageThumbnail=function(b,c,d){var e={type:a.ServiceAPIMessage.ThumbnailPostRequest,fileId:b.fileId,pageNo:b.pageNo||1};this.request(e,c,d)},g.prototype.requestAnnotation=function(b,c,d){var e={type:a.ServiceAPIMessage.AnnotationGetRequest,fileId:b.fileId,annotationId:b.annotationId,pageNo:b.pageNo||1};return this.request(e,c,d),this},g.prototype.requestAnnotationCreate=function(b,c,d){var e={type:a.ServiceAPIMessage.AnnotationCreateRequest,fileId:b.fileId,annotationId:b.annotationId,pageNo:b.pageNo||1,annotation:b.annotation};return this.request(e,c,d),this},g.prototype.requestAnnotationUpdate=function(b,c,d){var e={type:a.ServiceAPIMessage.AnnotationUpdateRequest,fileId:b.fileId,annotationId:b.annotationId,pageNo:b.pageNo||1,annotation:b.annotation};return this.request(e,c,d),this},g.prototype.requestAnnotationSave=function(b,c,d){var e={type:b.annotationId?a.ServiceAPIMessage.AnnotationUpdateRequest:a.ServiceAPIMessage.AnnotationCreateRequest,fileId:b.fileId,annotationId:b.annotationId||"",pageNo:b.pageNo||1,annotation:b.annotation};return this.request(e,c,d),this},g.prototype.requestFileDownload=function(b){if(!d.isEmpty(b)){var e="sform-download-frame",f=c.createElement("iframe");f.name=e,f.setAttribute("style","width:0; height:0;");var g=c.createElement("form");g.name="__sform-download",g.method="POST",g.action=this.createRequestUrl({type:a.ServiceAPIMessage.FileDownloadRequest}),g.target=e;var h=c.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name","fileId"),h.setAttribute("value",b),g.appendChild(h),c.body.appendChild(g),c.body.appendChild(f),g.submit(),setTimeout(function(){g.parentNode.removeChild(g),f.parentNode.removeChild(f)},1e3)}},g.prototype.requestImageProcessing=function(b,c,d){var e={type:a.ServiceAPIMessage.PageProcessingRequest,fileId:b.fileId,pageNo:b.pageNo||1,processingList:b.processingList};return this.request(e,c,d),this},g.prototype.resolve=function(){return"function"==typeof this.options.resolve&&this.options.resolve.apply(null,Array.prototype.slice.call(arguments,0)),this},g.prototype.catch=function(){return"function"==typeof this.options.reject&&this.options.reject.apply(null,Array.prototype.slice.call(arguments,0)),this},g.prototype._responseProcess=function(b,c,e,f){var g=f.status;try{if(200===g){var h=e.currentTarget?e.currentTarget:e.target;g=h.status;var i=h.response||h.responseText;d.isFunction(b)&&(i&&"object"!=typeof i&&(i=JSON.parse(i)),b(i,h))}}catch(j){g=500,console.log(j),d.isFunction(c)?c(f):a.UI.alert("API 연동 오류가 발생했습니다.<br/>장애가 지속될 경우 담당자에게 연락 부탁드립니다.")}200!==g&&d.isFunction(c)&&c(f)},g.prototype.createRequestUrl=function(b){var c,d,e=this.options.context,f=b.type,g=[];c=f.TYPE,e+=f.URI,d=this.extend(f.PARAM,b,!0);for(var h in d)"object"!=typeof d[h]&&g.push(h+"="+d[h]);return"POST"===c?e:f===a.ServiceAPIMessage.ThumbnailGetRequest?(e=e.replace("@",b.fileId),e=e.replace(/[$]/gi,b.pageNo)):e+"?"+g.join("&")},g.prototype.paramToString=function(a,b){var c=(this.options.context,[]),d=a.type;d.TYPE;b=void 0!==b&&b;var e=this.extend(this._copyByRequestParam(d.PARAM),a,b),f=d.ContentType||"";if(b||"json"!==f){for(var g in e)"object"!=typeof e[g]&&(d.PARAM.hasOwnProperty(g)||b)&&c.push(g+"="+e[g]);return c.join("&")}return e=this.extend(e,a.param,!0),JSON.stringify(e)},g.prototype._copyByRequestParam=function(a){var b={};for(var c in a)b[c]=a[c];return b},g.prototype.readyRequest=function(a,b){var c=this,d=this.createRequest();if(null!==d){var e=a.url;return e=-1===e.indexOf("?")?e+"?t="+(new Date).getTime():e+"&t="+(new Date).getTime(),d.open(a.ajaxType,a.url+"",!0),d.overrideMimeType&&d.overrideMimeType(a.contentType),d.responseType=a.dataType,d.setRequestHeader("Content-type",a.contentType),d.onreadystatechange=function(a){4===a.readyState&&(200===a.status?console.log(a.responseText):console.log("Error",a.statusText))},d.onload=function(b){c._responseProcess.apply(c,[a.resolve,a.reject,b,this])},d}},g.prototype.ajax=function(a){var b=a.params,c=e.MEDIA_TYPE.APPLICATION_FORM_URLENCODED;"json"===a.contentType&&(c=e.MEDIA_TYPE.APPLICATION_JSON),a.contentType=c;var d=this.readyRequest(a);return d.send(b),d},g.prototype.xhrBinary=function(a){var b=e.MEDIA_TYPE.APPLICATION_FORM_URLENCODED;"json"===a.contentType&&(b=e.MEDIA_TYPE.APPLICATION_JSON),a.contentType=b;var c=this.readyRequest(a),d=new Blob([a.data],{type:e.MEDIA_TYPE.TEXT_PLAIN});return c.send(d),c},g.prototype.xhrArraybuffer=function(a){var b=e.MEDIA_TYPE.APPLICATION_FORM_URLENCODED;"json"===a.contentType&&(b=e.MEDIA_TYPE.APPLICATION_JSON),a.contentType=b;var c=this.readyRequest(a);return c.send(a.params),c},g.prototype.error=function(b){try{200===b.status&&b.responseJSON&&b.responseJSON.message?b.responseJSON.message:b.statusText}catch(c){a.UI.alert("API 연동 오류가 발생했습니다.<br/>장애가 지속될 경우 담당자에게 연락 부탁드립니다.")}},g.prototype.extend=function(a,b,c){for(var d in b)a.hasOwnProperty(d)?"function"==typeof a[d]?a[d]=b[d]:c||"object"!=typeof a[d]||null==a[d]?a[d]=b[d]:a[d]=this.extend(a[d],b[d]):c&&(a[d]=b[d]);return a},a.ServiceManager=g,a.ServiceManager.prototype.constructor=g.prototype,a.ServiceManager}),InziSForm.create(function(a,b,c){"use strict";function d(a,b){var c=0;for(var d in a)a[d].status===b&&(c+=1);return c}var e=a.Element,f=a.UI,g=a.Utils,h=a.Type,i=8.267,j=11.693,k=.4133858,l=.11811,m=(g.IEVersion(),function(a,b){var c={batchjob:{protocol:"http",baseURL:null,port:null,path:"",infoURI:"",streamingURI:"",items:[],pages:[]},commonOption:{mediaSize:"PAGE_TYPE_A4",layout:"auto",margins:0}};this._callback=b,this._options=g.extend(c,a);var d=h.PRINT_PAGE_TYPE[this._options.commonOption.mediaSize];return this._mediaWidth=(d?d.width:i)-2*l,this._mediaHeight=(d?d.height:j)-2*k,this._items=this._options.batchjob?this._options.batchjob.items:[],this._pages=this._options.batchjob?this._options.batchjob.pages:[],this._renderFrameNode=null,this._progressInfo={total:this._pages.length,error:0,loaded:0},this._itemStatus={},this._running=!1,this.init(),this});m.prototype.init=function(){},m.prototype.batchJob=function(){return this._options.batchjob},m.prototype.commonOption=function(){return this._options.commonOption},m.prototype.run=function(){this._running||(this._running=!0,this.renderPrint())},m.prototype.updateProgress=function(a,b){var c=b,e=c.getAttribute("data-index");if("auto"===this.commonOption().layout){var f=g.inchToPx(this._mediaWidth),h=g.inchToPx(this._mediaHeight)-50,i=c.naturalWidth,j=c.naturalHeight,k=0,l=i,m=j;(i>f||j>h)&&(i>f?(k=f/i,l=k*i,(m=k*j)>h&&(k=h/m,l*=k,m*=k)):j>h&&(k=h/m,l=k*i,m=k*j,l>f&&(k=f/l,l*=k,m*=k)),c.width=g.toInt(l),c.style.width=g.toInt(l)+"px",c.height=g.toInt(m),c.style.height=g.toInt(m)+"px")}var n="load"===a.type?"load":"error";this._itemStatus[e]?this._itemStatus[e].status!==n&&(this._itemStatus[e].status=n):this._itemStatus[e]={status:n},this._progressInfo.loaded=d(this._itemStatus,"load"),this._progressInfo.error=d(this._itemStatus,"error"),this.renderProgress()},m.prototype.renderPrint=function(){"window"===a.modulePrintWindow?this.createRenderFrameBlank():this.createRenderFrame()},m.prototype.createRenderFrameBlank=function(){var a=210,d=297,e=c.body,i=g.convertInchBasedGraphicUnit(h.GraphicUnitType.MM,k)/2,j=g.convertInchBasedGraphicUnit(h.GraphicUnitType.MM,l)/2;if(this._renderFrameNode=b.open("_blank","sformPrintWindow","width="+e.clientWidth+", height="+e.clientHeight+", left=0, top=0, scrollbars=no, resizable=no"),null===this._renderFrameNode)return f.alert("이 페이지에서 팝업이 차단되었습니다.<br/>팝업 허용 후 다시 시도해주세요."),void this.clear();this._renderFrameNode.document&&(this._renderFrameNode.document.body.innerHTML=""),this._renderFrameNode.document.write(this._createInnerHTML(a,d,i,j)),this.renderItem()},m.prototype._createInnerHTML=function(a,b,c,d){var e=[],f=-1;return e[++f]="<!DOCTYPE html>",e[++f]="<html>",e[++f]="<head>",e[++f]='<meta charset="UTF-8">',e[++f]="<style>",e[++f]="@media print {html, body { background: #fff; width: "+(a-d)+"mm; height: auto;  margin: 0;  padding:0; box-shadow: 0; } }",e[++f]="@page {",e[++f]="background: #fff; width: "+(a-d)+"mm; height: "+b+"mm; padding:0; margin: 0; text-align:center; orphans: 0!important; widows: 0!important; border: 0; ",e[++f]="}",e[++f]=".page_size { position: relative !important; visibility: visible !important; width: "+(a-d)+"mm; margin: 0; margin-left: "+d/2+"mm; text-align:center; border: 0; }",e[++f]=".page_size img { margin:0mm; border: 0; margin-top: "+c/2+"mm;}",e[++f]=".page_before { page-break-before: always; page-break-inside: avoid; }",e[++f]=".page_after { page-break-after: always; page-break-inside: avoid; }",e[++f]="</style>",e[++f]="</head>",e[++f]="<body>",e[++f]="</body>",e[++f]="</html>",e.join("")},m.prototype.createRenderFrame=function(){var a,b=c.createElement("iframe"),d=this,e=210,f=297;b.width="1px",b.height="1px",b.src="about:blank";var i=g.convertInchBasedGraphicUnit(h.GraphicUnitType.MM,k),j=g.convertInchBasedGraphicUnit(h.GraphicUnitType.MM,l);b.onload=function(){a=b.contentWindow.document,a.write(d._createInnerHTML(e,f,i,j)),d._renderFrameNode=b,d.renderItem()},c.body.appendChild(b)},m.prototype.renderItem=function(){var a=this;if(null!==a._renderFrameNode){this.renderProgress();var b="sformPrintWindow"===this._renderFrameNode.name?this._renderFrameNode:a._renderFrameNode.contentWindow,c=b.document,d=c.body,e=a._pages.length,f=0;for(f=0;f<e;f++)d.appendChild(this.createItem(f,a._pages[f]))}},m.prototype.createItem=function(a,b){var d=this,f=d._pages.length,g=e.createElement("div",{class:"page_size "+(f>1?"page_after":"page_one")},c.body),h=new Image;return h.src=b,h.setAttribute("data-index",a),h.onload=function(a){d.updateProgress(a,this)},h.onerror=function(a){d.updateProgress(a,this)},g.appendChild(h),g},m.prototype.print=function(){var a=this,b="sformPrintWindow"===this._renderFrameNode.name?this._renderFrameNode:a._renderFrameNode.contentWindow;setTimeout(function(){try{b.document.execCommand("print",!1,null)}catch(c){b.print()}a.clear(),a._afterPrintProc({event:"print.completed",success:!0})},300)},m.prototype._afterPrintProc=function(a){"function"==typeof this._callback&&this._callback({event:a.event,success:a.success,message:a.message||""})},m.prototype.clear=function(){this._renderFrameNode&&("sformPrintWindow"===this._renderFrameNode.name?this._renderFrameNode.close():this._renderFrameNode.parentNode.removeChild(this._renderFrameNode)),this._items=[],this._pages=[],this._renderFrameNode=null,this._progressInfo={total:this._pages.length,error:0,loaded:0},this._itemStatus={},this._running=!1},m.prototype.renderProgress=function(){var a=this;if(f.progress(this._progressInfo.loaded,this._progressInfo.total,!0),this._progressInfo.loaded===this._progressInfo.total)a.print();else if(this._progressInfo.loaded+this._progressInfo.error===this._progressInfo.total){var b="일부 페이지 로드에 실패했습니다.</br>(성공:"+this._progressInfo.loaded+", 실패: "+this._progressInfo.error+")";f.progress(this._progressInfo.loaded+this._progressInfo.error,this._progressInfo.total,!0),f.alert(b,function(){a.print()},function(){a.clear()})}},a.PrintManager=m}),InziSForm.create(function(a,b,c){"use strict";var d=a.Utils.globalLocation(),e=function(b,c){var e={batchjob:{protocol:d.protocol,baseURL:d.hostname,port:a.Utils.toInt(d.port),path:"",infoURI:a.ServiceAPIMessage.PageInfoRequest.URI,streamingURI:a.ServiceAPIMessage.PageStreamFileRequest.URI,items:[]},commonOption:{mediaSize:"PAGE_TYPE_A4",layout:"auto",margins:0}};return this._options=a.Utils.extend(e,b),this.serviceType=b.serviceType||a.Type.PRINT_SERVICE_TYPE.CUSTOMURI,this.init(),this};e.prototype.init=function(){this._makeParameter()},e.prototype._makeParameter=function(){var a="--\x3e";a+=JSON.stringify(this._options),a+="<--",this.parameter=a},e.prototype.requestByCustomURI=function(){var b=a.modulePrintURL[this.serviceType],d=c.createElement("iframe");d.name="sform-batch-print-frame",d.setAttribute("style","width:1px; height:1px;"),c.body.appendChild(d);try{d.contentWindow.location.href=b+this.parameter}catch(e){}setTimeout(function(){c.body.removeChild(d)},1e3)},e.prototype.requestByAjax=function(){var b=this.createHttpRequest(),c=a.modulePrintURL[this._options.batchjob.protocol];b.onreadystatechange=function(a){b.readyState,b.DONE},b.open("POST",c,!0),b.send(this.parameter)},e.prototype.requestByWebSocket=function(){var b=this,c="https"===this._options.batchjob.protocol?"wss":"ws",d=a.modulePrintURL[c];this.socket||this._connect(d),this.socket&&(this.socket.onopen=function(a){b.socket.readyState===b.socket.OPEN&&b.socket.send(b.parameter)},this.socket.onerror=function(a){},this.socket.onclose=function(a){b.message("[일괄인쇄모듈]WebSocket 연결 종료 또는 실패되었습니다.")})},e.prototype.message=function(b){a.UI.message(b,null,null,5e3)},e.prototype._connect=function(a){if("WebSocket"in b)try{this.socket=new WebSocket(a)}catch(c){this.message("[일괄인쇄모듈]WebSocket 연결에 실패했습니다.")}else this.message("WebSocket을 지원하지 않는 브라우저입니다.")},e.prototype.createHttpRequest=function(){var a;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){a=new ActiveXObject("Microsoft.XMLHTTP")}}return a},e.prototype.print=function(){this.serviceType===a.Type.PRINT_SERVICE_TYPE.WEBSOCKET?this.requestByWebSocket():this.serviceType===a.Type.PRINT_SERVICE_TYPE.AJAX?this.requestByAjax():this.requestByCustomURI()},a.BatchPrintManager=e}),InziSForm.create(function(a,b,c){"use strict";var d=1,e=function(b){var c={maxSize:10,removalListener:null};this._options=a.Utils.extend(c,b),this.maxSize=Math.max(this._options.maxSize,d),this.removalListener=this._options.removalListener,this._cacheLoadMap={},this._cacheItems=[],this.init()};return a.inherit(e,a.EventHandler),e.prototype.init=function(){},e.prototype.set=function(a,b,c){return this._cacheLoadMap[a]?c&&(this._cacheLoadMap[a]=b):this._cacheLoadMap[a]=b,-1===this._cacheItems.indexOf(a)&&this._cacheItems.push(a),this},e.prototype.get=function(a){return this._cacheLoadMap[a]},e.prototype.load=function(a,b,c){this.set(a,b,c),this.length()>this.maxSize&&this.remove()},e.prototype.asMap=function(){},e.prototype.add=function(){},e.prototype.remove=function(){var a=this._cacheItems.shift();a&&this.Invalidate(a)},e.prototype.Invalidate=function(b,c){var d=this._cacheLoadMap[b];c=void 0===c||c,d&&(this._cacheLoadMap[b]=null,c&&a.Utils.isFunction(this.removalListener)&&this.removalListener(d))},e.prototype.clear=function(){for(var a in this._cacheLoadMap)this.Invalidate(a,!1)},e.prototype.length=function(){return Object.keys(this._cacheLoadMap).length},a.CacheManager=e,a.CacheManager.prototype.constructor=e.prototype,a.CacheManager}),InziSForm.create(function(a,b,c){"use strict";function d(a,b){b.clearRect(0,0,b.canvas.width,b.canvas.height),a.onDrawing(),b.setTransform(1,0,0,1,0,0),b.setLineDash&&b.setLineDash([2,2]),b.lineDashOffset=2,b.lineWidth=1,b.strokeStyle="#000000"}function e(b,c){var e=this.currentPage,f=this.data("controlData")||{};if(e._data.renderNodeType!==a.Type.RenderNodeType.IMAGE){d(this,this.currentPage.getImageRenderNode().getContext("2d"));var g={x:c.x,y:c.y,sx:c.sx,sy:c.sy,rx:Math.round(c.x*(1/c.sx)),ry:Math.round(c.y*(1/c.sy)),width:0,height:0,rw:0,rh:0,direction:0,pageNo:this.currentPage.pageNo()};this.data("clipping",!0),this.data("controlData",f),this.data("clipData",g)}}function f(a,b){function c(a,b){if(j.source?j.dest=b:j.source=b,j.source&&j.dest){var c=e.call(this,a,j.source),d=e.call(this,a,j.dest);n.imageCompare(c,d),j={}}this.data("controlData",j)}function e(a,b){return d(this,h),o.cropToImage(a,b)}var f=this.currentPage,g=f.getImageRenderNode(),h=f.getCanvasContext(),i=this.data("clipData"),j=this.data("controlData")||{};g.style.cursor="default";var k=i.x,l=i.y;i.width=Math.round(b.x-k),i.height=Math.round(b.y-l),b.x<k&&(i.x=b.x,i.width=k-b.x),b.y<l&&(i.y=b.y,i.height=l-b.y,i.direction=-1),i.rx=Math.round(i.x*(1/b.sx)),i.ry=Math.round(i.y*(1/b.sy)),i.rw=Math.round(i.width*(1/b.sx)),i.rh=Math.round(i.height*(1/b.sy));var q=p.toInt(h.canvas.width),r=p.toInt(h.canvas.height);if(this.data("clipData",i),this.data("clipping",!1),i.rw>0&&i.rh>0&&this.trigger("on.clip.end",i),2===a.button){var s=i.width*i.height/(q*r);s=i.direction<0?b.sx-s:b.sx+s,this.zoom(s)}else i.rw>10&&i.rh>10&&this.controlType()===m.ControlType.COMPARE?(d(this,h),c.call(this,g,i)):d(this,h)}function g(a,b){var c=this.data("clipData"),e=this.currentPage,f=e.getImageRenderNode(),g=f.getContext("2d"),h=p.toInt(b.x-c.x),i=p.toInt(b.y-c.y);d(this,g);var j=c.x-p.toInt(f.style.left),k=c.y-p.toInt(f.style.top);g.beginPath(),g.moveTo(j,k),g.lineTo(j+h,k),g.lineTo(j+h,k+i),g.lineTo(j,k+i),g.lineTo(j,k),g.stroke(),g.restore(),g.closePath(),f.style.cursor="crosshair",this.data("clipping",!0)}function h(b,c){var d=c.data("dragStart"),e=b.type,f=c.getScale(),g=c.currentPage,h=c._settings.annotationEnable?g.getGraphicNode():g.getImageRenderNode(),i=g._getRenderImage();if(null!==g.getPageNode()&&null!==i){var j={top:0,left:0,x:a.Element.getLayerX(b),y:a.Element.getLayerY(b),sx:f.x,sy:f.y,dx:0,dy:0};switch(e){case"touchstart":case"mousedown":c.data("eventData",j),c.data("dragStart",!0),h.setAttribute("class","sform-grabbing");break;case"touchend":case"mouseup":c.data("dragStart",!1),h.setAttribute("class","sform-grab");break;case"touchmove":case"mousemove":if(d){var k=c.data("eventData"),l=k.x-j.x,m=k.y-j.y,n=c.getPage().getPageNode(),o=p.toInt(n.style.top,0)-m,q=p.toInt(n.style.left,0)-l;g.data("angle")%180==0?(c.scrollX=-p.toInt(g.getPageNode().style.left)*(i.containerWidth/i.rWidth),c.scrollY=-p.toInt(g.getPageNode().style.top)*(i.containerHeight/i.rHeight)):(c.scrollX=-p.toInt(g.getPageNode().style.left)*(i.containerWidth/i.rHeight),c.scrollY=-p.toInt(g.getPageNode().style.top)*(i.containerHeight/i.rWidth)),c.onDrawing(q,o)}h.setAttribute("class",d?"sform-grabbing":"sform-grab");break;case"touchcancle":case"mouseleave":c.data("dragStart",!1),h.setAttribute("class","sform-grab")}}}function i(b,c){var d=c.data("clipping"),h=b.type,i=c.getScale();c.currentPage;if(c._data.renderNodeType!==a.Type.RenderNodeType.IMAGE){var j={top:0,left:0,x:a.Element.getLayerX(b),y:a.Element.getLayerY(b),sx:i.x,sy:i.y};switch(h){case"mousedown":d||e.apply(c,[b,j]);break;case"mouseup":d&&f.apply(c,[b,j]);break;case"mousemove":d&&g.apply(c,[b,j]);break;case"mouseleave":c.data("clipping",!1)}}}function j(b,c,d,e){function f(a){j.getImageRenderNode().style.cursor="default",j.setAnnotationVisible(!0),c.onDrawing(),j.data("magnification.on",!1),c.data("dragging",!1)}function g(a){c.data("dragging",!0),j.data("magnification.on",!0),c.onDrawing(),j.setAnnotationVisible(!1)}function h(b){j.magnify(a.Element.getLayerX(b),a.Element.getLayerY(b),c._magnifierType.width,c._magnifierType.height,b)}function i(a){switch(a.type){case"mousedown":case"touchstart":g(a);break;case"mouseup":case"touchcancel":f(a);break;case"mousemove":case"touchmove":k&&h(a);break;case"mouseleave":case"touchend":f(a)}}var j=c.currentPage,k=c.data("dragging");i(b)}function k(b,c){var d=a.Element.getLayerX(b),e=a.Element.getLayerY(b),f={x:d,y:e,anntype:c.data(s)};f=p.extend(c._settings.annotation,f,!0),c.currentPage.drawing(f)}var l=a.moduleClassName,m=a.Type,n=a.UI,o=a.ImageUtils,p=a.Utils,q=a.Element,r=m.ControlType.name(),s=m.AnnotationType.name(),t=-1,u=1,v=1,w=function(b){var c={container:null,wrapper:null,zoom:1,minZoom:.1,maxZoom:4,zoomRatio:.25,angle:0,width:0,height:0,position:new a.core.Position(0,0),offset:new a.core.Position(0,0),hAlign:"",editable:!0,draggable:!0,visible:!0,transform:0,clip:!1,isMulti:!1,resize:!0,renderNodeType:a.Type.RenderNodeType.CANVAS,renderType:"",renderQuality:"",showScroll:!1,annotationEnable:!1,annotationViewMode:"all",globalTransform:!0,watermark:{visible:!0,type:"text",message:"Copy",position:"center center"},magnifier:{type:"small"},style:{position:"absolute",overflow:"auto",left:"0px",top:"0px"},annotation:{anntype:"",fill:"#ffffff","fill-opacity":.5,stroke:"#000000","stroke-width":3,"font-family":"굴림","font-size":12,"font-weight":"normal","font-style":"normal","font-color":"#000000"},zoomOptions:{isDblclickEnabled:!1}};return this._settings=p.extend(c,b),this._containerNode=q.getElementNode(this._settings.container),this._containerWrapper=null,this._innerContentsNode=null,this._wrapper=this._settings.wrapper,this._pageIndex=-1,this._pageNo=0,this.currentPage=null,this.pageList=[],this.pageCount=0,this.currZoom=1,this.zoomType=p.isNumeric(this._settings.zoom)?m.ZoomType.DEFAULT:this._settings.zoom,this.scale=new a.core.Scale(1,1),this.position=this._settings.position,this.brightness=0,this._data={angle:this._settings.angle||0,controlType:m.ControlType.NONE,annotationType:m.ControlType.NONE,clipData:{},containerWidth:0,containerHeight:0,clientWidth:0,clientHeight:0,contentWidth:0,contentHeight:0},this._viewport=null,this.status=m.ModuleStatus.READY,this.enableScroll=!1,this._magnifierType=m.MAGNIFIER_TYPE[this._settings.magnifier.type]||m.MAGNIFIER_TYPE.small,this._init(),this};a.inherit(w,a.EventHandler);var x=w.prototype;x._init=function(){if(this.status!==m.ModuleStatus.INITIALIZE_COMPLETE){null===this._containerNode&&(this._containerNode=this._createContainerNode(this._wrapper,p.getRandomId(m.LayerType.VIEWER))),this._containerWrapper=new a.DOMWrapper(this._containerNode),this._initZoom=this._settings.zoom;var b,c=this._containerWrapper.offset(),d=c.width,e=c.height;if((0===d||0===e)&&(b=this._containerNode.parentNode)){var f=q.offset(b);0===d&&(d=f.width),0===e&&(e=f.height)}return this._settings.width=this._settings.width||d,this._settings.height=this._settings.height||e,this._innerContentsNode=q.createElement("div",{style:p.mapToString(this._settings.style,":",";")},this._containerNode),this._innerContentsNode.style.width=this._settings.width+"px",this._innerContentsNode.style.height=this._settings.height+"px",this._innerContentsNode.style.overflow="clip"===this._settings.renderType?"hidden":"auto",this._data.containerWidth=this._settings.width,this._data.containerHeight=this._settings.height,this._data.clientWidth=this._containerNode.clientWidth,this._data.clientHeight=this._containerNode.clientHeight,this.scrollY=0,this.scrollX=0,this._initListener(),this._initEvent(),"clip"===this._settings.renderType&&this._initScroll(),a.Utils.isMobile().any()&&this._initMobileEvent(),this.status=m.ModuleStatus.INITIALIZE_COMPLETE,this}},x._initMobileEvent=function(){function a(a){var c=!1,d=a.type,e=a.deltaTime,f=a.distance;if(m.ControlType.NONE===b.controlType()){var g=b.currentPage.getPageNode(),h=g.clientWidth,i=g.clientHeight;e<350&&(("swipeleft"===d||"swiperight"===d)&&f>=.4*h?c=!0:("swipeup"===d||"swipedown"===d)&&f>=.4*i&&(c=!0))}return c}var b=this,c=new Hammer.Manager(this._innerContentsNode),d=new Hammer.Pinch,e=new Hammer.Pan,f=new Hammer.Swipe({direction:Hammer.DIRECTION_ALL});d.recognizeWith(e),c.add([d,f]);var g=null,h=null,i=null;p.bind(this._innerContentsNode,"touchstart touchmove",function(a){a.preventDefault()},!1),c.on("pinchstart",function(a){g=b.getScale(),h=g.x,i=g.y}),c.on("pinchmove",function(a){m.ControlType.NONE===b.controlType()&&b.zoom(parseFloat(Math.min(h,i)*a.scale).toFixed(2))}),c.on("swiperight swipedown",function(c){a(c)&&b.trigger("trigger.swipe.movepage",{type:"prev"})}),c.on("swipeleft swipeup",function(c){a(c)&&b.trigger("trigger.swipe.movepage",{type:"next"})})},x._initScroll=function(){function d(a){g.scrollTo(g.scrollX,g.scrollY-a*f*2)}function e(a){var c=a.srcElement?a.srcElement:a.target;if(q.parent(c,".sform-container")){var e=0;a||(a=b.event),a.wheelDelta?(e=a.wheelDelta/120,b.opera&&(e=-e)):a.detail&&(e=-a.detail/3),e&&d(e)}}this.enableScroll=!0;var f=20,g=this;"clip"===this._settings.renderType&&(this._scrollbarVertical=q.createElement("div",{class:a.moduleClassName+"-ui-scrollY"},this._innerContentsNode),this._scrollbarHorizontal=q.createElement("div",{class:a.moduleClassName+"-ui-scrollX"},this._innerContentsNode),p.bind(b,"DOMMouseScroll mousewheel wheel",e,!1),b.onmousewheel=c.onmousewheel=e,this._onDragScroll())},x._onDragScroll=function(){function d(b){g=b.target||b.srcElement,q.hasClass(g,a.moduleClassName+"-ui-scrollY")?(i=!0,h.scrollMoved=!0,l=b.pageX,m=b.pageY,n=h.scrollX,o=h.scrollY):q.hasClass(g,a.moduleClassName+"-ui-scrollX")&&(i=!1,h.scrollMoved=!0,l=b.pageX,m=b.pageY,n=h.scrollX,o=h.scrollY)}function e(a){if(h.scrollMoved&&g){var b,c,d=0,e=0;a.touches?1===a.touches.length&&(b=a.targetTouches[0].pageX,c=a.targetTouches[0].pageY):(b=a.pageX,c=a.pageY),i?(e=o+(c-j-m),d=h.scrollX):(d=n+(b-k-l),e=h.scrollY),h.scrollTo(d,e)}}function f(a){h.scrollMoved=!1,g=null,l=0,m=0}var g,h=this,i=!1,j=q.getPageY(this._innerContentsNode),k=q.getPageX(this._innerContentsNode);this.scrollMoved=!1;var l,m,n,o;this.on("mousedown touchstart pointerdown",d,this._scrollbarVertical),this.on("mousedown touchstart pointerdown",d,this._scrollbarHorizontal),this.on("mouseup touchend click pointerup",f,c.body),this.on("mousemove touchmove pointermove",e,b)},x._initListener=function(){},x._initEvent=function(){var a=this;p.bind(b,"resize",function(){a.updatePosition(),a.onDrawing()}),p.bind(c,"contextmenu",function(a){a.preventDefault()},!1),this._initGolbalEvent()},x._createContainerNode=function(a,b){return this._wrapper.createElement("div",{id:p.getRandomId(b),class:l+"-ui-toolbar"})},x.data=function(a,b){return 0===arguments.length?this._data:p.data.call(this,a,b)},x.isSelected=function(a){if(!(arguments.length>0))return this.data("isSelectedAnn");this.data("isSelectedAnn",a),a?(this.data(r,m.ControlType.SELECT),this.data(s,m.ControlType.NONE)):m.ControlType.SELECT===this.controlType()&&this.data(r,m.ControlType.NONE),this.currentPage&&(this.currentPage.unSelectedItem(),this.currentPage.data(r,this.controlType()))},x.addPage=function(b){if(b="number"==typeof b?b:this.pageList.length,this.pageList[b])return this.pageList[b];var c={index:b,angle:this.data("angle")||0,zoomType:this._initZoom,container:this._innerContentsNode,renderNodeType:this._settings.renderNodeType,renderType:this._settings.renderType,renderQuality:this._settings.renderQuality,editable:this._settings.editable,annotationEnable:this._settings.annotationEnable,annotationViewMode:this._settings.annotationViewMode},d=new a.core.Page(c);return this.pageList[b]=d,this._initBaseHandler(d.getPageNode()),null===this.currentPage&&(this.currentPage=d,this._pageNo=d.pageNo()),this.pageCount=this.pageList.length,this._bindPageLoadComplete(d),d},x._bindPageLoadComplete=function(a){var b=this;if(a){var c=a.on("page.load.complete"+a.pageIndex(),function(a){b._displayPageNode(),b.trigger("page.file.load",{page:a.page,fileId:a.fileId,itemId:a.itemId,pageNo:a.pageNo,imageWidth:a.width,imageHeight:a.height})});a.updateBindEvents(c),c=a.on("page"+a.pageIndex()+".annotation.drawEnd",function(a){b.setAnnotationType(""),b.controlType()===m.ControlType.ANNOTATION&&(b.changeControlType(m.ControlType.NONE),b.onDrawing())}),a.updateBindEvents(c),c=a.on("page"+a.pageIndex()+".renderEnd",function(a){b._afterRender()}),a.updateBindEvents(c)}},x.moveNextPage=function(){this.movePage(this.pageNo()+1)},x.movePrevPage=function(){this.movePage(this.pageNo()-1)},x.movePage=function(a){var b=this.totalPageNo();a=a<0?1:a>b?b:a,this.isSelected(!1),this._pageNo=a,this._displayPageNode()},x._displayPageNode=function(){this.currentPage&&this.currentPage.hide(),this.currentPage=this.pageList[this._pageNo-1],this._renderPage()},x._renderPage=function(){this.currentPage&&(this.currentPage.data(r,this.controlType()),this.currentPage.show(),this.zoom(this.currentPage.zoom()),this.scrollTo(0,0))},x.pageNo=function(){return this.currentPage?this.currentPage.pageNo():null},x.totalPageNo=function(){return this.pageList.length},x.removePage=function(a){var b=this.pageList[a];b&&(p.unbind(b.getPageNode(),"mousemove mouseleave mouseup mousedown touchstart touchmove touchend touchcancel",y),b.remove()),this.pageList[a]=null},x.pageIndex=function(){var a=this.pageList.length;return a>0?a-1:a},x.setPosition=function(a,b){this.x=a,this.y=b},x.filter=function(a,b){null!==this.currentPage&&(m.FilterType.BRIGHTNESS===a&&this.currentPage.data("brightness",this.currentPage.data("brightness")+b),this.onDrawing())},x.zoom=function(a,b){if(!(arguments.length>0))return this.zoomType===m.ZoomType.DEFAULT?this.currZoom:this.zoomType;var c=this._innerContentsNode.clientWidth,d=this.data("containerHeight"),e=this.currentPage?this.currentPage.data("angle")%180:0,f=this.currentPage?this.currentPage.getImageFile():null;if(f){var g=f.getWidth(),h=f.getHeight(),i=0,j=0,k=1,l=1;this.getScale();if(p.toInt(e/90)%2!=0&&(g=f.getHeight(),h=f.getWidth()),p.isNumeric(a)||a===m.ZoomType.DEFAULT)this.currZoom=p.isNumeric(a)?a:this.currentPage.zoom(),i=g*a,j=h*a,this.zoomType=m.ZoomType.DEFAULT,k=l=this.currZoom<this._settings.minZoom?this._settings.minZoom:this.currZoom>this._settings.maxZoom?this._settings.maxZoom:this.currZoom;else if(a=a.toLowerCase(),this.zoomType=a,m.ZoomType.FITMAX!==a&&m.ZoomType.FITAUTO!==a||(i=c,j=d,k=i/g,l=j/h,a=k<l?m.ZoomType.FITWIDTH:m.ZoomType.FITHEIGHT),m.ZoomType.IN===a||m.ZoomType.OUT===a){var n=this.currZoom,o=this._settings.minZoom,q=this._settings.maxZoom;n=p.toFloat(n+this._settings.zoomRatio*(a===m.ZoomType.IN?u:t),2),n=n<o?o:n>q?q:n,i=g*n,j=h*n,k=n,l=n,this.zoomType=m.ZoomType.DEFAULT}else m.ZoomType.FITHEIGHT===a?(i=g*(d/h),j=d,k=i/g,l=j/h):m.ZoomType.FITWIDTH===a?(i=c,j=h*(c/g),i=j>d?i-("clip"===this._settings.renderType?0:17):i,k=i/g,l=j/h):m.ZoomType.FITSCREEN===a&&(i=c,j=d,p.toInt(e/90)%2==0?(k=c/g,l=d/h):(k=d/h,l=c/g));this.currZoom=[k,l].sort()[0],this.setScale(k,l),this.resize(i,j,!0),this._viewport=this.viewport(),this.scrollTo(),this._refreshScroll(!0)}},x.getZoomType=function(){return this.zoomType},x.setScale=function(a,b){this.scale.setScale(a,b);var c={scale:{x:a,y:b},zoomType:this.zoomType};this.trigger("change.zoom",c,this.currentPage),this.trigger("change.current.zoom",c)},x.getScale=function(){return this.currentPage&&!this._settings.globalTransform?this.currentPage.getScale():this.scale},x.rotate=function(a,b){if("boolean"==typeof b&&this.data("applyAllRotate",b),!0===this.data("applyAllRotate")){var c=((this.data("angle")||0)+a)%360;this.data("angle",c)}else this.data("angle",0);"number"==typeof a&&null!==this.currentPage&&(this.trigger("change.rotate",{angle:a},!0===this.data("applyAllRotate")?null:this.currentPage),this.zoom(this.zoomType,!0))},x.scrollTo=function(a,b){if(this.enableScroll){var c,d,e,f;if(a=void 0!==a?a:this.scrollX,
b=void 0!==b?b:this.scrollY,null!==this.currentPage&&null!=this._viewport){this._viewport.height>=this._viewport.dspHeight?(c=0,this.scrollY=0):(c=this._viewport.height/this._viewport.dspHeight*this._viewport.height,b<this._viewport.height-c?this.scrollY=Math.max(b,0):this.scrollY=Math.min(b,this._viewport.height-c)),this._scrollbarVertical.style["-ms-transform"]="translate(0px, "+this.scrollY+"px)",this._scrollbarVertical.style["-webkit-transform"]="translate(0px, "+this.scrollY+"px)",this._scrollbarVertical.style.transform="translate(0px, "+this.scrollY+"px)",this._viewport.width>=this._viewport.dspWidth?(d=0,this.scrollX=0):(d=this._viewport.width/this._viewport.dspWidth*this._viewport.width,a<this._viewport.width-d?this.scrollX=Math.max(a,0):(this.scrollX=Math.min(a,this._viewport.width-d),f=this._viewport.width-this._viewport.dspWidth)),this._scrollbarHorizontal.style.left=this.scrollX+"px";if(this.currentPage.getPageNode()){var g=this.currentPage._getRenderImage();g&&(0===p.toInt(this.currentPage.data("angle")%180)?(e=-this.scrollY*(g.rHeight/g.containerHeight),void 0===f&&(f=-this.scrollX*(g.rWidth/g.containerWidth))):(e=-this.scrollY*(g.rWidth/g.containerHeight),void 0===f&&(f=-this.scrollX*(g.rHeight/g.containerWidth)))),this.onDrawing(f,e)}}}else this._innerContentsNode.scrollTop=b,this._innerContentsNode.scrollLeft=a},x._refreshScroll=function(a){if(this.enableScroll&&null!==this._viewport){var b,c;if(null!==this.currentPage){var d=this.currentPage._getRenderImage();if(this._viewport.height>=this._viewport.dspHeight?(b=0,this.scrollY=0):(b=this._viewport.height/this._viewport.dspHeight*this._viewport.height,this.scrollY<this._viewport.height-b?this.scrollY=Math.max(this.scrollY,0):this.scrollY=Math.min(this.scrollY,this._viewport.height-b)),this._scrollbarVertical.style.height=b+"px",this._scrollbarVertical.style.display=0===b?"none":"block",this._scrollbarVertical.style["-ms-transform"]="translate(0px, "+this.scrollY+"px)",this._scrollbarVertical.style["-webkit-transform"]="translate(0px, "+this.scrollY+"px)",this._scrollbarVertical.style.transform="translate(0px, "+this.scrollY+"px)",this._viewport.width>=this._viewport.dspWidth?(c=0,this.scrollX=0):(c=this._viewport.width/this._viewport.dspWidth*this._viewport.width,this.scrollX<this._viewport.width-c?this.scrollX=Math.max(this.scrollX,0):this.scrollX=Math.min(this.scrollX,this._viewport.width-c)),this._scrollbarHorizontal.style.width=c+"px",this._scrollbarHorizontal.style.display=0===c?"none":"block",this._scrollbarHorizontal.style.left=this.scrollX+"px",a&&d){var e,f;0===p.toInt(this.currentPage.data("angle")%180)?(e=-this.scrollY*(d.rHeight/d.containerHeight),f=-this.scrollX*(d.rWidth/d.containerWidth)):(e=-this.scrollY*(d.rWidth/d.containerHeight),f=-this.scrollX*(d.rHeight/d.containerWidth)),this.onDrawing(f,e)}}}},x.updatePosition=function(b,c){var d=this._containerNode.offsetWidth,e=this._containerNode.offsetHeight,f=a.Utils.isNumeric(b)?b:this._containerNode.clientWidth,g=a.Utils.isNumeric(c)?c:this._containerNode.clientHeight;if((a.Utils.isNumeric(b)||a.Utils.isNumeric(c))&&(this._containerNode.style.width=f+"px",this._containerNode.style.height=g+"px",this._innerContentsNode.style.width=f+"px",this._innerContentsNode.style.height=g+"px"),null!==this.currentPage){var h=this.currentPage.getPageNode(),i=h.clientWidth,j=h.clientHeight,k=p.toInt(g-j)/2,l=p.toInt(this._innerContentsNode.offsetWidth-i)/2;l=this.zoomType===m.ZoomType.FITWIDTH&&this._innerContentsNode.offsetWidth<i?0:l;var n={containerWidth:d,containerHeight:e,clientWidth:f,clientHeight:g,contentWidth:i,contentHeight:j,canvasWidth:1,canvasHeight:1};this._updateElementSize(n),q.prop(h.style,{marginTop:(k>0?k:0)+"px",marginLeft:(l>0?l:0)+"px"}),this._viewport=this.viewport()}},x.viewportUpdate=function(){this.currentPage&&this.currentPage.viewportUpdate()},x.resize=function(a,b,c){c=void 0===c||c,this.currentPage&&(this.currentPage.resize(a,b),this.currentPage.getImageData()&&c&&this.onDrawing(),this.viewportUpdate())},x.viewport=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,q,r,s=0,t=0,u=0,v=0;if(a=a||0,b=b||0,this.currentPage){f=this.getScale(),g=f.x,h=f.y,k=this.data("containerWidth"),l=this.data("clientHeight");var w=this.currentPage.getImageFile();m=p.toFloat(w.width)||k,n=p.toFloat(w.height)||l,r=this.currentPage.data("angle"),r/90%2==0?(o=Math.floor(m*g),q=Math.floor(n*h)):(o=Math.floor(n*h),q=Math.floor(m*g)),q<l?(e=l/2,b=(l-q)/2,t=v=b):(b=Math.min(0,Math.max(b,l-q)),t=l-q,v=0,e=l/2-b),o<k?(d=k/2,a=(k-o)/2,s=u=a):(a=Math.min(0,Math.max(a,k-o)),d=k/2-a,t=k-o,v=0),i=Math.round(p.toFloat(d,3)),j=Math.round(p.toFloat(e,3)),i-k/2<0?i=k/2:i+k/2>o&&(i=o-k/2),j-l/2<0?j=l/2:j+l/2>q&&(j=q-l/2),d=Math.round(i/g),e=Math.round(j/h)}return{top:b,left:a,minX:s,minY:t,maxX:u,maxY:v,sx:g,sy:h,width:k,height:l,dspWidth:o,dspHeight:q,cx:i,cy:j}},x._updateElementSize=function(a){this.data(a)},x.clearEventListener=function(a){},x.setWidth=function(a){this._settings.width=a},x.setHeight=function(a){this._settings.height=a},x.setSize=function(a,b){this._settings.width=a,this._settings.height=b},x.getSize=function(){},x.setting=function(a){return a?this._settings[a]:this._settings},x.setVisible=function(a){this._settings.visible=a},x.isVisible=function(){return this._settings.visible},x.setEditable=function(a){this._settings.editable=a},x.isEditable=function(){return this._settings.editable},x.setDraggable=function(a){this._settings.draggable=a},x.isDraggable=function(){return this._settings.draggable},x.setImageData=function(a){null===this.currentPage?this.addPage().setImageData(a):this.currentPage.setImageData(a)},x.setImage=function(b,c,d){var e=new Image,f=Math.random(),g=this;b=b.indexOf("?")===t?b+"?t="+f:b+"&t="+f,e.src=b,null===this.currentPage&&this.addPage(),e.onload=function(f){g.reset(),e.width=e.naturalWidth,e.height=e.naturalHeight;var h=new a.core.Image({data:e,dataUrl:e.src,name:b,width:e.width,height:e.height,fileId:c,pageNo:d});g.currentPage.setImageFile(h),g.currentPage.resetItem(),g.zoom(g.zoom()),g.trigger("page.file.load",{pageNo:g.currentPage.pageNo(),imageWidth:e.width,imageHeight:e.height})}},x.setAnnData=function(a){if(a.data)for(var b=0;b<this.pageList.length;b++){var c=this.pageList[b];if(c){var d=c.getPageInfo();if(d.fileId===a.fileId&&d.itemPageNo===a.pageNo){this._setAnnotationByPage(c,a);break}}}},x._setAnnotationByPage=function(a,b){this.resetann(a),a.updateAnnotationData({annotationId:b.annotationId,fileId:b.fileId,pageNo:b.pageNo}),a.drawingItems(b.data)},x.reset=function(){this.brightness=0,this._settings.angle=0,this.setScale(1,1),this.resetann()},x.resetann=function(a){a=a||this.currentPage,p.isNotEmpty(a)&&a.resetItem()},x.getPage=function(a){return"number"==typeof a?this.pageList[a]:this.currentPage},x.getPageData=function(a){var b=a?this.getPage(a-1):this.currentPage;return b||null},x.onDrawing=function(a,b){if(null!==this.currentPage&&null!==this.currentPage.getPageNode())try{this.currentPage.render(a,b),this._afterRender()}catch(c){console.log(c)}},x._afterRender=function(){try{this.updatePosition(),this.viewportUpdate(),this._refreshScroll(!1);var b=this.currentPage.getCanvasContext();if(!b)return;var c=this.currentPage.data("brightness");c&&a.Filter.brightness(b.canvas,c),p.isSupportCanvas()?this.selectedPageDataURL=b.canvas.toDataURL():this.selectedPageDataURL=this.currentPage.getImageData(),b.save(),this.setWatermark()}catch(d){console.log(d)}},x.setWatermark=function(){return this._settings.watermark.visible&&a.ImageUtils.watermark(this.currentPage.getCanvasContext(),this._settings.watermark),this},x._positionCenter=function(a,b){if(!(arguments.length>0))return this.position;this.position.x=p.toFloat(a),this.position.y=p.toFloat(b)},x.setAnnotationType=function(a){if(this.currentPage){var b=null;this.isSupportedAnnotation(a)?(this.isSelected(!1),this.currentPage.undrawing(),this.changeControlType(m.ControlType.ANNOTATION),b=a.toLowerCase()):b=m.ControlType.NONE,this.data(s,b),this.currentPage.unSelectedItem(),this.clearLayer(),n.uncontextmenu()}},x.clearLayer=function(){var b=q.select(c.body,"."+a.moduleClassName+"-popup-layer");b&&b.parentNode.removeChild(b)},x.clearAnnotationType=function(){null!==this.currentPage&&(this.data(r)!==m.ControlType.NONE?(this.data({CONTROL_TYPE:m.ControlType.NONE,ANNOTATION_TYPE:m.ControlType.NONE}),this.currentPage.undrawing(),this.changeControlType(m.ControlType.NONE)):this.data("isSelectedAnn",!1),this.currentPage.unSelectedItem())},x.getAnnotationType=function(){return this.data(s)},x.setAnnotationProp=function(a,b,c){(this.currentPage&&p.isNotEmpty(this.currentPage.selectedItem())||this.currentPage&&this.currentPage&&p.isNotEmpty(b))&&this.currentPage.itemProp(a,b)},x.setAnnotationVisible=function(a){this.currentPage.setAnnotationVisible(a)},x.getAnnotationVisible=function(){return this.currentPage.isAnnotationVisible()},x.setAnnotationOption=function(a,b){2===arguments.length?this._settings.annotation[a]=b:"object"==typeof a&&(this._settings.annotation=p.extend(this._settings.annotation,a));var c={};c[a]=b,this.currentPage&&this.currentPage.selectedItem()&&this.currentPage.changeItemAttr(this.currentPage.selectedItem(),c)},x.getAnnotationOption=function(){return this._settings.annotation},x.stopEvent=function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1},x.changeControlType=function(a){var b=this.data("controlType");this.currentPage&&(this.currentPage.unSelectedItem(),this.currentPage.data(r,a),b!==a&&this.onDrawing(),n.uncontextmenu()),this.data(r,a),this.trigger("change.viewer.control.type",a)},x.handleEvent=function(a){a.type};var y,z;return x._initBaseHandler=function(b){var c=this,d=t,e=t;c.data("mousePosition",{x:0,y:0}),y=function(b){var f,g=c.currentPage;if(null!==g&&void 0!==g){var l=c.controlType(),o=b.type,q=p.getEventTarget(b),r=q.nodeName.toLowerCase();g&&(f=c._settings.annotationEnable?g.getGraphicNode():g.getImageRenderNode()),c.data("prev.dragging",c.data("dragging")),g.data("pasteItem")&&2===b.button?n.contextmenu(g,g.data("pasteItem"),b.pageX,b.pageY):"mousedown"===o||"touchstart"===o?(d=b.changedTouches?b.changedTouches[0].pageX:b.pageX,e=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c.data("dragging",!0)):"mousemove"!==o&&"touchmove"!==o||!c.data("dragging")?"mouseup"!==o&&"mouseleave"!==o&&"touchend"!==o&&"touchcancel"!==o||(d=e=t,c.data("dragging",!1)):c.data("dragging",!0),l===m.ControlType.MAGNIFICATION?j(b,c,d,e):l===m.ControlType.ANNOTATION?"mousedown"!==o&&"touchstart"!==o||(f.setAttribute("class",l===m.ControlType.ANNOTATION?a.moduleClassName+"-drawing":""),k(b,c,d,e)):c.selectedItem()?(("clip"===c._settings.renderType&&"svg"===r||"clip"===c._settings.renderType&&"canvas"===r)&&h(b,c,d,e),"svg"===r&&"svg"===c.data("prevEvtTarget")&&"mouseup"===o&&c.currentPage.unSelectedItem()):(2!==b.button&&"mousedown"===o&&n.uncontextmenu(),"clip"===c._settings.renderType&&c._settings.draggable?h(b,c,d,e):i(b,c,d,e)),"mousedown"===o||"touchstart"===o?(c.data("prevEvt",o),c.data("prevEvtTarget",r)):"mouseup"!==o&&"touchcancel"!==o||c.data("prevEvtTarget",null)}},p.bind(b,"mousemove mouseleave mouseup mousedown touchstart touchmove touchend touchcancel",y,!1)},x._initGolbalEvent=function(a){var d=0,e="",f=!1,g=this;z=function(a){var b,d=a.type,e=a.target,f=a.keyCode;if("keydown"===d){var h=q.select(c.body,"."+l+"-ui-block"),i=q.select(c.body,"."+l+"-popup-layer");8!==f&&46!==f||/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)||null!==h||null!==i||(b=g.selectedItem())&&g.getPage().removeItem(b)}else g.scrollMoved=!1,g.data("dragStart",!1)};var h=function(a){f=!("left"!==e||!d)&&a.timeStamp-d<300,f?(d=0,g.zoom(m.ZoomType.IN)):(d=a.timeStamp,e="left"),a.preventDefault()},i=function(a){f="right"===e&&a.timeStamp-d<300,f?(d=0,g.zoom(m.ZoomType.OUT)):(d=a.timeStamp,e="right")};this._settings.zoomOptions.isDblclickEnabled&&p.bind(this._innerContentsNode,"mousedown",function(a){if(/(SVG|DIV|CANVAS)/i.test(a.target?a.target.tagName:"")){var b=g.data("mousePosition"),c=a.pageX,f=a.pageY,j=Math.max(Math.abs(b.x-c),Math.abs(b.y-f));if(g.data("mousePosition",{x:c,y:f}),j>v)return e=0===a.button?"left":"right",void(d=a.timeStamp);0===a.button?h(a):i(a)}},!1),p.bind(b,"keydown mouseleave mouseup click touchend pointerup",z,!1)},x.translate=function(a,b){var c=this.currentPage;c.getPageNode(),this.data("containerWidth"),this.data("containerHeight"),this.data("contentWidth"),this.data("contentHeight");if(c){var d=this._innerContentsNode.scrollTop,e=this._innerContentsNode.scrollLeft;this._innerContentsNode.scrollTop=d+b,this._innerContentsNode.scrollLeft=e+a}},x.scrollToAnnotation=function(a){var b=a.getBoundingClientRect(),c=this.currentPage.getPageNode(),d=0,e=0,f=0,g=0,h=this.currentPage._getRenderImage();this.enableScroll?(f=p.toInt(c.style.top)-b.top,g=p.toInt(c.style.left)-b.left,h&&(0===p.toInt(this.currentPage.data("angle")%180)?(f+=b.height,d=-g/(h.rWidth/h.containerWidth),e=-f/(h.rHeight/h.containerHeight)):(g+=b.width,d=-g/(h.rHeight/h.containerWidth),e=-f/(h.rWidth/h.containerHeight)))):(d=this._innerContentsNode.scrollTop+b.top,e=this._innerContentsNode.scrollLeft+b.left),this.scrollTo(d,e)},x.selectedItem=function(){var a=this.getPage();if(a)return a.selectedItem()},x.preventDefault=function(a){var c=a||b.event;return c.preventDefault&&c.preventDefault(),c.returnValue=!1,!1},x.isSupportedAnnotation=function(a){return p.hasOwn(m.AnnotationType,a.toUpperCase())},x.controlType=function(a,b,c){if(0===arguments.length)return this.data(r);a=a.toLowerCase(),a===s?this.setAnnotationType(b):a===m.ControlType.MAGNIFICATION?a=m.ControlType.MAGNIFICATION:(a===m.ControlType.ROTATE?this.rotate(c):a===m.ControlType.FILTER&&this.filter(b,c),a=m.ControlType.NONE),this.changeControlType(a)},x.setCenter=function(a,b){this.position.x=p.toFloat(a),this.position.y=p.toFloat(b)},x.getCenter=function(){return this.position},x.updatePageInfo=function(a){},x.clear=function(){for(var a=0;a<this.pageList.length;a++){var b=this.pageList[a];b&&b.remove()}this.currentPage=null,this.pageList=[],this._pageIndex=-1,this.pageCount=0},x.trigger=function(b,c,d){d&&!this._settings.globalTransform?a.Events.trigger(b+".page"+d.pageIndex(),c):a.Events.trigger(b,c)},a.Viewer=w,a.Viewer.prototype.constructor=w.prototype,a.Viewer}),InziSForm.create(function(a,b,c){"use strict";var d=a.Type,e=a.Element,f=a.Utils,g=function(){};g.createLayer=function(a){var b=a.type,c=a.container;return d.LayerType.THUMBNAIL===b?this._createThumbnail(c,a.config):d.LayerType.VIEWER===b?this._createViewer(c):d.LayerType.TOOLBAR===b?this._createToolbar(c):d.LayerType.DOC_THUMBNAIL===b?this._createDocThumbnail(c,a.config):d.LayerType.DOC_VIEWER===b?this._createViewer(c):void 0},g._createThumbnail=function(b,c){var d=e.createElement("div",{class:"sform-thumbnail"},b),g={container:d};return g=f.extend(g,c,!0),new a.ThumbnailLayer(g)},g._createDocThumbnail=function(b,c){var d=e.createElement("div",{class:"sform-thumbnail"},b),g={container:d};return g=f.extend(g,c,!0),new a.DocThumbnailLayer(g)},g._createViewer=function(a){},g._createToolbar=function(a){},a.LayerFactory=g,a.LayerFactory.prototype.constructor=g.prototype}),InziSForm.create(function(a,b,c){"use strict";function d(a){var b=a.getBoundingClientRect();return{left:b.left+c.body.scrollLeft,top:b.top+c.body.scrollTop}}var e=10,f=(a.moduleName,a.moduleClassName),g=a.Element,h=a.Utils,i=a.DateUtils,j=a.Type,k=b.URL||b.webkitURL,l=(j.RESOURCE.ICON.BOOKMARK,function(b,c){var d={width:150,height:150,itemWidth:100,itemHeight:140,container:null,wrapper:null,resizable:!0,initLoadItemCount:0,paginateUnit:a.Type.PaginateUnit.FILE,labelType:a.Type.ThumbnailLabelType.DEFAULT,controlPosition:a.Type.CONTROL_POSITION_TYPE.LEFT,immediate:!1};return this._settings=h.extend(d,b),this._containerNode=null,this._containerWrapper=null,this._wrapper=this._settings.wrapper,this._serviceManager=c,this._jobItems=[],this._items=[],this._filterItems=[],this._renderItems=[],this._visiable=!1,this._thumbnailNode=null,this._selectedItem=null,this._width=0,this._height=0,this._status=0,this._init(),this});a.inherit(l,a.EventHandler);var m=l.prototype;return m._init=function(){var b=this;b._settings.container?b._containerNode=g.getElementNode(this._settings.container):b._containerNode=b._wrapper.appendToElement("div",{class:"sform-thumbnail"});var c=j.CONTROL_POSITION_STYLE[this._settings.controlPosition];"vertical"===c.direction?(b._containerNode.style.width=b._settings.width+"px",b._settings.controlPosition===j.CONTROL_POSITION_TYPE.RIGHT?b._containerNode.style.right="0px":b._settings.controlPosition===j.CONTROL_POSITION_TYPE.LEFT&&(b._containerNode.style.left="0px")):(b._containerNode.style.width="100%",b._containerNode.style.left="0px",b._containerNode.style.height=this._settings.height+"px",b._settings.controlPosition===j.CONTROL_POSITION_TYPE.TOP?b._containerNode.style.top="0px":b._settings.controlPosition===j.CONTROL_POSITION_TYPE.BOTTOM&&(b._containerNode.style.bottom="0px")),b._containerWrapper=new a.DOMWrapper(this._containerNode),b._containerWrapper.addClass("sform-thumbnail-"+c.direction),b._thumbnailNode=this._containerWrapper.appendToElement("div",{class:"thumb-section"}),b._thumbnailListNode=g.createElement("ul",null,this._thumbnailNode),b._filterListNode=g.createElement("ul",null,this._thumbnailNode),b._filterListNode.style.display="none";var d=this._containerWrapper.offset();b._width=d.width,b._height=d.height,b._containerHeight=this._containerNode.offsetHeight,b._containerWidth=this._containerNode.offsetWidth,this._initEvent(),this.hasItem()&&this.renderItem(this._items)},m._initEvent=function(){var a=this;a.posX=0,a.posY=0,a._scrollStatus=0;var b=0,c=this._settings.immediate?0:100;h.bind(this._containerNode,"DOMMouseScroll scroll",function(d){c>0?(a._scrollStatus=1,b=(new Date).getTime(),setTimeout(function(){var d=(new Date).getTime();a.posY!==a._containerNode.scrollTop?a.posY=a._containerNode.scrollTop:d-b>=c-10&&(a._scrollStatus=0,a._displayThumbItem(!1))},c)):a._displayThumbItem(!1)})},m._displayThumbItem=function(a){if(!this._scrollStatus||a){var b,c,d=j.CONTROL_POSITION_STYLE[this._settings.controlPosition];"filter"===this.layerType?(b=this._filterListNode,c=this._filterItems):(b=this._thumbnailListNode,c=this._items),b.firstChild&&("vertical"===d.direction?this._verticalThumbItem(b,c):this._horizontalThumbItem(b,c))}},m._verticalThumbItem=function(a,b){this.posTop=this._containerNode.scrollTop,this.posBottom=this._containerNode.scrollTop+this._containerNode.offsetHeight;var c=a.firstChild.offsetHeight,e=Math.max(parseInt(this.posTop/c),0),h=parseInt(this.posBottom/c)+1,i=b.length;0===e&&(h=Math.max(h,e+this._settings.initLoadItemCount)),h=h>i?i:h;for(var j=0;j<i;j++){var k=b[j];if(!k.loadedThumbnail||g.select(k.node,"."+f+"-ui-loader")){var l=d(k.node);if(l.top>-c&&l.top<=this._containerNode.offsetHeight+c)this._loadRealImage(k);else if(this.posBottom<l.top)break}}},m._horizontalThumbItem=function(a,b){this.posLeft=this._containerNode.scrollLeft,this.posRight=this.posLeft+this._containerNode.offsetWidth;var c=a.firstChild.offsetWidth,e=Math.max(parseInt(this.posLeft/c),0),f=parseInt(this.posRight/c)+1,g=b.length;0===e&&(f=Math.max(f,e+this._settings.initLoadItemCount)),f=f>g?g:f;for(var h=0;h<g;h++){var i=b[h];if(!i.loadedThumbnail){var j=d(i.node);if(this.posLeft<=j.left+this.posLeft&&j.left+this.posLeft<=this.posRight||h<f)this._loadRealImage(i);else if(this.posRight<j.left)break}}},m.hasItem=function(){return this._items.length>0},m.addJobItem=function(a){this._jobItems.push(a)},m.getJobItem=function(a){return arguments.length>0?this._jobItems[a]:this._jobItems},m.updateJobItem=function(a,b){var c=this._jobItems[a];c&&(this._jobItems[a]=h.extend(c,b))},m.jobItemsToRenderItem=function(){var a,b=0,c=this._jobItems.length,d=1;for(b=0;b<c;b++){a=this._jobItems[b];for(var e=1;e<=a.itemPageCount;e++)a.itemPageNo=e,a.pageNo=d++,this.addItem(a)}},m._appendResizeContainer=function(){this._thumbnailResizeBar=this._containerWrapper.appendToElement("div",{class:"resizable-e resizable-bar",draggable:"false",ondragstart:"return false;"}),g.prop(this._thumbnailResizeBar.style,{position:"absolute",right:"0",width:"7px",height:"100%",zIndex:999999})},m.refresh=function(){this._displayThumbItem()},m._updateResizeContainer=function(){this._thumbnailResizeBar},m.renderItem=function(a){var b=[];b=Array.isArray(a)?a:[a];var c=0,d=b.length;for(c<0;c<d;c++)this._createItem(b[c]);this._displayThumbItem()},m.addItem=function(a){Array.isArray(a)?this._items.concat(a):this._items.push(a),this.renderItem(a)},m._createItem=function(b){var c=this,d=g.createElement("li",{class:f+"-ui-thumb-item","data-thumb-id":b.fileId+"_"+b.pageNo,title:b.name||"페이지 ("+b.pageNo+")"},this._thumbnailListNode);b.node=d,this._renderItems.push(b),1===this._renderItems.length&&this.selectedItem(this._renderItems[0]);var e=this._createThumbWrapNode();d.appendChild(e),this._settings.labelType!==a.Type.ThumbnailLabelType.NONE&&d.appendChild(this._createLabelNode(b)),d.style.width=e.offsetWidth+"px",this.on((h.isMobile().any()?"touchstart":"click")+".thumbnail",function(){c.selectedItem(b),c.trigger("trigger.click.thumbnail",b)},d),this.refresh()},m._createLabelNode=function(b){var c=g.createElement("span",{class:"label"}),d="";return b.name&&(d="<span class='thumb-name'>"+b.name+"</span>"),this._settings.labelType===a.Type.ThumbnailLabelType.ALL&&(b.createTime||b.empId)&&(d+="<span class='thumb-desc'>",b.empId&&(d+="<span>"+b.empId+"</span>"),b.createTime&&(h.isNumeric(b.createTime)?d+="<span>"+a.Utils.dateFormat(new Date(b.createTime),"yyyy-MM-dd HH:mm")+"</span>":d+="<span>"+b.createTime+"</span>"),b.additionalInfo&&(d+="<span>"+b.additionalInfo+"</span>"),d+="</span>"),this._settings.paginateUnit===a.Type.PaginateUnit.FILE?d+="<span class='thumb-page'>("+b.itemPageNo+"/"+b.itemPageCount+")</span>":this._settings.paginateUnit!==a.Type.PaginateUnit.NONE&&(d+="<span class='thumb-page'><&nbsp;"+b.pageNo+"&nbsp;></span>"),c.innerHTML=d,c},m._createThumbWrapNode=function(){var a=g.createElement("span",{class:f+"-ui-loader thumb-box"});return a.style.width=this._settings.itemWidth+e+"px",a.style.height=this._settings.itemHeight+e+"px",a.style.lineHeight=this._settings.itemHeight+e+"px",g.createElement("img",{src:j.UI.LOADING_BAR.THUMBNAIL},a),a},m._loadRealImage=function(a){if(!a.loadedThumbnail){var b=this._settings.itemWidth,c=this._settings.itemHeight,d=0,h=0,j=1,k=a.node,l=g.select(k,".thumb-box"),m=g.select(k,"img");if(a&&l){var n=new Image;n.src=a.url+(-1===a.url.indexOf("?")?"?":"&")+"t="+i.now(),n.width=0,n.height=0,l.appendChild(n);var o=0;n.onload=function(){d=this.naturalWidth,h=this.naturalHeight,d=0===d||d>b?b:d,h=0===h||h>c?c:h,b<d?(j=b/d,n.width=d*j,n.height=h*j):(n.width=d,n.height=h),c<h&&(n.height=c),m&&l.removeChild(m),n.style.marginTop=Math.max(0,(c+e-h)/2)+"px",n.style.marginLeft=Math.max(0,(b+e-d)/2)+"px",g.removeClass(l,f+"-ui-loader"),this.onload=null,this.onerror=null},n.onerror=function(){o<3&&(this.src=this.src),o+=1},a.loadedThumbnail=!0,this.trigger("thumbnail.item.loaded",a)}}},m.selectedItem=function(a){if(this._selectedItem&&this._selectedItem.node&&g.removeClass(this._selectedItem.node,"selected"),this._selectedItem=a,a){var b=this._containerNode.scrollTop,c=this._selectedItem.node.offsetTop;(c<b||c>b+this._containerHeight)&&(this._containerNode.scrollTop=this._selectedItem.node.offsetTop);var d=this._containerNode.scrollLeft,e=this._selectedItem.node.offsetLeft;(e<d||e>d+this._containerWidth)&&(this._containerNode.scrollLeft=this._selectedItem.node.offsetLeft),this._displayThumbItem(!0),g.addClass(a.node,"selected")}},m.getRenderItem=function(a){return 1===arguments.length?this._renderItems[a]:this._renderItems},m.removeItem=function(a){},m.changeLayerType=function(a){this.layerType=a,"filter"===a?(this._thumbnailListNode.style.display="none",this._filterListNode.style.display="block"):(this._thumbnailListNode.style.display="block",this._filterListNode.style.display="none")},m._emptyFilterListNode=function(){this._filterListNode&&(this._filterListNode.innerHTML="")},m.show=function(a){if(a)this._displayItem(a,!0);else{if(this._visiable)return;this._displayControl(!0)}},m.hide=function(a){if(a)this._displayItem(a,!1);else{if(!this._visiable)return;this._displayControl(!1)}},m._displayItem=function(a,b){var c=0,d=this._items.length;for(c=0;c<d;c++){var e=this._items[c];e.fileId===a&&(e.node.style.display=b?"inline-block":"none")}},m._displayControl=function(a){this._containerNode.style.display=a?"block":"none",this._visiable=a},m.width=function(a){if(!a)return this._width},m.setting=function(a){return this._settings[a]},m.height=function(a){if(!a)return this._height},m.resize=function(a,b){void 0!==a&&this._containerWrapper.animate([{width:a+"px",height:b+"px"}],{duration:500}),b&&(this._containerNode.style.height=b+"px");var c=this;return setTimeout(function(){c.refresh()},600),this},m.clear=function(){if(null!==this._containerNode&&null!==this._containerWrapper){try{null!==this._thumbnailNode&&(this._thumbnailNode.removeChild(this._thumbnailListNode),this._thumbnailListNode=g.createElement("ul",null,this._thumbnailNode))}catch(a){}this._jobItems=[],this._items=[],this._renderItems=[]}},m.onRenderThumbnail=function(){var a=this,c=a._thumbJobInfo.fileItem,d=c.getPageInfo();if(!(a._thumbJobInfo.pageNo>d.pageCount||this._thumbJobInfo.running)){this._thumbJobInfo.running=!0;var e={fileId:c.getItemId(),pageNo:this._thumbJobInfo.pageNo,name:c.getName()};b.Uint8Array?this._requestPageThumbnailByBody(e):this._requestPageThumbnailByURI(e)}},m._requestPageThumbnailByBody=function(a){var b,c=this,d=c._thumbJobInfo.fileItem;this.serviceManager?this.serviceManager.requestPageThumbnail(a,function(a){var e=new Uint8Array(a),f=new Blob([e],{type:"image/jpeg"}),g=k.createObjectURL(f);d=c._thumbJobInfo.fileItem,b=c._pageCount++;var h={fileId:d.getItemId(),url:g,name:d.getName(),pageNo:b,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo};1===c._thumbJobInfo.pageNo&&d.setPageInfo({pageNo:b}),c._afterRenderThumbnail(h)},function(){}):(b=c._pageCount++,c._afterRenderThumbnail({fileId:d.getItemId(),url:d.getItemId(),name:d.getName(),pageNo:b,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo}),1===c._thumbJobInfo.pageNo&&d.setPageInfo({pageNo:b}))},m._requestPageThumbnailByURI=function(b){var c=this,d=c._thumbJobInfo.fileItem;if(this.serviceManager){var e={fileId:d.getItemId(),type:a.ServiceAPIMessage.ThumbnailGetRequest,pageNo:c._thumbJobInfo.pageNo,imageSize:this._settings.itemWidth+","+this._settings.itemHeight},f=this.serviceManager.createRequestUrl(e)+"?"+this.serviceManager.paramToString(e,!0),g={fileId:d.getItemId(),url:f,name:d.getName(),pageNo:c._pageCount++,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo};c._afterRenderThumbnail(g)}else c._afterRenderThumbnail({fileId:d.getItemId(),name:d.getName(),url:d.getItemId(),pageNo:c._pageCount++,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo})},m._resetThumbJobInfo=function(){this._thumbJobInfo={fileItem:null,pageNo:1,pageCount:1,running:!1,thumbItems:[]}},m._afterRenderThumbnail=function(a){var b=this;b._thumbJobInfo.thumbItems.push(a);var c=b._thumbJobInfo.fileItem.getPageInfo();b._thumbJobInfo.pageNo===c.pageCount?(b._resetThumbJobInfo(),a&&(b._layer.thumbnailLayer.addItem(a),b._thumbJobList.shift())):(a&&b._layer.thumbnailLayer.addItem(a),b._thumbJobInfo.running=!1,b._thumbJobInfo.pageNo=b._thumbJobInfo.pageNo+1),b._thumbJobList.length>0&&setTimeout(function(){var a=b._thumbJobList[0],c=a.getPageInfo();b._thumbJobInfo.fileItem=a,b._thumbJobInfo.pageCount=c.pageCount,b.onRenderThumbnail()},400)},m._getItemByPageNo=function(a){var b,c,d=0,e=this._items.length;for(d=0;d<e;d++)if((c=this._items[d])&&c.pageNo===a){b=c;break}return b},m._hasBookmark=function(b){if(b)return!!a.Element.select(b.node,".bookmark")},m.addBookmark=function(b){var c=this._getItemByPageNo(b);if(c&&!this._hasBookmark(c)){var d=a.Element.select(c.node,".thumb-box");a.Element.createElement("span",{class:"bookmark"},d)}},m.removeBookmark=function(b){var c=this._getItemByPageNo(b);c&&this._hasBookmark(c)&&a.Element.remove(".bookmark",c.node)},m.findByPageNo=function(a){return this._items[a-1]},m.findByItemId=function(a){var b=0,c=this._items.length,d=[];for(b=0;b<c;b++){var e=this._items[b];e.fileId===a&&d.push(e)}return d},m.renderFilterItem=function(a){this._emptyFilterListNode(),this._filterItems=[];for(var b=0,c=a.length;b<c;b++){var d=this.findByItemId(a[b].getItemId());d.length>0&&this._appendFilterItem(d)}this.refresh()},m._cloneItem=function(a,b){var c=this.findByItemId(a),d={};if(c.length>0)for(var e in c[0])d[e]=c[0][e];return d},m._appendFilterItem=function(a){var b=this;if(a.length>0){var c=a[0].node,d=c.cloneNode(!0);this._filterListNode.append(d);var e=this._cloneItem(a[0].fileId);e.node=d,this._filterItems.push(e),this.on((h.isMobile().any()?"touchstart":"click")+".thumbnail",function(){b.trigger("trigger.click.thumbnail",e)},d)}},a.ThumbnailLayer=l,a.ThumbnailLayer.prototype.constructor=l.prototype,a.ThumbnailLayer}),InziSForm.create(function(a,b,c){"use strict";var d=(a.moduleName,a.moduleClassName),e=a.Utils,f=a.Element,g=a.Type,h=function(b){var c={width:0,height:0,container:null,wrapper:null,toolbarControl:!0,thumbnailControl:!0,pageControl:!0,annotationControl:!1,propertyControl:!1,viewerCompatType:"",layoutType:g.ToolbarLayoutType.FULL};return this._settings=e.extend(c,b),this._containerNode=f.getElementNode(b.container),this._containerWrapper=new a.DOMWrapper(this._containerNode),this._wrapper=this._settings.wrapper,this.loaded=0,this._toolbarNodeMap={headerNode:null,footerNode:null},this._selectedIcon=null,this._toolbarItemMap={},this._activeItem=null,this._init(),this};a.inherit(h,a.EventHandler);var i=h.prototype;i._init=function(){if(!this.loaded){var a=f.appendToElement(this._containerNode,"div",{class:"sform-header"});this._toolbarNodeMap.headerNode=f.appendToElement(a,"div",{id:e.getRandomId(g.LayerType.TOOLBAR),class:d+"-toolbar"}),(this._settings.pageControl||this._settings.propertyControl)&&(this._toolbarNodeMap.footerNode=this._containerWrapper.appendToElement("div",{class:"sform-footer"})),this._createUI(),this.loaded=1}},i._createUI=function(){this.__createToolbarControl(),this._createToolbarPageControl(),this._createToolbarAnnotationControl()},i.__createToolbarControl=function(){this._settings.toolbarControl&&(this._createToolbarItem(g.VIEWER_CONTROL,this._toolbarNodeMap.headerNode),this._settings.thumbnailControl&&this._createToolbarItem(g.VIEWER_TYPE_CONTROL,this._toolbarNodeMap.headerNode))},i._createToolbarPageControl=function(){if(this._settings.pageControl){var a=f.appendToElement(this._toolbarNodeMap.footerNode,"div",{class:"pagenation"}),b=f.appendToElement(a,"div");this._createControlItem(g.PAGENATION_CONTROL,b)}},i._createToolbarAnnotationControl=function(){if(this._settings.annotationControl){var b=this._getAnnotationControlItem();if(this._settings.layoutType===g.ToolbarLayoutType.SIMPLE?this._createAnnotationControlHiddenLayer(b):this._createAnnotationControl(b),this._settings.propertyControl){var c=f.appendToElement(this._toolbarNodeMap.footerNode,"div",{class:"properties"}),d=f.appendToElement(c,"div");this._createControlItem(g.ANNOTATION_CONTROL.PROPERTY,d),this.show(a.Type.FILE_CONTROL.FILE_SAVE)}}},i._createAnnotationControlHiddenLayer=function(a){var b,c,e,h=f.appendToElement(this._toolbarNodeMap.headerNode,"div",{class:d+"-layer hidden-annotation-layer",style:"display:none"}),i=this,j=g.ANNOTATION_CONTROL.ITEM.SELECT.controlItem,k=0,l=j.length,m=function(a){var c=f.parent(a.target,"div");if(c&&f.hasClass(c,"hidden-annotation-layer")){i.trigger(a.triggerName,a);var e=f.select(b,"a");e&&(f.attr(e,"class",d+"-ui-icon "+a.className),e.innerHTML=a.label?a.label:"&nbsp;"),h.style.display="none"
}else"none"===h.style.display?h.style.display="block":h.style.display="none"};for(this._createSeparatorNode(this._toolbarNodeMap.headerNode),k=0;k<l;k++)e=j[k],b=this.__createRenderItem(g.ANNOTATION_CONTROL.ITEM.SELECT,e,m),this._toolbarNodeMap.headerNode.appendChild(b);this._createSeparatorNode(this._toolbarNodeMap.headerNode);for(var n in a)for(e=g.ANNOTATION_CONTROL.ITEM[n],l=e.controlItem.length,k=0;k<l;k++)c=this.__createRenderItem(e,e.controlItem[k],m),h.appendChild(c)},i._getAnnotationControlItem=function(){var a,b={};for(var c in g.ANNOTATION_CONTROL.ITEM)a=g.ANNOTATION_CONTROL.ITEM[c],-1===a.viewerCompatType.indexOf(this._settings.viewerCompatType)||a.disabled||(b[c]={},b[c]=a);return b},i._createAnnotationControl=function(a){this._createToolbarItem(a,this._toolbarNodeMap.headerNode)},i._createSeparatorNode=function(a){var b=f.appendToElement(a,"span",{class:"icon-separator"});b.innerHTML="&nbsp;|&nbsp;",a.appendChild(b)},i._createToolbarItem=function(a,b){var c;b.firstChild&&this._createSeparatorNode(b);for(c in a){var d=a[c];d.disabled||this._createControlItem(d,b)}},i._createControlItem=function(a,b){var d=a.controlItem,e=0,f=d.length,g=c.createElement("span");for(e=0;e<f;e++){var h=d[e];if(!h.disabled){var i=this.__createRenderItem(a,h);b.appendChild(i)}}return g},i.__createRenderItem=function(a,b,d){var e=-1,f=[];if("input"===b.nodeType)f[++e]="<span class='"+b.className+"'>",f[++e]="<input type='"+b.type+"' name='"+b.name+"' readonly='readonly' title=\""+b.title+'"/>',b.label&&(f[++e]="<label>"+b.label+"</label>"),f[++e]="</span>","currentPageNo"===b.name&&(f[++e]=" <span>/</span>");else if("select"===b.nodeType){var g=0,h=b.options,i=h.length;for(f[++e]="<select name='"+b.className+"' title=\""+b.title+'">',g=0;g<i;g++){var j=h[g];f[++e]="<option value='"+j.value+"'>",f[++e]=j.text,f[++e]="</option>"}f[++e]="</select>"}else f[++e]='<span control-type="'+a.type+'" title="'+b.title+'" control-data="'+b.type+'" class="sform-ui-'+(b.disabled?"disabled":"active")+'">',f[++e]='<a href="javascript:;" class="'+a.classDefaultName+" "+b.className+'">',b.label&&(f[++e]=(b.label?b.label:"")+"</a>"),b.innerHTML&&(f[++e]=b.innerHTML),f[++e]="</a>",f[++e]="</span>";d&&(b.callbackFn=d);var k=c.createElement("span");return k.innerHTML=f.join(""),b.controlType=a.type,void 0===this._toolbarItemMap[a.type]&&(this._toolbarItemMap[a.type]={}),b.node=k,this._toolbarItemMap[a.type][b.type]=b,this._bindTrigger(k,b),k},i._bindTrigger=function(a,b){var c=this,d="click.toolbar";"select"===b.nodeType?this.on("change.trigger",function(a){var d=f.getEventTarget(a);b.value=b.options[d.selectedIndex].value,c.trigger(b.triggerName,b)},f.select(a,"select")):"input"===b.nodeType&&"checkbox"===b.type?this.on(d,function(a){var d=f.getEventTarget(a);b.value=d.checked,c.trigger(b.triggerName,b)},a):this.on(d,function(a){var d=f.getEventTarget(a);if("trigger.set.annotation.type"===b.triggerName||"trigger.selected.annotation"===b.triggerName){var e=f.select(this,".sform-ui-active");e&&(f.hasClass(e,"sform-icon-focus")?f.removeClass(e,"sform-icon-focus"):(c._selectedIcon&&f.removeClass(c._selectedIcon,"sform-icon-focus"),c._selectedIcon=e,f.addClass(e,"sform-icon-focus")))}else-1===b.triggerName.indexOf("annotation")&&c._selectedIcon&&f.removeClass(c._selectedIcon,"sform-icon-focus");if("trigger.set.annotation.color"===b.triggerName){var g;g=f.hasClass(d,"color")?d:f.select(d,".color"),g&&(b.targetNode=g)}b.callbackFn?(b.target=d,b.callbackFn(b)):c.trigger(b.triggerName,b)},a)},i.currentPageNoNode=function(){if(this._toolbarNodeMap.footerNode)return f.select(this._toolbarNodeMap.footerNode,".current-page-number input")},i.totalPageNoNode=function(){if(this._toolbarNodeMap.footerNode)return f.select(this._toolbarNodeMap.footerNode,".total-page-number input")},i.toolbarItem=function(a,b){if(a in this._toolbarItemMap)return this._toolbarItemMap[a][b]},i.__createControlInnerHTML=function(a){var b=-1,c=[],d=a.controlItem,e=0,f=a.controlItem.length;for(e=0;e<f;e++){var g=d[e];c[++b]='<span control-type="'+a.type+'" control-data="'+g.type+'" class="sform-ui-'+(g.disabled?"disabled":"active")+'">',c[++b]='<a href="#" class="'+a.classDefaultName+" "+g.className+'"></a>',c[++b]="</span>"}return c.join("")},i.addItem=function(a){},i.removeItem=function(a){},i.activeItem=function(a){if(0===arguments.length)return this._activeItem;if(a){var b=a.node;b&&(f.addClass(b,"icon-selected"),this._activeItem=a)}},i.deactiveItem=function(a){if(a=a||this._activeItem){var b=a.node;b&&f.removeClass(b,"icon-selected")}this._activeItem=null},i.show=function(a){if(a){if(null===this._toolbarNodeMap.headerNode)return;var b=this.__createRenderItem(a,a.controlItem[0]);this._toolbarNodeMap.headerNode.appendChild(b)}},i.hide=function(a){},i.clear=function(){},a.ToolbarLayer=h}),InziSForm.create(function(a,b,c){"use strict";var d=function(b){if(!b.container)throw new Error;this.container=a.Element.select(c.body,b.container),this.node=a.Element.createElement("div",{},this.container),this.textContent=this.node.innerHTML};d.prototype={append:function(a){return"string"==typeof a?this._appendToString(a):a instanceof HTMLElement&&this._appendToElement(a),this},_appendToString:function(a){this.textContent=this.textContent+a,this.refresh()},_appendToElement:function(a){this.node.appendChild(a),this.textContent=this.node.innerHTML},innerHTML:function(){return this.node.innerHTML},refresh:function(){this.node.innerHTML=this.textContent},remove:function(a){a&&this.node.removeChild(a)},empty:function(){this.node.innerHTML=""}},a.PopupLayer=d}),InziSForm.create(function(a,b,c){"use strict";function d(a){this._resizeByType(a.type)}function e(a){var b;b="select"===a.nodeType?a.value:a.type,this.zoom(b)}function f(a){this.filter("brightness",a.type)}function g(a){this.rotate(a.type,a.value)}function h(a){this.controlType()===t.ControlType.MAGNIFICATION?(this.controlType(t.ControlType.NONE),this._layer.toolbarLayer.deactiveItem(a)):(this.controlType(a.type),this._layer.toolbarLayer.activeItem(a))}function i(a){this._preProcessPrint(this._currentItem.getPageInfo())}function j(a){this.download()}function k(a){this._setAnnotationType(a.type)}function l(a){this.setAnnotationProp(a.type)}function m(b){var c=this;a.UI.colorpicker(b.value,function(a){b.targetNode.style.background=a.hex,c.annotationOption(b.type,a.hex)})}function n(a){var b,c,d;b=c=this._currentPageNo,d=this._pageCount,c>0&&d>0&&(a.type===t.PAGENATION_CONTROL.controlItem[0].type?c=1:a.type===t.PAGENATION_CONTROL.controlItem[1].type?c=Math.max(c-1,1):a.type===t.PAGENATION_CONTROL.controlItem[4].type?c=Math.min(c+1,d):a.type===t.PAGENATION_CONTROL.controlItem[5].type&&(c=d),b!==c&&this.movePage(c))}function o(a){this._viewer.isSelected(!this._viewer.isSelected())}function p(a){this._viewer.setAnnotationVisible(a.value)}function q(a){this._itemSave(a)}var r=a.Utils,s=a.Element,t=a.Type,u=a.moduleClassName,v=b.URL||b.webkitURL,w={"trigger.change.viewer.type":d,"trigger.change.zoom":e,"trigger.change.filter":f,"trigger.change.rotate":g,"trigger.magnification":h,"trigger.file.print":i,"trigger.file.download":j,"trigger.movepage":n,"trigger.set.annotation.type":k,"trigger.set.annotation.index":l,"trigger.set.annotation.color":m,"trigger.selected.annotation":o,"trigger.display.annotation":p,"trigger.file.save":q},x=r.globalLocation(),y=function(b){var c={protocol:x.protocol,port:x.port,context:"",container:null,serviceType:a.Type.SERVICE_TYPE.API,serviceStreamingType:"body",item:null,viewerCompatType:"",toolbarLayoutType:"",paginateUnit:a.Type.PaginateUnit.FILE,async:!1,viewerConfig:null,cacheConfig:{maxSize:0,removalListener:null}};return this.setting=r.extend(c,b),this._viewer=null,this._viewerType=a.Type.ViewerType.IMAGE_THUMBNAIL,this._containerNode=s.getElementNode(this.setting.container),this._containerWrapper=new a.DOMWrapper(this._containerNode),this.serviceManager=new a.ServiceManager({protocol:this.setting.protocol,port:this.setting.port,context:this.setting.context,resolve:null,reject:null}),this._layer={contentsLayer:null,containerLayer:null,toolbarLayer:null,thumbnailLayer:null},this._currentPageNo=1,this._pageCount=0,this._items=[],this._currentItem=null,this._renderItem=null,this._thumbJobList=[],this._pageItems=[],this._filterPageItems=[],this._isInfoRenderAll=!0,this._thumbJobInfo={fileItem:null,pageNo:1,pageCount:1,running:!1,thumbItems:[]},this._notifyMessage="",this._lastFileItem=null,this._init(),this};a.inherit(y,a.EventHandler);var z=y.prototype;return z._init=function(){var b=this;this._layer.containerLayer||(this._layer.containerLayer=this._containerWrapper.appendToElement("div",{class:"sform-container"}),this.setting.cacheConfig.maxSize>0&&(this.setting.cacheConfig.removalListener=function(a){a&&b._removePage(a.pageNo)},this.cacheManager=new a.CacheManager(this.setting.cacheConfig)),this._initControl(),this._initViewer(),this.refresh(),this._initEvent(),this._initItem().render())},z._initItem=function(){var b=this._items.length;if("string"==typeof this.setting.item&&r.isNotEmpty(this.setting.item))this._items.push(this._createFileItem(this.setting.item,b));else if(this.setting.item instanceof a.core.FileItem)this._items.push(this.setting.item);else if(this.setting.item instanceof a.core.DocItem)this._requestDocInfo(this.setting.item);else if(Array.isArray(this.setting.item))for(var c=0,d=this.setting.item.length;c<d;c++)this._items.push(this._createFileItem(this.setting.item[c],b+c));return this._items.length>0&&(this._currentItem=this._getInitItem(),this._lastFileItem=this._items[this._items.length-1]),this},z._getInitItem=function(){var a,b,c=0,d=this._items.length;if(this._items.length>0){for(a=this._items[0],c=0;c<d;c++)if((b=this._items[c])&&b.isInitItem()){a=b;break}return a}},z._initControl=function(){var b=0,c=0;this.setting.viewerConfig=r.extend(a.Type.VIEWER_CONFIG,this.setting.viewerConfig,!1),this.setting.viewerConfig.layerOptions.toolbarControl&&(this._initToolbar(),b=this._layer.toolbarLayer._toolbarNodeMap.headerNode.clientHeight,c=this._layer.toolbarLayer._toolbarNodeMap.footerNode?this._layer.toolbarLayer._toolbarNodeMap.footerNode.clientHeight:0,this._layer.containerLayer.style.top=b+"px",this._layer.containerLayer.style.bottom=c+"px"),(!0===this.setting.viewerConfig.layerOptions.thumbnailControl||this.setting.viewerConfig.layerOptions.thumbnailControl.enable)&&this._initThumbnail()},z._createFileItem=function(b,c){var d;return"string"==typeof b?d=new a.core.FileItem({itemIdx:c,itemId:b}):(d=b,d.setItemIdx(c)),d},z._initEvent=function(){var c=this;if(r.bind(b,"resize",function(){c._resizeByType(c._viewerType)}),this._layer.toolbarLayer){var d=a.Element.select(this._layer.toolbarLayer._containerNode,"[name=sform--ui-select]");d&&this._viewer.on("change.current.zoom",function(a){var b=Math.min(a.scale.x,a.scale.y);r.isNumeric(b)&&(d.options[0].text="=="+Math.round(100*b)+"%==",d.options[0].value=b,d.options[0].selected="selected")})}c._layer.thumbnailLayer&&(this.on("add.annotation",function(a){var b=a.page,d=b.pageNo();(b.getItems()||[]).length>0&&c._layer.thumbnailLayer.addBookmark(d)}),this.on("remove.annotation",function(a){var b=a.page,d=b.pageNo();0===(b.getItems()||[]).length&&c._layer.thumbnailLayer.removeBookmark(d)}),this.on("thumbnail.item.loaded",function(a){var b=c._getByItemId(a.fileId);if(b){var d=c._getPage(a.pageNo);d||(d=c._addPage(b,null,a.pageNo),d.setPageInfo({fileId:b.getItemId(),itemPageNo:a.itemPageNo})),c._triggerRequestAnnotation({fileId:b.getItemId(),annotationId:b.getAnnotationId(),pageNo:a.itemPageNo})}}),this.on("page.annotation.load",function(a){var b=a.page,d=b.pageNo();(b._drawingItems||[]).length>0&&c._layer.thumbnailLayer.addBookmark(d)})),this.on("page.file.load",function(a){var b=a.page,d=c._getByItemId(a.fileId);null===b.getAnnotation()||b._drawingItems||c._triggerRequestAnnotation({fileId:d.getItemId(),annotationId:d.getAnnotationId(),pageNo:b.getImageFile().getPageNo()})}),this._viewer.on("change.viewer.control.type",function(a){if(c._layer.toolbarLayer){a=a.toUpperCase();var b=c._layer.toolbarLayer.activeItem();b?b.controlType!==a&&c._layer.toolbarLayer.deactiveItem():(b=c._layer.toolbarLayer.toolbarItem(a,a))&&c._layer.toolbarLayer.activeItem(b)}})},z._triggerRequestAnnotation=function(a){var b=this,c=b._getByItemId(a.fileId);if(c&&c.getAnnotationId()){var d={fileId:c.getItemId(),annotationId:c.getAnnotationId(),pageNo:a.pageNo};b._requestAnnotation(d)}},z.resize=function(){},z._initToolbar=function(){var b={container:this._containerNode,wrapper:this._containerWrapper,viewerCompatType:this.setting.viewerCompatType,layoutType:this.setting.toolbarLayoutType,toolbarControl:this.setting.viewerConfig.layerOptions.toolbarControl,thumbnailControl:!0===this.setting.viewerConfig.layerOptions.thumbnailControl||this.setting.viewerConfig.layerOptions.thumbnailControl.enable,pageControl:this.setting.viewerConfig.layerOptions.pageControl,propertyControl:this.setting.viewerConfig.layerOptions.propertyControl,annotationControl:this.setting.viewerConfig.layerOptions.annotationControl};this._layer.toolbarLayer=new a.ToolbarLayer(b),this._toolbarHandler()},z._initViewer=function(){var b=this._layer.containerLayer.offsetWidth,c=0;this._layer.thumbnailLayer&&(c=this._layer.thumbnailLayer?this._layer.thumbnailLayer.setting("width"):0,b-=c),this._layer.contentsLayer=s.createElement("div",{class:"sform-contents"},this._layer.containerLayer);var d=this.setting.viewerConfig;d.width=b,d.container=this._layer.contentsLayer,this._viewer=new a.Viewer(d),this._triggerHandler()},z._initThumbnail=function(){var b=this;t.ThumbnailLabelType.DEFAULT;this.setting.viewerConfig.layerOptions.thumbnailControl.labelType&&this.setting.viewerConfig.layerOptions.thumbnailControl.labelType;var c=r.extend({paginateUnit:this.setting.paginateUnit,wrapper:this._containerWrapper},this.setting.viewerConfig.layerOptions.thumbnailControl,!0),d=a.LayerFactory.createLayer({type:t.LayerType.THUMBNAIL,container:this._layer.containerLayer,config:c},this.serviceManager);d.on("trigger.click.thumbnail",function(a){b._currentItem=b._getByItemId(a.fileId),b.movePage(a.pageNo)}),this._layer.thumbnailLayer=d},z._toolbarHandler=function(){function a(a){var c=a.triggerName,d=w[c];d&&d.call(b,a)}var b=this,c=this._layer.toolbarLayer;for(var d in w)c.on(d,a)},z._triggerHandler=function(){var a=this;this._viewer.on("on.clip.end",function(b){var c=a._viewer.getPage(),d=c.getImageFile(),e=d.getWidth(),f=d.getHeight(),g=c.data("angle"),h={x:b.rx,y:b.ry,x1:b.rx,y1:b.ry,x2:b.rx+b.rw,y2:b.ry+b.rh,width:b.rw,height:b.rh,pageNo:b.pageNo};90===g||-270===g?(h.x=b.ry,h.y=f-(b.rx+b.rw),h.x1=h.x,h.y1=h.y,h.width=b.rh,h.height=b.rw,h.x2=h.x+h.width,h.y2=h.y+h.height):180===g||-180===g?(h.x=e-(b.rx+b.rw),h.y=f-(b.ry+b.rh),h.x1=h.x,h.y1=h.y,h.x2=b.rx+h.width,h.y2=b.ry+h.height):270!==g&&-90!==g||(h.x=e-(b.ry+b.rh),h.y=b.rx,h.x1=h.x,h.y1=h.y,h.width=b.rh,h.height=b.rw,h.x2=h.x+h.width,h.y2=h.y+h.height),a.trigger("file.clip.complete",h)}),this._viewer.on("page.file.load",function(b){a.trigger("pageload.complete",b)}),this._viewer.on("trigger.swipe.movepage",function(b){var c,d,e;c=d=a._currentPageNo,e=a._pageCount,d>0&&e>0&&(b.type===t.PAGENATION_CONTROL.controlItem[1].type?d=Math.max(d-1,1):b.type===t.PAGENATION_CONTROL.controlItem[4].type&&(d=Math.min(d+1,e)),c!==d&&a.movePage(d))})},z._getFileItem=function(a){var b,c=0,d=this._items.length;for(c=0;c<d;c++){var e=this._items[c];if(e&&e.getItemId()===a){b=e;break}}return b},z.onRenderThumbnail=function(){var a=this,c=a._thumbJobInfo.fileItem,d=c.getPageInfo();if(!(a._thumbJobInfo.pageNo>d.pageCount||this._thumbJobInfo.running)){this._thumbJobInfo.running=!0;var e={fileId:c.getItemId(),pageNo:this._thumbJobInfo.pageNo,name:c.getName()};b.Uint8Array?this._requestPageThumbnailByBody(e):this._requestPageThumbnailByURI(e)}},z._requestPageThumbnailByBody=function(b){var c,d=this,e=d._thumbJobInfo.fileItem;this.setting.serviceType===a.Type.SERVICE_TYPE.API?this.serviceManager.requestPageThumbnail(b,function(a){var b=new Uint8Array(a),f=new Blob([b],{type:"image/jpeg"}),g=v.createObjectURL(f);e=d._thumbJobInfo.fileItem,c=d._pageCount++;var h={fileId:e.getItemId(),url:g,name:e.getName(),pageNo:c,itemPageCount:d._thumbJobInfo.pageCount,itemPageNo:d._thumbJobInfo.pageNo,loaded:!1};1===d._thumbJobInfo.pageNo&&e.setPageInfo({pageNo:c}),d._afterRenderThumbnail(h)},function(){}):(c=d._pageCount++,d._afterRenderThumbnail({fileId:e.getItemId(),url:e.getItemId(),name:e.getName(),pageNo:c,itemPageCount:d._thumbJobInfo.pageCount,itemPageNo:d._thumbJobInfo.pageNo,loaded:!1}),1===d._thumbJobInfo.pageNo&&e.setPageInfo({pageNo:c}))},z._requestPageThumbnailByURI=function(b){var c=this,d=c._thumbJobInfo.fileItem;if(this.setting.serviceType===a.Type.SERVICE_TYPE.API){var e={fileId:d.getItemId(),type:a.ServiceAPIMessage.ThumbnailGetRequest,pageNo:c._thumbJobInfo.pageNo},f=this.serviceManager.createRequestUrl(e)+"?"+this.serviceManager.paramToString(e,!0),g={fileId:d.getItemId(),url:f,name:d.getName(),pageNo:c._pageCount++,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo};c._afterRenderThumbnail(g)}else c._afterRenderThumbnail({fileId:d.getItemId(),name:d.getName(),url:d.getItemId(),pageNo:c._pageCount++,itemPageCount:c._thumbJobInfo.pageCount,itemPageNo:c._thumbJobInfo.pageNo})},z._resetThumbJobInfo=function(){this._thumbJobInfo={fileItem:null,pageNo:1,pageCount:1,running:!1,thumbItems:[]}},z._afterRenderThumbnail=function(a){var b=this;b._thumbJobInfo.thumbItems.push(a);var c=b._thumbJobInfo.fileItem.getPageInfo();b._thumbJobInfo.pageNo===c.pageCount?(b._resetThumbJobInfo(),a&&(b._layer.thumbnailLayer.addItem(a),b._thumbJobList.shift())):(a&&b._layer.thumbnailLayer.addItem(a),b._thumbJobInfo.running=!1,b._thumbJobInfo.pageNo=b._thumbJobInfo.pageNo+1),b._thumbJobList.length>0&&setTimeout(function(){var a=b._thumbJobList[0],c=a.getPageInfo();b._thumbJobInfo.fileItem=a,b._thumbJobInfo.pageCount=c.pageCount,b.onRenderThumbnail()},400),b._displayPageNo()},z._fileItemToThumbnailItem=function(a){return{fileId:a.getItemId(),name:a.getName(),createTime:a.getCreateTime(),empId:a.getEmpId(),additionalInfo:a.getAdditionalInfo(),url:"",pageNo:0,itemPageCount:a.pageCount||-1,itemPageNo:a.pageNo||0,loadedThumbnail:!1,isReqStreaming:!1}},z._updateItem=function(a){var b,c,d=this._getByItemId(a.getItemId()),e=!0,f=0;if(d){d.loaded(!0);for(var g=0,h=this._items.length;g<h;g++)c=this._items[g],b=c.getPageInfo(),f+=Math.max(b.pageCount,0),c.setPageInfo({pageNo:f}),c.isLoaded()||(e=!1);this._pageCount=f,e&&(this._isInfoRenderAll=e),this._jobItemsToRenderItem(e,a)}},z._jobItemsToRenderItem=function(a,b){var c,d,e=0,f=this._items.length,g=1,h=[],i=1;for(e=0;e<f;e++){c=this._items[e],d=c.getPageInfo(),c.setPageInfo({pageNo:i}),i+=d.pageCount;for(var j=1;j<=d.pageCount;j++){var k=this._fileItemToThumbnailItem(c);k.pageNo=g++,k.itemPageCount=d.pageCount,k.itemPageNo=j,k.url=this._createThumbnailURI(k),h.push(k),b?this._layer.thumbnailLayer&&b===c&&this._layer.thumbnailLayer.addItem(k):this._layer.thumbnailLayer&&a&&this._layer.thumbnailLayer.addItem(k)}this._pageItems=h,this._displayPageNo()}a&&this.movePageByItem(this._currentItem.getItemId())},z._createThumbnailURI=function(b){if(this.setting.serviceType===a.Type.SERVICE_TYPE.API){var c={fileId:b.fileId,type:a.ServiceAPIMessage.ThumbnailGetRequest,pageNo:b.itemPageNo};return this.serviceManager.createRequestUrl(c)+"?"+this.serviceManager.paramToString(c,!0)}return b.fileId},z._updateThumbnailItem=function(a){for(var b=this._layer.thumbnailLayer.getJobItem(),c=!0,d=0;d<b.length;d++){var e=b[d];c&&-1===r.toInt(e.itemPageCount)&&e.fileId!==a.getItemId()&&(c=!1),e&&e.fileId===a.getItemId()&&this._layer.thumbnailLayer.updateJobItem(d,{itemPageCount:a.getPageInfo().pageCount,itemPageNo:1})}c&&this._layer.thumbnailLayer.jobItemsToRenderItem()},z.appendThumbnail=function(a){this._layer.thumbnailLayer},z._createRequestPageStreamingUrl=function(a,b,c){return b&&(a=r.extend(a,b,c)),this.serviceManager.createRequestUrl(a)+"?"+this.serviceManager.paramToString(a,c)},z.getPageListInfo=function(b,c,d){var e=[];if(this.setting.serviceType===a.Type.SERVICE_TYPE.API){if(b&&(b.pageCount>0||b.pageNo>0))for(var f=c?a.ServiceAPIMessage.PageStreamRequestByPost:a.ServiceAPIMessage.ThumbnailGetRequest,g=void 0===b.pageCount?b.pageNo:1,h=void 0===b.pageCount?b.pageNo:b.pageCount,i=g;i<=h;i++){var j={fileId:b.itemId,type:f,pageNo:i},k=this._createRequestPageStreamingUrl(j,d,!0);c?e.push(k):(j.url=k,e.push(j))}}else e.push(b.itemId);return e},z._render=function(a){null!==this._viewer&&a&&(this._renderItem=a,this._requestPageInfo(this._renderItem))},z._requestDocInfo=function(b,c){var d,e,f=this;if("string"==typeof b?e=new a.core.DocItem({itemId:b}):b instanceof a.core.DocItem&&(e=b),d=e.getItemId(),this.setting.serviceType===a.Type.SERVICE_TYPE.API){var g={docId:d,docFormCode:e.getDocFormCode()||"",param:b.getParam()};void 0===c&&(c=function(b){if(0===b.statusCode)if(b.fileList&&b.fileList.length>0){e.setFileItems(b.fileList);var c=e.getFileItems();c.length>0&&(f._currentItem=c[0],f.addItem(c).render())}else a.UI.alert("해당 정보로 조회된 문서가 없습니다.")}),this.serviceManager.requestDocInfo(g,c)}},z._prevUpdateItem=function(a,b){if(b){var c={pageCount:0,pageNo:0,currentPageNo:1};c.pageCount=b.pageCount,a.setPageInfo(c)}this._updateItem(a),this._currentItem.getItemId()===a.getItemId()&&this.movePageByItem(a.getItemId()),this._nextItemRender()},z._requestPageInfo=function(b,c){var d=this,e="string"==typeof b?b:b.getItemId(),f="요청하신 업무가 정상적으로 처리되지 않았습니다.<br/>요청 정보를 확인해주시거나,<br/>잠시 후 다시 이용해주시기 바랍니다.";if("string"!=typeof b&&-1!==b.getPageInfo().pageCount)d._prevUpdateItem(b);else if(this.setting.serviceType===a.Type.SERVICE_TYPE.API){var g={fileId:e};void 0===c&&(c=function(c){0!==c.statusCode&&(50005===c.errorCode?f="이미지 뷰어에서 지원하지 않는 포맷입니다. 파일 포맷 확인 후 다시 이용 부탁드립니다.":40401===c.errorCode&&(d._notifyMessage+=(d._notifyMessage?",<br/>":"")+b.getItemId()),d._notifyMessage||a.UI.alert(f),c=null),d._lastFileItem&&d._lastFileItem.getItemId()===g.fileId&&r.isNotEmpty(d._notifyMessage)&&(f="파일을 찾을 수 없습니다.<br/>요청 정보를 확인해주시기 바랍니다.<br/>"+d._notifyMessage,a.UI.alert(f),d._notifyMessage=""),d._prevUpdateItem(b,c)}),this.serviceManager.requestPageInfo(g,c,function(c){d._prevUpdateItem(b),a.UI.alert(f)})}else d._prevUpdateItem(b,{pageCount:1})},z._loadComplete=function(a){a._loaded=1},z.load=function(){this.serviceManager.requestPageInfo()},z.controlType=function(a){if(!a)return this._viewer.controlType();this._viewer.controlType(a)},z.zoom=function(a){return 0===arguments.length?this._viewer.zoom():(this._viewer.zoom(a),this)},z.rotate=function(a,b){this._viewer.rotate(a,b)},z.filter=function(a,b){this._viewer.filter(a,b)},z.annotationOption=function(a,b){return 0===arguments.length?this._viewer.getAnnotationOption():2===arguments.length?this._viewer.setAnnotationOption(a,b):"object"==typeof a&&this._viewer.setAnnotationOption(a),this},z.setAnnotationProp=function(a,b){this._viewer.setAnnotationProp(a,b)},z._setAnnotationType=function(a){a===this._viewer.getAnnotationType()?this._viewer.clearAnnotationType():this._viewer.setAnnotationType(a)},z.annotationType=function(a){if(!a)return this._viewer.getAnnotationType();this._setAnnotationType(a)},z.addAnnotation=function(a,b){if(this._viewer.getPage()){var c=this._viewer.getPage().drawingItem(a);r.isFunction(b)&&b(c)}},z.addAnnotations=function(a,b){if(this._viewer.getPage()){var c=this._viewer.getPage().drawingItems(a);r.isFunction(b)&&b(c)}return this},z.process=function(a,b,c){if(a===this.ServiceAPIMessage.PageInfoRequest){var d={type:a,fileId:b,pageNo:c};this.serviceManager.requestData(d,function(a){})}},z._api=function(a,b){return this},z.pageStreaming=function(a,b){return this},z.displayToolbar=function(a,b){return this._layer.toolbarLayer&&(b?this._layer.toolbarLayer.show(a):this._layer.toolbarLayer.hide(a)),this},z.displayControl=function(a,b){return this},z.displayAnnotation=function(a,b){return this},z.download=function(a){a=a||this._currentItem.getItemId(),r.isNotEmpty(a)&&this.serviceManager.requestFileDownload(a)},z._preProcessPrint=function(b,c,d){var e={batchjob:{protocol:x.protocol,baseURL:x.hostname,port:x.port,path:"",infoURI:"",streamingURI:"",items:[],pages:this.getPageListInfo(b,!0,d)},commonOption:{mediaSize:a.Type.PRINT_PAGE_TYPE.PAGE_TYPE_A4,layout:"auto",margins:0}};this.print(e,c)},z.print=function(b,c,d){try{var e=this;if(0===arguments.length){var f=this.currentPage();if(f&&f.getImageFile()){var g={itemId:f.getImageFile().getFileId(),pageNo:f.getImageFile().getPageNo()};e._preProcessPrint(g,c,d)}}else if("string"==typeof b)this._requestPageInfo(b,function(a){if(0===a.statusCode){var b={itemId:a.fileId,pageCount:a.pageCount};e._preProcessPrint(b,c,d)}});else if(b.batchjob.pages.length>0){var h=new a.PrintManager(b,c);h.run()}}catch(i){console.log(i)}},z.clear=function(){return this._viewer.clear(),this._layer.thumbnailLayer&&this._layer.thumbnailLayer.clear(),this._currentPageNo=1,this._pageCount=0,this._items=[],this._currentItem=null,this._renderItem=null,this._thumbJobList=[],this._pageItems=[],this._thumbJobInfo={fileItem:null,pageNo:1,pageCount:1,running:!1,thumbItems:[]},this._isInfoRenderAll=!0,this._filterPageItems=[],this._filterPageIdx=0,this.cacheManager&&this.cacheManager.clear(),this},z.currentPage=function(){return this._viewer.getPage()},z._getByItemId=function(a){var b,c,d=0,e=this._items.length;for(d=0;d<e;d++)if((b=this._items[d])&&b.getItemId()===a){c=b;break}return c},z.movePageByItem=function(a){var b=this._getByItemId(a);if(b){this._currentItem=b;var c=this._currentItem.getPageInfo();this.movePage(c.pageNo)}},z._validMovePageNo=function(a){if(0!==this._pageCount){var b=this._pageItems[a-1];if(b){if(this._getByItemId(b.fileId).enable()){var c=Math.min(a,this._pageItems.length);this._currentPageNo=Math.max(1,c)}}}},z._getPageItem=function(a){var b=this._pageItems[a-1];return b||{fileId:this._currentItem.getPageInfo().itemId,itemPageNo:1}},z.movePage=function(a,b){if(this._validMovePageNo(a),a>0&&this._currentPageNo>0&&this._currentPageNo<=this._pageCount){var c=this._getPage(this._currentPageNo),d=this._getPageItem(this._currentPageNo);if(c&&c.getImageFile())this._viewer.movePage(this._currentPageNo),this._currentItem.setPageInfo("currentPageNo",d?d.itemPageNo:1),this.trigger("pagemove.complete",{pageNo:a});else if(!d.isReqStreaming){var e={fileId:d.fileId,pageNo:d.itemPageNo};this._currentItem=this._getByItemId(e.fileId),this._requestPageStreaming(e,b),d.isReqStreaming=!0}this._layer.thumbnailLayer&&this._layer.thumbnailLayer.selectedItem(this._layer.thumbnailLayer.getRenderItem(this._currentPageNo-1))}else this._currentPageNo=0,this.currentPage()&&this.currentPage().hide();this._displayPageNo()},z.addItem=function(c){var d=this._items.length;if(b.Array.isArray(c))for(var e=0,f=c.length;e<f;e++)this._items.push(this._createFileItem(c[e],d+e));else c instanceof a.core.DocItem?this._requestDocInfo(c):this._items.push(this._createFileItem(c,d));return this._currentItem||(this._currentItem=this._items[0]),this._lastFileItem=this._items[this._items.length-1],this},z.render=function(){this._isInfoRenderAll&&this._nextItemRender()},z._nextItemRender=function(){var a,b=0,c=this._items.length;for(b=0;b<c;b++)if((a=this._items[b])&&!a.isLoaded()){this._isInfoRenderAll=!1,this._render(a);break}},z.renderAll=function(){this._nextItemRender()},z._requestPageStreaming=function(c,d){this.setting.serviceType===a.Type.SERVICE_TYPE.API?b.Uint8Array&&"body"===this.setting.serviceStreamingType?this._requestPageStreamingByBody(c,d):this._requestPageStreamingByURI(c,d):(this._setPage(this._currentItem,{fileId:this._currentItem.getItemId(),pageNo:1,type:"url",data:this._currentItem.getItemId(),width:700,height:700},this._currentPageNo),this.appendThumbnail(this._currentItem),this._loadComplete(this._currentItem))},z._requestAnnotation=function(b){var c=this;b.annotationId&&this._viewer.setting("annotationEnable")&&(a.UI.loading(!0),this.serviceManager.requestAnnotation(b,function(b){var d={fileId:b.fileId,pageNo:b.pageNo,annotationId:b.annotationId,data:b.annotation};c._viewer.setAnnData(d),a.UI.loading(!1)},function(){a.UI.loading(!1)}))},z._requestPageStreamingByBody=function(a,b){var c=this;this.serviceManager.requestPageStreaming(a,function(d){var e=r.createDataUrl("jpg",r.arrayBufferToBase64(d)),f={type:"base64",data:e,fileName:d.fileName,mimeType:"image/jpg",fileId:a.fileId,pageNo:a.pageNo},g=c._getByItemId(a.fileId).getPageInfo();c._setPage(c._renderItem,f,g.pageNo+a.pageNo-1),r.isFunction(b)&&b({event:"page.load.complete",fileId:a.fileId,pageNo:a.pageNo})},function(a){console.log(a)})},z._getPage=function(a){return a=Math.max(a,1),this._viewer.getPage(a-1)},z._setPage=function(a,b,c){var d=this._getPage(c);try{d?d.getImageFile()||d.setImageData(b):d=this._addPage(a,b,c),this.cacheManager&&this.cacheManager.load(c,{itemId:a.getItemId(),pageNo:c}),this.movePage(this._currentPageNo)}catch(e){console.log(e,d)}this._displayPageNo()},z._generatePageIndex=function(a){return r.isNumeric(a)?a-1:null},z._addPage=function(a,b,c){var d=this._viewer.addPage(this._generatePageIndex(c));return b&&(d.setImageData(b),a.pageNo=d.pageNo()),d},z._removePage=function(a){this._viewer.removePage(a-1);var b=this._getPageItem(a);return b&&(b.isReqStreaming=!1),this},z._requestPageStreamingByURI=function(b,c){var d=this,e={fileId:b.fileId,type:a.ServiceAPIMessage.PageStreamRequestByPost,pageNo:b.pageNo},f=this.serviceManager.createRequestUrl(e)+"?"+this.serviceManager.paramToString(e,!0),g={fileId:b.fileId,pageNo:b.pageNo,type:"url",data:f,fileName:e.fileId+"_"+e.pageNo};d._setPage(d._renderItem,g,d._currentPageNo),r.isFunction(c)&&c({event:"page.load.complete",fileId:b.fileId,pageNo:b.pageNo})},z._displayPageNo=function(){if(this._layer.toolbarLayer){var b=1,c=0;if(this.setting.paginateUnit===a.Type.PaginateUnit.FILE){var d=this._currentItem.getPageInfo();b=d.currentPageNo,c=d.pageCount}else this._filterPageItems.length>0?(this._filterPageIdx=this.getFilterIndexByPageNo(this._viewer.pageNo()),b=this._filterPageIdx+1,c=this._filterPageItems.length):(b=this._viewer.pageNo(),c=this._pageCount);var e=this._layer.toolbarLayer.currentPageNoNode(),f=this._layer.toolbarLayer.totalPageNoNode();e&&(e.value=b),f&&(f.value=c)}},z._resizeByType=function(a){var b=this._viewerType!==a;this._viewerType=a;var c=this._layer.thumbnailLayer?this._layer.thumbnailLayer.setting("width"):0,d=this._layer.thumbnailLayer?this._layer.thumbnailLayer.setting("height"):0,e=s.offset(this._layer.containerLayer),f=e.width,g=e.height,h=f,i=g,j=this.setting.viewerConfig.layerOptions.thumbnailControl.controlPosition;a===t.ViewerType.IMAGE?(c=0,j===t.CONTROL_POSITION_TYPE.TOP?this._viewer._containerNode.style.top="0px":j===t.CONTROL_POSITION_TYPE.RIGHT?this._viewer._containerNode.style.right="0px":j===t.CONTROL_POSITION_TYPE.BOTTOM?this._viewer._containerNode.style.bottom="0px":this._viewer._containerNode.style.left="0px"):a===t.ViewerType.THUMBNAIL?(c=f,d=g,h=0):j===t.CONTROL_POSITION_TYPE.TOP?(this._viewer._containerNode.style.top=d+"px",c=f,h=f,i=g-d):j===t.CONTROL_POSITION_TYPE.RIGHT?(this._viewer._containerNode.style.right="0px",h=f-(c+5),d=i):j===t.CONTROL_POSITION_TYPE.BOTTOM?(c=f,h=f,i=g-d):(this._viewer._containerNode.style.left=c+"px",h=f-(c+5),d=i),this._layer.thumbnailLayer&&(a===t.ViewerType.THUMBNAIL?s.addClass(this._layer.thumbnailLayer._containerNode,u+"-thumbnail-full"):s.removeClass(this._layer.thumbnailLayer._containerNode,u+"-thumbnail-full"),this._layer.thumbnailLayer.resize(c,d)),this._viewer.updatePosition(h,i),b&&this._viewer.onDrawing()},z.movePrevPage=function(){var a,b,c=-1;this._filterPageItems.length>0?(a=this._filterPageIdx-1,b=this._filterPageItems[a],b?(c=b.pageNo,this._filterPageIdx=a):c=this._filterPageItems[0].pageNo):c=this._viewer.pageNo()-1,c=Math.max(c,1),this.movePage(c)},z.moveNextPage=function(){
var a,b,c=-1,d=this._filterPageItems.length;d>0?(a=this._filterPageIdx+1,b=this._filterPageItems[a],b?(c=b.pageNo,this._filterPageIdx=a):c=this._filterPageItems[d-1].pageNo):c=this._viewer.pageNo()+1,this.movePage(c)},z.removeItem=function(a){this.currentPage()&&this.currentPage().removeItem(a)},z.addThumbnail=function(){},z.removeThumbnail=function(){},z._itemSave=function(){function b(){if(0!==f.length){var c=f[0],d=e._getFileItem(c.fileId);r.isNotEmpty(d.getAnnotationId())&&(c.annotationId=d.getAnnotationId()),e._requestAnnotationSave(c,function(c){var d=e._getFileItem(c.fileId);d&&d.setAnnotationId(c.annotationId),f.shift(),f.length>0?b():a.UI.message("주석 정보가 저장되었습니다.")})}}for(var c=this._viewer.pageList,d=c.length,e=this,f=[],g=0;g<d;g++){var h=c[g];if(h){var i=h.getAnnotation();if(i){var j=h.getImageFile();if(j){var k=this._getFileItem(j.getFileId()),l={fileId:j.getFileId(),annotationId:k.getAnnotationId(),annotation:i.itemsToJSON(),pageNo:j.getPageNo()},m=!1;(r.isNotEmpty(k.getAnnotationId())||i&&i.getItem().length>0)&&(m=!0),m&&f.push(l)}}}}b()},z.annotationToJSON=function(){for(var a=this._viewer.pageList,b=a.length,c=[],d=0;d<b;d++){var e=a[d];if(e){var f=e.getAnnotation();f&&c.push(f.itemsToJSON())}}return c},z._requestAnnotationSave=function(a,b){this.serviceManager.requestAnnotationSave(a,b,function(a){})},z.cropImage=function(a){return this.currentPage()?this.currentPage().cropImage(a):""},z.getPages=function(){for(var a=this._viewer.pageList,b=a.length,c=[],d=0;d<b;d++){var e=a[d];e&&c.push(e)}return c},z.setAnnotationConfig=function(b){return a.setting({annotationConfig:b}),this},z._chanteItemStatus=function(){},z.itemFilter=function(b){for(var c,d,e,f={},g=0,h=this._items.length;g<h;g++)c=this._items[g],d=!0,r.isNotEmpty(b.itemId)&&c.getItemId()!==b.itemId&&(d=!1),r.isNotEmpty(b.docFormCode)&&c.getDocFormCode()!==b.docFormCode&&(d=!1),c.enable(d),this._layer.thumbnailLayer&&(d?this._layer.thumbnailLayer.show(c.getItemId()):this._layer.thumbnailLayer.hide(c.getItemId()),this._layer.thumbnailLayer.refresh()),c.enable()&&(f[c.getItemId()]=c.enable()),d&&void 0===e&&(e=c);this._filterPageItems=[],this._filterPageIdx=0;for(var i in this._pageItems){var j=this._pageItems[i];f[j.fileId]&&this._filterPageItems.push(j)}e&&(this._currentItem=e,this.movePageByItem(e.getItemId())),void 0===e&&(a.UI.alert("검색 조건에 해당하는 파일이 없습니다."),this.movePage(-1))},z.getFilterIndexByPageNo=function(a){var b=-1;for(var c in this._filterPageItems)if(this._filterPageItems[c].pageNo===a){b=r.toInt(c);break}return b},z.refresh=function(){this._resizeByType(this._viewerType)},z.scrollToAnnotation=function(a){this._viewer.scrollToAnnotation(a)},a.Controller=y,a.Controller.prototype.constructor=y.prototype,a.Controller}),function(a){var b,c,d="0.4.2",e="hasOwnProperty",f=/[\.\/]/,g=/\s*,\s*/,h="*",i=function(a,b){return a-b},j={n:{}},k=function(){for(var a=0,b=this.length;a<b;a++)if(void 0!==this[a])return this[a]},l=function(){for(var a=this.length;--a;)if(void 0!==this[a])return this[a]},m=function(a,d){a=String(a);var e,f=c,g=Array.prototype.slice.call(arguments,2),h=m.listeners(a),j=0,n=[],o={},p=[],q=b;p.firstDefined=k,p.lastDefined=l,b=a,c=0;for(var r=0,s=h.length;r<s;r++)"zIndex"in h[r]&&(n.push(h[r].zIndex),h[r].zIndex<0&&(o[h[r].zIndex]=h[r]));for(n.sort(i);n[j]<0;)if(e=o[n[j++]],p.push(e.apply(d,g)),c)return c=f,p;for(r=0;r<s;r++)if("zIndex"in(e=h[r]))if(e.zIndex==n[j]){if(p.push(e.apply(d,g)),c)break;do{if(j++,e=o[n[j]],e&&p.push(e.apply(d,g)),c)break}while(e)}else o[e.zIndex]=e;else if(p.push(e.apply(d,g)),c)break;return c=f,b=q,p};m._events=j,m.listeners=function(a){var b,c,d,e,g,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,g=m.length;e<g;e++){for(l=[],i=0,k=o.length;i<k;i++)for(n=o[i].n,c=[n[m[e]],n[h]],d=2;d--;)(b=c[d])&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},m.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(g),d=0,e=c.length;d<e;d++)!function(a){for(var c,d=a.split(f),e=j,g=0,h=d.length;g<h;g++)e=e.n,e=e.hasOwnProperty(d[g])&&e[d[g]]||(e[d[g]]={n:{}});for(e.f=e.f||[],g=0,h=e.f.length;g<h;g++)if(e.f[g]==b){c=!0;break}!c&&e.f.push(b)}(c[d]);return function(a){+a==+a&&(b.zIndex=+a)}},m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},m.stop=function(){c=1},m.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},m.nts=function(){return b.split(f)},m.off=m.unbind=function(a,b){if(!a)return void(m._events=j={n:{}});var c=a.split(g);if(c.length>1)for(var d=0,i=c.length;d<i;d++)m.off(c[d],b);else{c=a.split(f);var k,l,n,d,i,o,p,q=[j];for(d=0,i=c.length;d<i;d++)for(o=0;o<q.length;o+=n.length-2){if(n=[o,1],k=q[o].n,c[d]!=h)k[c[d]]&&n.push(k[c[d]]);else for(l in k)k[e](l)&&n.push(k[l]);q.splice.apply(q,n)}for(d=0,i=q.length;d<i;d++)for(k=q[d];k.n;){if(b){if(k.f){for(o=0,p=k.f.length;o<p;o++)if(k.f[o]==b){k.f.splice(o,1);break}!k.f.length&&delete k.f}for(l in k.n)if(k.n[e](l)&&k.n[l].f){var r=k.n[l].f;for(o=0,p=r.length;o<p;o++)if(r[o]==b){r.splice(o,1);break}!r.length&&delete k.n[l].f}}else{delete k.f;for(l in k.n)k.n[e](l)&&k.n[l].f&&delete k.n[l].f}k=k.n}}},m.once=function(a,b){var c=function(){return m.unbind(a,c),b.apply(this,arguments)};return m.on(a,c)},m.version=d,m.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd?define("eve",[],function(){return m}):a.eve=m}(this),function(a,b){if("function"==typeof define&&define.amd)define(["eve"],function(c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("eve");module.exports=b(a,c)}else b(a,a.eve)}(window||this,function(a,b){var c=function(b){var c={},d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},e=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},f=0,g="M"+(+new Date).toString(36),h=function(){return g+(f++).toString(36)},i=Date.now||function(){return+new Date},j=function(a){var b=this;if(null==a)return b.s;var c=b.s-a;b.b+=b.dur*c,b.B+=b.dur*c,b.s=a},k=function(a){var b=this;if(null==a)return b.spd;b.spd=a},l=function(a){var b=this;if(null==a)return b.dur;b.s=b.s*a/b.dur,b.dur=a},m=function(){var a=this;delete c[a.id],a.update(),b("mina.stop."+a.id,a)},n=function(){var a=this;a.pdif||(delete c[a.id],a.update(),a.pdif=a.get()-a.b)},o=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,c[a.id]=a)},p=function(){var a,b=this;if(e(b.start)){a=[];for(var c=0,d=b.start.length;c<d;c++)a[c]=+b.start[c]+(b.end[c]-b.start[c])*b.easing(b.s)}else a=+b.start+(b.end-b.start)*b.easing(b.s);b.set(a)},q=function(){var a=0;for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],g=f.get();a++,f.s=(g-f.b)/(f.dur/f.spd),f.s>=1&&(delete c[e],f.s=1,a--,function(a){setTimeout(function(){b("mina.finish."+a.id,a)})}(f)),f.update()}a&&d(q)},r=function(a,b,e,f,g,i,s){var t={id:h(),start:a,end:b,b:e,s:0,dur:f-e,spd:1,get:g,set:i,easing:s||r.linear,status:j,speed:k,duration:l,stop:m,pause:n,resume:o,update:p};c[t.id]=t;var u,v=0;for(u in c)if(c.hasOwnProperty(u)&&2==++v)break;return 1==v&&d(q),t};return r.time=i,r.getById=function(a){return c[a]||null},r.linear=function(a){return a},r.easeout=function(a){return Math.pow(a,1.7)},r.easein=function(a){return Math.pow(a,.48)},r.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(d<0?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(f<0?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},r.backin=function(a){if(1==a)return 1;var b=1.70158;return a*a*((b+1)*a-b)},r.backout=function(a){if(0==a)return 0;a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},r.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin((a-.075)*(2*Math.PI)/.3)+1},r.bounce=function(a){var b,c=7.5625,d=2.75;return a<1/d?b=c*a*a:a<2/d?(a-=1.5/d,b=c*a*a+.75):a<2.5/d?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b},a.mina=r,r}(void 0===b?function(){}:b),d=function(a){function c(a,b){if(a){if(a.nodeType)return w(a);if(e(a,"array")&&c.set)return c.set.apply(c,a);if(a instanceof s)return a;if(null==b)return a=y.doc.querySelector(String(a)),w(a)}return a=null==a?"100%":a,b=null==b?"100%":b,new v(a,b)}function d(a,b){if(b){if("#text"==a&&(a=y.doc.createTextNode(b.text||b["#text"]||"")),"#comment"==a&&(a=y.doc.createComment(b.text||b["#text"]||"")),"string"==typeof a&&(a=d(a)),"string"==typeof b)return 1==a.nodeType?"xlink:"==b.substring(0,6)?a.getAttributeNS(T,b.substring(6)):"xml:"==b.substring(0,4)?a.getAttributeNS(U,b.substring(4)):a.getAttribute(b):"text"==b?a.nodeValue:null;if(1==a.nodeType){for(var c in b)if(b[z](c)){var e=A(b[c]);e?"xlink:"==c.substring(0,6)?a.setAttributeNS(T,c.substring(6),e):"xml:"==c.substring(0,4)?a.setAttributeNS(U,c.substring(4),e):a.setAttribute(c,e):a.removeAttribute(c)}}else"text"in b&&(a.nodeValue=b.text)}else a=y.doc.createElementNS(U,a);return a}function e(a,b){return b=A.prototype.toLowerCase.call(b),"finite"==b?isFinite(a):!("array"!=b||!(a instanceof Array||Array.isArray&&Array.isArray(a)))||("null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||J.call(a).slice(8,-1).toLowerCase()==b)}function f(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[z](c)&&(b[c]=f(a[c]));return b}function h(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function i(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},i=d.count=d.count||[];return g[z](f)?(h(i,f),c?c(g[f]):g[f]):(i.length>=1e3&&delete g[i.shift()],i.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function j(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*D.atan2(-h,-g)/H+360)%360:0}return j(a,b,e,f)-j(c,d,e,f)}function k(a){return a%360*H/180}function l(a){return 180*a/H%360}function m(a){var b=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){return d=d.split(/\s*,\s*|\s+/),"rotate"==c&&1==d.length&&d.push(0,0),"scale"==c&&(d.length>2?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0)),"skewX"==c?b.push(["m",1,0,D.tan(k(d[0])),1,0,0]):"skewY"==c?b.push(["m",1,D.tan(k(d[0])),0,1,0,0]):b.push([c.charAt(0)].concat(d)),a}),b}function n(a,b){var d=aa(a),e=new c.Matrix;if(d)for(var f=0,g=d.length;f<g;f++){var h,i,j,k,l,m=d[f],n=m.length,o=A(m[0]).toLowerCase(),p=m[0]!=o,q=p?e.invert():0;"t"==o&&2==n?e.translate(m[1],0):"t"==o&&3==n?p?(h=q.x(0,0),i=q.y(0,0),j=q.x(m[1],m[2]),k=q.y(m[1],m[2]),e.translate(j-h,k-i)):e.translate(m[1],m[2]):"r"==o?2==n?(l=l||b,e.rotate(m[1],l.x+l.width/2,l.y+l.height/2)):4==n&&(p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.rotate(m[1],j,k)):e.rotate(m[1],m[2],m[3])):"s"==o?2==n||3==n?(l=l||b,e.scale(m[1],m[n-1],l.x+l.width/2,l.y+l.height/2)):4==n?p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.scale(m[1],m[1],j,k)):e.scale(m[1],m[1],m[2],m[3]):5==n&&(p?(j=q.x(m[3],m[4]),k=q.y(m[3],m[4]),e.scale(m[1],m[2],j,k)):e.scale(m[1],m[2],m[3],m[4])):"m"==o&&7==n&&e.add(m[1],m[2],m[3],m[4],m[5],m[6])}return e}function o(a){var b=a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||a.node.parentNode&&w(a.node.parentNode)||c.select("svg")||c(0,0),d=b.select("defs"),e=null!=d&&d.node;return e||(e=u("defs",b.node).node),e}function p(a){return a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||c.select("svg")}function q(a,b,c){function e(a){if(null==a)return I;if(a==+a)return a;d(j,{width:a});try{return j.getBBox().width}catch(b){return 0}}function f(a){if(null==a)return I;if(a==+a)return a;d(j,{height:a});try{return j.getBBox().height}catch(b){return 0}}function g(d,e){null==b?i[d]=e(a.attr(d)||0):d==b&&(i=e(null==c?a.attr(d)||0:c))}var h=p(a).node,i={},j=h.querySelector(".svg---mgr");switch(j||(j=d("rect"),d(j,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),h.appendChild(j)),a.type){case"rect":g("rx",e),g("ry",f);case"image":g("width",e),g("height",f);case"text":g("x",e),g("y",f);break;case"circle":g("cx",e),g("cy",f),g("r",e);break;case"ellipse":g("cx",e),g("cy",f),g("rx",e),g("ry",f);break;case"line":g("x1",e),g("x2",e),g("y1",f),g("y2",f);break;case"marker":g("refX",e),g("markerWidth",e),g("refY",f),g("markerHeight",f);break;case"radialGradient":g("fx",e),g("fy",f);break;case"tspan":g("dx",e),g("dy",f);break;default:g(b,e)}return h.removeChild(j),i}function r(a){e(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);var f=d.childNodes;for(b=0;b<f.length;b++)this[c++]=w(f[b]);return this}function s(a){if(a.snap in V)return V[a.snap];var b;try{b=a.ownerSVGElement}catch(e){}this.node=a,b&&(this.paper=new v(b)),this.type=a.tagName||a.nodeName;var c=this.id=S(this);if(this.anims={},this._={transform:[]},a.snap=c,V[c]=this,"g"==this.type&&(this.add=r),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var d in v.prototype)v.prototype[z](d)&&(this[d]=v.prototype[d])}function t(a){this.node=a}function u(a,b){var c=d(a);return b.appendChild(c),w(c)}function v(a,b){var c,e,f,g=v.prototype;if(a&&"svg"==a.tagName){if(a.snap in V)return V[a.snap];var h=a.ownerDocument;c=new s(a),e=a.getElementsByTagName("desc")[0],f=a.getElementsByTagName("defs")[0],e||(e=d("desc"),e.appendChild(h.createTextNode("Created with Snap")),c.node.appendChild(e)),f||(f=d("defs"),c.node.appendChild(f)),c.defs=f;for(var i in g)g[z](i)&&(c[i]=g[i]);c.paper=c.root=c}else c=u("svg",y.doc.body),d(c.node,{height:b,version:1.1,width:a,xmlns:U});return c}function w(a){return a?a instanceof s||a instanceof t?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new v(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new v(a.contentDocument.getElementsByTagName("svg")[0]):new s(a):a}function x(a,b){for(var c=0,d=a.length;c<d;c++){var e={type:a[c].type,attr:a[c].attr()},f=a[c].children();b.push(e),f.length&&x(f,e.childNodes=[])}}c.version="0.4.0",c.toString=function(){return"Snap v"+this.version},c._={};var y={win:a.window,doc:a.window.document};c._.glob=y;var z="hasOwnProperty",A=String,B=parseFloat,C=parseInt,D=Math,E=D.max,F=D.min,G=D.abs,H=(D.pow,D.PI),I=(D.round,""),J=Object.prototype.toString,K=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,L=(c._.separator=/[,\s]+/,/[\s]*,[\s]*/),M={hs:1,rg:1},N=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,O=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,P=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,Q=0,R="S"+(+new Date).toString(36),S=function(a){return(a&&a.type?a.type:I)+R+(Q++).toString(36)},T="http://www.w3.org/1999/xlink",U="http://www.w3.org/2000/svg",V={};c.url=function(a){return"url('#"+a+"')"};c._.$=d,c._.id=S,c.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return A(b).replace(a,function(a,b){return c(a,b,d)})}}(),c._.clone=f,c._.cacher=i,c.rad=k,c.deg=l,c.sin=function(a){return D.sin(c.rad(a))},c.tan=function(a){return D.tan(c.rad(a))},c.cos=function(a){return D.cos(c.rad(a))},c.asin=function(a){return c.deg(D.asin(a))},c.acos=function(a){return c.deg(D.acos(a))},c.atan=function(a){return c.deg(D.atan(a))},c.atan2=function(a){return c.deg(D.atan2(a))},c.angle=j,c.len=function(a,b,d,e){return Math.sqrt(c.len2(a,b,d,e))},c.len2=function(a,b,c,d){return(a-c)*(a-c)+(b-d)*(b-d)},c.closestPoint=function(a,b,c){function d(a){var d=a.x-b,e=a.y-c;return d*d+e*e}for(var e,f,g,h,i=a.node,j=i.getTotalLength(),k=j/i.pathSegList.numberOfItems*.125,l=1/0,m=0;m<=j;m+=k)(h=d(g=i.getPointAtLength(m)))<l&&(e=g,f=m,l=h);for(k*=.5;k>.5;){var n,o,p,q,r,s;(p=f-k)>=0&&(r=d(n=i.getPointAtLength(p)))<l?(e=n,f=p,l=r):(q=f+k)<=j&&(s=d(o=i.getPointAtLength(q)))<l?(e=o,f=q,l=s):k*=.5}return e={x:e.x,y:e.y,length:f,distance:Math.sqrt(l)}},c.is=e,c.snapTo=function(a,b,c){if(c=e(c,"finite")?c:10,e(a,"array")){for(var d=a.length;d--;)if(G(a[d]-b)<=c)return a[d]}else{a=+a;var f=b%a;if(f<c)return b-f;if(f>a-c)return b-f+a}return b},c.getRGB=i(function(a){if(!a||(a=A(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:Z};if(!(M[z](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=W(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};var b,d,f,g,h,i,j=a.match(K);return j?(j[2]&&(f=C(j[2].substring(5),16),d=C(j[2].substring(3,5),16),b=C(j[2].substring(1,3),16)),j[3]&&(f=C((h=j[3].charAt(3))+h,16),d=C((h=j[3].charAt(2))+h,16),b=C((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=B(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),f=B(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=B(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=B(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsb2rgb(b,d,f,g)):j[6]?(i=j[6].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=B(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=B(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsl2rgb(b,d,f,g)):(b=F(D.round(b),255),d=F(D.round(d),255),f=F(D.round(f),255),g=F(E(g,0),1),j={r:b,g:d,b:f,toString:Z},j.hex="#"+(16777216|f|d<<8|b<<16).toString(16).slice(1),j.opacity=e(g,"finite")?g:1,j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z}},c),c.hsb=i(function(a,b,d){return c.hsb2rgb(a,b,d).hex}),c.hsl=i(function(a,b,d){return c.hsl2rgb(a,b,d).hex}),c.rgb=i(function(a,b,c,d){if(e(d,"finite")){var f=D.round;return"rgba("+[f(a),f(b),f(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var W=function(a){var b=y.doc.getElementsByTagName("head")[0]||y.doc.getElementsByTagName("svg")[0],c="rgb(255, 0, 0)";return(W=i(function(a){if("red"==a.toLowerCase())return c;b.style.color=c,b.style.color=a;var d=y.doc.defaultView.getComputedStyle(b,I).getPropertyValue("color");return d==c?null:d}))(a)},X=function(){return"hsb("+[this.h,this.s,this.b]+")"},Y=function(){return"hsl("+[this.h,this.s,this.l]+")"},Z=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},$=function(a,b,d){if(null==b&&e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r),null==b&&e(a,string)){var f=c.getRGB(a);a=f.r,b=f.g,d=f.b}return(a>1||b>1||d>1)&&(a/=255,b/=255,d/=255),[a,b,d]},_=function(a,b,d,f){a=D.round(255*a),b=D.round(255*b),d=D.round(255*d);var g={r:a,g:b,b:d,opacity:e(f,"finite")?f:1,hex:c.rgb(a,b,d),toString:Z};return e(f,"finite")&&(g.opacity=f),g};c.color=function(a){var b;return e(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=c.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):e(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=c.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):(e(a,"string")&&(a=c.getRGB(a)),e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(b=c.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=c.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=Z,a},c.hsb2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,d=a.o,a=a.h),a*=360;var f,g,h,i,j;return a=a%360/60,j=c*b,i=j*(1-G(a%2-1)),f=g=h=c-j,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],_(f,g,h,d)},c.hsl2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var f,g,h,i,j;return a=a%360/60,j=2*b*(c<.5?c:1-c),i=j*(1-G(a%2-1)),f=g=h=c-j/2,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],_(f,g,h,d)},c.rgb2hsb=function(a,b,c){c=$(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=E(a,b,c),g=f-F(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:X}},c.rgb2hsl=function(a,b,c){c=$(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=E(a,b,c),h=F(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:f<.5?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:Y}},c.parsePathString=function(a){if(!a)return null;var b=c.path(a);if(b.arr)return c.path.clone(b.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];return e(a,"array")&&e(a[0],"array")&&(f=c.path.clone(a)),f.length||A(a).replace(N,function(a,b,c){var e=[],g=b.toLowerCase();if(c.replace(P,function(a,b){b&&e.push(+b)}),"m"==g&&e.length>2&&(f.push([b].concat(e.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==e.length&&f.push([b,e[0]]),"r"==g)f.push([b].concat(e));else for(;e.length>=d[g]&&(f.push([b].concat(e.splice(0,d[g]))),d[g]););}),f.toString=c.path.toString,b.arr=c.path.clone(f),f};var aa=c.parseTransformString=function(a){if(!a)return null;var b=[];return e(a,"array")&&e(a[0],"array")&&(b=c.path.clone(a)),b.length||A(a).replace(O,function(a,c,d){var e=[];c.toLowerCase();d.replace(P,function(a,b){b&&e.push(+b)}),b.push([c].concat(e))}),b.toString=c.path.toString,b};c._.svgTransform2string=m,c._.rgTransform=/^[a-z][\s]*-?\.?\d/i,c._.transform2matrix=n,c._unit2px=q;y.doc.contains||y.doc.compareDocumentPosition;c._.getSomeDefs=o,c._.getSomeSVG=p,c.select=function(a){return a=A(a).replace(/([^\\]):/g,"$1\\:"),w(y.doc.querySelector(a))},c.selectAll=function(a){for(var b=y.doc.querySelectorAll(a),d=(c.set||Array)(),e=0;e<b.length;e++)d.push(w(b[e]));return d},setInterval(function(){for(var a in V)if(V[z](a)){var b=V[a],c=b.node;("svg"!=b.type&&!c.ownerSVGElement||"svg"==b.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete V[a]}},1e4),s.prototype.attr=function(a,c){var d=this,f=d.node;if(!a){if(1!=f.nodeType)return{text:f.nodeValue};for(var g=f.attributes,h={},i=0,j=g.length;i<j;i++)h[g[i].nodeName]=g[i].nodeValue;return h}if(e(a,"string")){if(!(arguments.length>1))return b("snap.util.getattr."+a,d).firstDefined();var k={};k[a]=c,a=k}for(var l in a)a[z](l)&&b("snap.util.attr."+l,d,a[l]);return d},c.parse=function(a){var b=y.doc.createDocumentFragment(),c=!0,d=y.doc.createElement("div");if(a=A(a),a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1),d.innerHTML=a,a=d.getElementsByTagName("svg")[0])if(c)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);return new t(b)},c.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),b=y.doc.createDocumentFragment(),d=0,e=a.length;d<e;d++){var f=a[d];f.node&&f.node.nodeType&&b.appendChild(f.node),f.nodeType&&b.appendChild(f),"string"==typeof f&&b.appendChild(c.parse(f).node)}return new t(b)},c._.make=u,c._.wrap=w,v.prototype.el=function(a,b){var c=u(a,this.node);return b&&c.attr(b),c},s.prototype.children=function(){for(var a=[],b=this.node.childNodes,d=0,e=b.length;d<e;d++)a[d]=c(b[d]);return a},s.prototype.toJSON=function(){var a=[];return x([this],a),a[0]},b.on("snap.util.getattr",function(){var a=b.nt();a=a.substring(a.lastIndexOf(".")+1);var c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return ba[z](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):d(this.node,a)});var ba={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};b.on("snap.util.attr",function(a){var c=b.nt(),e={};c=c.substring(c.lastIndexOf(".")+1),e[c]=a;var f=c.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),g=c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});ba[z](g)?this.node.style[f]=null==a?I:a:d(this.node,e)}),v.prototype,c.ajax=function(a,c,d,f){var g=new XMLHttpRequest,h=S();if(g){if(e(c,"function"))f=d,d=c,c=null;else if(e(c,"object")){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(encodeURIComponent(j)+"="+encodeURIComponent(c[j]));c=i.join("&")}return g.open(c?"POST":"GET",a,!0),(c&&(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.setRequestHeader("Content-type","application/x-www-form-urlencoded")),d&&(b.once("snap.ajax."+h+".0",d),b.once("snap.ajax."+h+".200",d),b.once("snap.ajax."+h+".304",d)),g.onreadystatechange=function(){4==g.readyState&&b("snap.ajax."+h+"."+g.status,f,g)},4==g.readyState)?g:(g.send(c),g)}},c.load=function(a,b,d){c.ajax(a,function(a){var e=c.parse(a.responseText);d?b.call(d,e):b(e)})};var ca=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,h=e.clientLeft||d.clientLeft||0;return{y:b.top+(g.win.pageYOffset||e.scrollTop||d.scrollTop)-f,x:b.left+(g.win.pageXOffset||e.scrollLeft||d.scrollLeft)-h}};return c.getElementByPoint=function(a,b){var c=this,d=(c.canvas,y.doc.elementFromPoint(a,b));if(y.win.opera&&"svg"==d.tagName){var e=ca(d),f=d.createSVGRect();f.x=a-e.x,f.y=b-e.y,f.width=f.height=1;var g=d.getIntersectionList(f,null);g.length&&(d=g[g.length-1])}return d?w(d):null},c.plugin=function(a){a(c,s,v,y,t)},y.win.Snap=c,c}(a||this);return d.plugin(function(d,e,f,g,h){function i(a,b){if(null==b){var c=!0;if(!(b="linearGradient"==a.type||"radialGradient"==a.type?a.node.getAttribute("gradientTransform"):"pattern"==a.type?a.node.getAttribute("patternTransform"):a.node.getAttribute("transform")))return new d.Matrix;b=d._.svgTransform2string(b)}else b=d._.rgTransform.test(b)?o(b).replace(/\.{3}|\u2026/g,a._.transform||""):d._.svgTransform2string(b),n(b,"array")&&(b=d.path?d.path.toString.call(b):o(b)),a._.transform=b;var e=d._.transform2matrix(b,a.getBBox(1));if(c)return e;a.matrix=e}function j(a){function b(a,b){var c=q(a.node,b);c=c&&c.match(f),(c=c&&c[2])&&"#"==c.charAt()&&(c=c.substring(1))&&(h[c]=(h[c]||[]).concat(function(c){var d={};d[b]=URL(c),q(a.node,d)}))}function c(a){var b=q(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1))&&(h[b]=(h[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)}))}for(var d,e=a.selectAll("*"),f=/^\s*url\(("|'|)(.*)\1\)\s*$/,g=[],h={},i=0,j=e.length;i<j;i++){d=e[i],b(d,"fill"),b(d,"stroke"),b(d,"filter"),b(d,"mask"),b(d,"clip-path"),c(d);var k=q(d.node,"id");k&&(q(d.node,{id:d.id}),g.push({old:k,id:d.id}))}for(i=0,j=g.length;i<j;i++){var l=h[g[i].old];if(l)for(var m=0,n=l.length;m<n;m++)l[m](g[i].id)}}function k(a,b,c){return function(d){var e=d.slice(a,b);return 1==e.length&&(e=e[0]),c?c(e):e}}function l(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;e<f;e++)b+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){for(a&&(b+=">"),e=0,f=d.length;e<f;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=u(d[e]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}var m=e.prototype,n=d.is,o=String,p=d._unit2px,q=d._.$,r=d._.make,s=d._.getSomeDefs,t="hasOwnProperty",u=d._.wrap;m.getBBox=function(a){if(!d.Matrix||!d.path)return this.node.getBBox();var b=this,c=new d.Matrix;if(b.removed)return d._.box();for(;"use"==b.type;)if(a||(c=c.add(b.transform().localMatrix.translate(b.attr("x")||0,b.attr("y")||0))),b.original)b=b.original;else{var e=b.attr("xlink:href");b=b.original=b.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1))}var f=b._,g=d.path.get[b.type]||d.path.get.deflt;try{return a?(f.bboxwt=g?d.path.getBBox(b.realPath=g(b)):d._.box(b.node.getBBox()),d._.box(f.bboxwt)):(b.realPath=g(b),b.matrix=b.transform().localMatrix,f.bbox=d.path.getBBox(d.path.map(b.realPath,c.add(b.matrix))),d._.box(f.bbox))}catch(h){return d._.box()}};var v=function(){return this.string};m.transform=function(a){var b=this._;if(null==a){for(var c,e=this,f=new d.Matrix(this.node.getCTM()),g=i(this),h=[g],j=new d.Matrix,k=g.toTransformString(),l=o(g)==o(this.matrix)?o(b.transform):k;"svg"!=e.type&&(e=e.parent());)h.push(i(e));for(c=h.length;c--;)j.add(h[c]);return{string:l,globalMatrix:f,totalMatrix:j,localMatrix:g,diffMatrix:f.clone().add(g.invert()),global:f.toTransformString(),total:j.toTransformString(),local:k,toString:v}}return a instanceof d.Matrix?(this.matrix=a,this._.transform=a.toTransformString()):i(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?q(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?q(this.node,{patternTransform:this.matrix}):q(this.node,{transform:this.matrix})),this},m.parent=function(){return u(this.node.parentNode)},m.append=m.add=function(a){if(a){if("set"==a.type){var b=this;return a.forEach(function(a){b.add(a)}),this}a=u(a),this.node.appendChild(a.node),a.paper=this.paper}return this},m.appendTo=function(a){return a&&(a=u(a),a.append(this)),this},m.prepend=function(a){if(a){if("set"==a.type){var b,c=this;return a.forEach(function(a){b?b.after(a):c.prepend(a),b=a}),this}a=u(a);var d=a.parent();this.node.insertBefore(a.node,this.node.firstChild),this.add&&this.add(),a.paper=this.paper,this.parent()&&this.parent().add(),d&&d.add()}return this},m.prependTo=function(a){return a=u(a),a.prepend(this),this},m.before=function(a){if("set"==a.type){var b=this;return a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node),c&&c.add()}),this.parent().add(),this}a=u(a);var c=a.parent();return this.node.parentNode.insertBefore(a.node,this.node),this.parent()&&this.parent().add(),c&&c.add(),a.paper=this.paper,this},m.after=function(a){a=u(a);var b=a.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node),this.parent()&&this.parent().add(),b&&b.add(),a.paper=this.paper,this},m.insertBefore=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.insertAfter=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.remove=function(){var a=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,a&&a.add(),this},m.select=function(a){return u(this.node.querySelector(a))},m.selectAll=function(a){for(var b=this.node.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(u(b[e]));return c},m.asPX=function(a,b){return null==b&&(b=this.attr(a)),+p(this,a,b)},m.use=function(){var a,b=this.node.id;return b||(b=this.id,q(this.node,{id:b})),
a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?r(this.type,this.node.parentNode):r("use",this.node.parentNode),q(a.node,{"xlink:href":"#"+b}),a.original=this,a},m.clone=function(){var a=u(this.node.cloneNode(!0));return q(a.node,"id")&&q(a.node,{id:a.id}),j(a),a.insertAfter(this),a},m.toDefs=function(){return s(this).appendChild(this.node),this},m.pattern=m.toPattern=function(a,b,c,d){var e=r("pattern",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x),q(e.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:e.id,viewBox:[a,b,c,d].join(" ")}),e.node.appendChild(this.node),e},m.marker=function(a,b,c,d,e,f){var g=r("marker",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,e=a.refX||a.cx,f=a.refY||a.cy,a=a.x),q(g.node,{viewBox:[a,b,c,d].join(" "),markerWidth:c,markerHeight:d,orient:"auto",refX:e||0,refY:f||0,id:g.id}),g.node.appendChild(this.node),g};var w=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=c.linear),this.attr=a,this.dur=b,d&&(this.easing=d),e&&(this.callback=e)};d._.Animation=w,d.animation=function(a,b,c,d){return new w(a,b,c,d)},m.inAnim=function(){var a=this,b=[];for(var c in a.anims)a.anims[t](c)&&function(a){b.push({anim:new w(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(a.anims[c]);return b},d.animate=function(a,d,e,f,g,h){"function"!=typeof g||g.length||(h=g,g=c.linear);var i=c.time(),j=c(a,d,i,i+f,c.time,e,g);return h&&b.once("mina.finish."+j.id,h),j},m.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;b<c;b++)a[b].stop();return this},m.animate=function(a,d,e,f){"function"!=typeof e||e.length||(f=e,e=c.linear),a instanceof w&&(f=a.callback,e=a.easing,d=a.dur,a=a.attr);var g,h,i,j,l=[],m=[],p={},q=this;for(var r in a)if(a[t](r)){q.equal?(j=q.equal(r,o(a[r])),g=j.from,h=j.to,i=j.f):(g=+q.attr(r),h=+a[r]);var s=n(g,"array")?g.length:1;p[r]=k(l.length,l.length+s,i),l=l.concat(g),m=m.concat(h)}var u=c.time(),v=c(l,m,u,u+d,c.time,function(a){var b={};for(var c in p)p[t](c)&&(b[c]=p[c](a));q.attr(b)},e);return q.anims[v.id]=v,v._attrs=a,v._callback=f,b("snap.animcreated."+q.id,v),b.once("mina.finish."+v.id,function(){delete q.anims[v.id],f&&f.call(q)}),b.once("mina.stop."+v.id,function(){delete q.anims[v.id]}),q};var x={};m.data=function(a,c){var e=x[this.id]=x[this.id]||{};if(0==arguments.length)return b("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(d.is(a,"object")){for(var f in a)a[t](f)&&this.data(f,a[f]);return this}return b("snap.data.get."+this.id,this,e[a],a),e[a]}return e[a]=c,b("snap.data.set."+this.id,this,c,a),this},m.removeData=function(a){return null==a?x[this.id]={}:x[this.id]&&delete x[this.id][a],this},m.outerSVG=m.toString=l(1),m.innerSVG=l(),m.toDataURL=function(){if(a&&a.btoa){var b=this.getBBox(),c=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}},h.prototype.select=m.select,h.prototype.selectAll=m.selectAll}),d.plugin(function(a,b,c,d,e){function f(a,b,c,d,e,f){if(null==b&&"[object SVGMatrix]"==g.call(a))return this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,void(this.f=a.f);null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}var g=Object.prototype.toString,h=String,i=Math,j="";!function(b){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=i.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}b.add=function(a,b,c,d,e,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,e],[b,d,g],[0,0,1]];for(a&&a instanceof f&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;h<3;h++)for(i=0;i<3;i++){for(k=0,j=0;j<3;j++)k+=m[h][j]*n[j][i];l[h][i]=k}return this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2],this},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new f(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){return this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){return null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d),this},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+i.cos(b).toFixed(9),f=+i.sin(b).toFixed(9);return this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[h.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.determinant=function(){return this.a*this.d-this.b*this.c},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=i.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=i.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley,this.determinant()<0&&(b.scalex=-b.scalex);var f=-e[0][1],g=e[1][1];return g<0?(b.rotate=a.deg(i.acos(g)),f<0&&(b.rotate=360-b.rotate)):b.rotate=a.deg(i.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this.split();return+b.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[+b.dx.toFixed(4),+b.dy.toFixed(4)]:j)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:j)+(b.rotate?"r"+[+b.rotate.toFixed(4),0,0]:j))}}(f.prototype),a.Matrix=f,a.matrix=function(a,b,c,d,e,g){return new f(a,b,c,d,e,g)}}),d.plugin(function(a,c,d,e,f){function g(d){return function(e){if(b.stop(),e instanceof f&&1==e.node.childNodes.length&&("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,n(this).appendChild(e),e=l(e)),e instanceof c)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||p(e.node,{id:e.id});var g=q(e.node.id)}else g=e.attr(d);else if(g=a.color(e),g.error){var h=a(n(this).ownerSVGElement).gradient(e);h?(h.node.id||p(h.node,{id:h.id}),g=q(h.node.id)):g=e}else g=r(g);var i={};i[d]=g,p(this.node,i),this.node.style[d]=t}}function h(a){b.stop(),a==+a&&(a+="px"),this.node.style.fontSize=a}function i(a){for(var b=[],c=a.childNodes,d=0,e=c.length;d<e;d++){var f=c[d];3==f.nodeType&&b.push(f.nodeValue),"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?b.push(f.firstChild.nodeValue):b.push(i(f)))}return b}function j(){return b.stop(),this.node.style.fontSize}var k=a._.make,l=a._.wrap,m=a.is,n=a._.getSomeDefs,o=/^url\(#?([^)]+)\)$/,p=a._.$,q=a.url,r=String,s=a._.separator,t="";b.on("snap.util.attr.mask",function(a){if(a instanceof c||a instanceof f){if(b.stop(),a instanceof f&&1==a.node.childNodes.length&&(a=a.node.firstChild,n(this).appendChild(a),a=l(a)),"mask"==a.type)var d=a;else d=k("mask",n(this)),d.node.appendChild(a.node);!d.node.id&&p(d.node,{id:d.id}),p(this.node,{mask:q(d.id)})}}),function(a){b.on("snap.util.attr.clip",a),b.on("snap.util.attr.clip-path",a),b.on("snap.util.attr.clipPath",a)}(function(a){if(a instanceof c||a instanceof f){if(b.stop(),"clipPath"==a.type)var d=a;else d=k("clipPath",n(this)),d.node.appendChild(a.node),!d.node.id&&p(d.node,{id:d.id});p(this.node,{"clip-path":q(d.node.id||d.id)})}}),b.on("snap.util.attr.fill",g("fill")),b.on("snap.util.attr.stroke",g("stroke"));var u=/^([lr])(?:\(([^)]*)\))?(.*)$/i;b.on("snap.util.grad.parse",function(a){a=r(a);var b=a.match(u);if(!b)return null;var c=b[1],d=b[2],e=b[3];return d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a}),1==d.length&&0==d[0]&&(d=[]),e=e.split("-"),e=e.map(function(a){a=a.split(":");var b={color:a[0]};return a[1]&&(b.offset=parseFloat(a[1])),b}),{type:c,params:d,stops:e}}),b.on("snap.util.attr.d",function(c){b.stop(),m(c,"array")&&m(c[0],"array")&&(c=a.path.toString.call(c)),c=r(c),c.match(/[ruo]/i)&&(c=a.path.toAbsolute(c)),p(this.node,{d:c})})(-1),b.on("snap.util.attr.#text",function(a){b.stop(),a=r(a);for(var c=e.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),b.on("snap.util.attr.path",function(a){b.stop(),this.attr({d:a})})(-1),b.on("snap.util.attr.class",function(a){b.stop(),this.node.className.baseVal=a})(-1),b.on("snap.util.attr.viewBox",function(a){var c;c=m(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):m(a,"array")?a.join(" "):a,p(this.node,{viewBox:c}),b.stop()})(-1),b.on("snap.util.attr.transform",function(a){this.transform(a),b.stop()})(-1),b.on("snap.util.attr.r",function(a){"rect"==this.type&&(b.stop(),p(this.node,{rx:a,ry:a}))})(-1),b.on("snap.util.attr.textpath",function(a){if(b.stop(),"text"==this.type){var d,e,f;if(!a&&this.textPath){for(e=this.textPath;e.node.firstChild;)this.node.appendChild(e.node.firstChild);return e.remove(),void delete this.textPath}if(m(a,"string")){var g=n(this),h=l(g.parentNode).path(a);g.appendChild(h.node),d=h.id,h.attr({id:d})}else(a=l(a))instanceof c&&((d=a.attr("id"))||(d=a.id,a.attr({id:d})));if(d)if(e=this.textPath,f=this.node,e)e.attr({"xlink:href":"#"+d});else{for(e=p("textPath",{"xlink:href":"#"+d});f.firstChild;)e.appendChild(f.firstChild);f.appendChild(e),this.textPath=l(e)}}})(-1),b.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,d=function(a){var b=p("tspan");if(m(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(d(a[c]));else b.appendChild(e.doc.createTextNode(a));return b.normalize&&b.normalize(),b};c.firstChild;)c.removeChild(c.firstChild);for(var f=d(a);f.firstChild;)c.appendChild(f.firstChild)}b.stop()})(-1),b.on("snap.util.attr.fontSize",h)(-1),b.on("snap.util.attr.font-size",h)(-1),b.on("snap.util.getattr.transform",function(){return b.stop(),this.transform()})(-1),b.on("snap.util.getattr.textpath",function(){return b.stop(),this.textPath})(-1),function(){function c(c){return function(){b.stop();var d=e.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==d?d:a(e.doc.getElementById(d.match(o)[1]))}}function d(a){return function(c){b.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)return void(this.node.style[d]="none");if("marker"==c.type){var e=c.node.id;return e||p(c.node,{id:c.id}),void(this.node.style[d]=q(e))}}}b.on("snap.util.getattr.marker-end",c("end"))(-1),b.on("snap.util.getattr.markerEnd",c("end"))(-1),b.on("snap.util.getattr.marker-start",c("start"))(-1),b.on("snap.util.getattr.markerStart",c("start"))(-1),b.on("snap.util.getattr.marker-mid",c("mid"))(-1),b.on("snap.util.getattr.markerMid",c("mid"))(-1),b.on("snap.util.attr.marker-end",d("end"))(-1),b.on("snap.util.attr.markerEnd",d("end"))(-1),b.on("snap.util.attr.marker-start",d("start"))(-1),b.on("snap.util.attr.markerStart",d("start"))(-1),b.on("snap.util.attr.marker-mid",d("mid"))(-1),b.on("snap.util.attr.markerMid",d("mid"))(-1)}(),b.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return b.stop(),p(this.node,"rx")})(-1),b.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){b.stop();var a=i(this.node);return 1==a.length?a[0]:a}})(-1),b.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),b.on("snap.util.getattr.viewBox",function(){b.stop();var c=p(this.node,"viewBox");return c?(c=c.split(s),a._.box(+c[0],+c[1],+c[2],+c[3])):void 0})(-1),b.on("snap.util.getattr.points",function(){var a=p(this.node,"points");return b.stop(),a?a.split(s):void 0})(-1),b.on("snap.util.getattr.path",function(){var a=p(this.node,"d");return b.stop(),a})(-1),b.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),b.on("snap.util.getattr.fontSize",j)(-1),b.on("snap.util.getattr.font-size",j)(-1)}),d.plugin(function(a,b,c,d,e){var f=/\S+/g,g=String,h=b.prototype;h.addClass=function(a){var b,c,d,e=g(a||"").match(f)||[],h=this.node,i=h.className.baseVal,j=i.match(f)||[];if(e.length){for(b=0;c=e[b++];)~j.indexOf(c)||j.push(c);d=j.join(" "),i!=d&&(h.className.baseVal=d)}return this},h.removeClass=function(a){var b,c,d,e,h=g(a||"").match(f)||[],i=this.node,j=i.className.baseVal,k=j.match(f)||[];if(k.length){for(b=0;d=h[b++];)~(c=k.indexOf(d))&&k.splice(c,1);e=k.join(" "),j!=e&&(i.className.baseVal=e)}return this},h.hasClass=function(a){return!!~(this.node.className.baseVal.match(f)||[]).indexOf(a)},h.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var c,d,e,g,h=(a||"").match(f)||[],i=this.node,j=i.className.baseVal,k=j.match(f)||[];for(c=0;e=h[c++];)d=k.indexOf(e),~d?k.splice(d,1):k.push(e);return g=k.join(" "),j!=g&&(i.className.baseVal=g),this}}),d.plugin(function(a,c,d,e,f){function g(a){return a}function h(a){return function(b){return+b.toFixed(3)+a}}var i={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},j=String,k=/[a-z]+$/i,l=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;b.on("snap.util.attr",function(a){var c=j(a).match(l);if(c){var d=b.nt(),e=d.substring(d.lastIndexOf(".")+1),f=this.attr(e),g={};b.stop();var h=c[3]||"",m=f.match(k),n=i[c[1]];if(m&&m==h?a=n(parseFloat(f),+c[2]):(f=this.asPX(e),a=n(this.asPX(e),this.asPX(e,c[2]+h))),isNaN(f)||isNaN(a))return;g[e]=a,this.attr(g)}})(-10),b.on("snap.util.equal",function(a,c){var d=j(this.attr(a)||""),e=j(c).match(l);if(e){b.stop();var f=e[3]||"",m=d.match(k),n=i[e[1]];return m&&m==f?{from:parseFloat(d),to:n(parseFloat(d),+e[2]),f:h(m)}:(d=this.asPX(a),{from:d,to:n(d,this.asPX(a,e[2]+f)),f:g})}})(-10)}),d.plugin(function(c,d,e,f,g){var h=e.prototype,i=c.is;h.rect=function(a,b,c,d,e,f){var g;return null==f&&(f=e),i(a,"object")&&"[object Object]"==a?g=a:null!=a&&(g={x:a,y:b,width:c,height:d},null!=e&&(g.rx=e,g.ry=f)),this.el("rect",g)},h.circle=function(a,b,c){var d;return i(a,"object")&&"[object Object]"==a?d=a:null!=a&&(d={cx:a,cy:b,r:c}),this.el("circle",d)};var j=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=f.doc.createElement("img"),e=f.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,e.removeChild(d)},d.onerror=a,e.appendChild(d),d.src=b}}();h.image=function(a,b,d,e,f){var g=this.el("image");if(i(a,"object")&&"src"in a)g.attr(a);else if(null!=a){var h={"xlink:href":a,preserveAspectRatio:"none"};null!=b&&null!=d&&(h.x=b,h.y=d),null!=e&&null!=f?(h.width=e,h.height=f):j(a,function(){c._.$(g.node,{width:this.offsetWidth,height:this.offsetHeight})}),c._.$(g.node,h)}return g},h.ellipse=function(a,b,c,d){var e;return i(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,rx:c,ry:d}),this.el("ellipse",e)},h.path=function(a){var b;return i(a,"object")&&!i(a,"array")?b=a:a&&(b={d:a}),this.el("path",b)},h.group=h.g=function(a){var b=this.el("g");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},h.svg=function(a,b,c,d,e,f,g,h){var j={};return i(a,"object")&&null==b?j=a:(null!=a&&(j.x=a),null!=b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=g&&null!=h&&(j.viewBox=[e,f,g,h])),this.el("svg",j)},h.mask=function(a){var b=this.el("mask");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},h.ptrn=function(a,b,c,d,e,f,g,h){if(i(a,"object"))var j=a;else j={patternUnits:"userSpaceOnUse"},a&&(j.x=a),b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),j.viewBox=null!=e&&null!=f&&null!=g&&null!=h?[e,f,g,h]:[a||0,b||0,c||0,d||0];return this.el("pattern",j)},h.use=function(a){return null!=a?(a instanceof d&&(a.attr("id")||a.attr({id:c._.id(a)}),a=a.attr("id")),"#"==String(a).charAt()&&(a=a.substring(1)),this.el("use",{"xlink:href":"#"+a})):d.prototype.use.call(this)},h.symbol=function(a,b,c,d){var e={};return null!=a&&null!=b&&null!=c&&null!=d&&(e.viewBox=[a,b,c,d]),this.el("symbol",e)},h.text=function(a,b,c){var d={};return i(a,"object")?d=a:null!=a&&(d={x:a,y:b,text:c||""}),this.el("text",d)},h.line=function(a,b,c,d){var e={};return i(a,"object")?e=a:null!=a&&(e={x1:a,x2:c,y1:b,y2:d}),this.el("line",e)},h.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return i(a,"object")&&!i(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polyline",b)},h.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return i(a,"object")&&!i(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polygon",b)},function(){function d(){return this.selectAll("stop")}function e(a,b){var d=k("stop"),e={offset:+b+"%"};return a=c.color(a),e["stop-color"]=a.hex,a.opacity<1&&(e["stop-opacity"]=a.opacity),k(d,e),this.node.appendChild(d),this}function f(){if("linearGradient"==this.type){var a=k(this.node,"x1")||0,b=k(this.node,"x2")||1,d=k(this.node,"y1")||0,e=k(this.node,"y2")||0;return c._.box(a,d,math.abs(b-a),math.abs(e-d))}var f=this.node.cx||.5,g=this.node.cy||.5,h=this.node.r||0;return c._.box(f-h,g-h,2*h,2*h)}function g(a,c){function d(a,b){for(var c=(b-l)/(a-m),d=m;d<a;d++)g[d].offset=+(+l+c*(d-m)).toFixed(2);m=a,l=b}var e,f=b("snap.util.grad.parse",null,c).firstDefined();if(!f)return null;f.params.unshift(a),e="l"==f.type.toLowerCase()?i.apply(0,f.params):j.apply(0,f.params),f.type!=f.type.toLowerCase()&&k(e.node,{gradientUnits:"userSpaceOnUse"});var g=f.stops,h=g.length,l=0,m=0;h--;for(var n=0;n<h;n++)"offset"in g[n]&&d(n,g[n].offset);for(g[h].offset=g[h].offset||100,d(h,g[h].offset),n=0;n<=h;n++){var o=g[n];e.addStop(o.color,o.offset)}return e}function i(a,b,g,h,i){var j=c._.make("linearGradient",a);return j.stops=d,j.addStop=e,j.getBBox=f,null!=b&&k(j.node,{x1:b,y1:g,x2:h,y2:i}),j}function j(a,b,g,h,i,j){var l=c._.make("radialGradient",a);return l.stops=d,l.addStop=e,l.getBBox=f,null!=b&&k(l.node,{cx:b,cy:g,r:h}),null!=i&&null!=j&&k(l.node,{fx:i,fy:j}),l}var k=c._.$;h.gradient=function(a){return g(this.defs,a)},h.gradientLinear=function(a,b,c,d){return i(this.defs,a,b,c,d)},h.gradientRadial=function(a,b,c,d,e){return j(this.defs,a,b,c,d,e)},h.toString=function(){var a,b=this.node.ownerDocument,d=b.createDocumentFragment(),e=b.createElement("div"),f=this.node.cloneNode(!0);return d.appendChild(e),e.appendChild(f),c._.$(f,{xmlns:"http://www.w3.org/2000/svg"}),a=e.innerHTML,d.removeChild(d.firstChild),a},h.toDataURL=function(){if(a&&a.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},h.clear=function(){for(var a,b=this.node.firstChild;b;)a=b.nextSibling,"defs"!=b.tagName?b.parentNode.removeChild(b):h.clear.call({node:b}),b=a}}()}),d.plugin(function(a,b,c,d){function e(a){var b=e.ps=e.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[M](c)&&c!=a&&!--b[c].sleep&&delete b[c]}),b[a]}function f(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:P.min(c,d)/2,r2:P.max(c,d)/2,r0:P.sqrt(c*c+d*d)/2,path:y(a,b,c,d),vb:[a,b,c,d].join(" ")}}function g(){return this.join(",").replace(N,"$1")}function h(a){var b=L(a);return b.toString=g,b}function i(a,b,c,d,e,f,g,h,i){return null==i?p(a,b,c,d,e,f,g,h):k(a,b,c,d,e,f,g,h,q(a,b,c,d,e,f,g,h,i))}function j(c,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,g){a instanceof b&&(a=a.attr("d")),a=G(a);for(var h,j,l,m,n,o="",p={},q=0,r=0,s=a.length;r<s;r++){if(l=a[r],"M"==l[0])h=+l[1],j=+l[2];else{if(m=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6]),q+m>f){if(d&&!p.start){if(n=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6],f-q),o+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)],g)return o;p.start=o,o=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(l[5]),e(l[6])].join(),q+=m,h=+l[5],j=+l[6];continue}if(!c&&!d)return n=i(h,j,l[1],l[2],l[3],l[4],l[5],l[6],f-q)}q+=m,h=+l[5],j=+l[6]}o+=l.shift()+l}return p.end=o,n=c?q:d?p:k(h,j,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function k(a,b,c,d,e,f,g,h,i){var j=1-i,k=T(j,3),l=T(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d);return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:j*a+i*c,y:j*b+i*d},end:{x:j*e+i*g,y:j*f+i*h},alpha:90-180*P.atan2(q-s,r-t)/Q}}function l(b,c,d,e,g,h,i,j){a.is(b,"array")||(b=[b,c,d,e,g,h,i,j]);var k=F.apply(null,b);return f(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)}function m(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function n(a,b){return a=f(a),b=f(b),m(b,a.x,a.y)||m(b,a.x2,a.y)||m(b,a.x,a.y2)||m(b,a.x2,a.y2)||m(a,b.x,b.y)||m(a,b.x2,b.y)||m(a,b.x,b.y2)||m(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function o(a,b,c,d,e){return a*(a*(-3*b+9*c-9*d+3*e)+6*b-12*c+6*d)-3*b+3*c}function p(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:i<0?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,p=0;p<k;p++){var q=j*l[p]+j,r=o(q,a,c,e,g),s=o(q,b,d,f,h),t=r*r+s*s;n+=m[p]*P.sqrt(t)}return j*n}function q(a,b,c,d,e,f,g,h,i){if(!(i<0||p(a,b,c,d,e,f,g,h)<i)){var j,k=1,l=k/2,m=k-l,n=.01;for(j=p(a,b,c,d,e,f,g,h,m);U(j-i)>n;)l/=2,m+=(j<i?1:-1)*l,j=p(a,b,c,d,e,f,g,h,m);return m}}function r(a,b,c,d,e,f,g,h){if(!(S(a,c)<R(e,g)||R(a,c)>S(e,g)||S(b,d)<R(f,h)||R(b,d)>S(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+R(a,c).toFixed(2)||n>+S(a,c).toFixed(2)||n<+R(e,g).toFixed(2)||n>+S(e,g).toFixed(2)||o<+R(b,d).toFixed(2)||o>+S(b,d).toFixed(2)||o<+R(f,h).toFixed(2)||o>+S(f,h).toFixed(2)))return{x:l,y:m}}}}function s(a,b,c){if(!n(l(a),l(b)))return c?0:[];for(var d=p.apply(0,a),e=p.apply(0,b),f=~~(d/8),g=~~(e/8),h=[],i=[],j={},m=c?0:[],o=0;o<f+1;o++){var q=k.apply(0,a.concat(o/f));h.push({x:q.x,y:q.y,t:o/f})}for(o=0;o<g+1;o++)q=k.apply(0,b.concat(o/g)),i.push({x:q.x,y:q.y,t:o/g});for(o=0;o<f;o++)for(var s=0;s<g;s++){var t=h[o],u=h[o+1],v=i[s],w=i[s+1],x=U(u.x-t.x)<.001?"y":"x",y=U(w.x-v.x)<.001?"y":"x",z=r(t.x,t.y,u.x,u.y,v.x,v.y,w.x,w.y);if(z){if(j[z.x.toFixed(4)]==z.y.toFixed(4))continue;j[z.x.toFixed(4)]=z.y.toFixed(4);var A=t.t+U((z[x]-t[x])/(u[x]-t[x]))*(u.t-t.t),B=v.t+U((z[y]-v[y])/(w[y]-v[y]))*(w.t-v.t);A>=0&&A<=1&&B>=0&&B<=1&&(c?m++:m.push({x:z.x,y:z.y,t1:A,t2:B}))}}return m}function t(a,b){return v(a,b)}function u(a,b){return v(a,b,1)}function v(a,b,c){a=G(a),b=G(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;o<p;o++){var q=a[o];if("M"==q[0])d=h=q[1],e=i=q[2];else{"C"==q[0]?(l=[d,e].concat(q.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var r=0,t=b.length;r<t;r++){var u=b[r];if("M"==u[0])f=j=u[1],g=k=u[2];else{"C"==u[0]?(m=[f,g].concat(u.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=s(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;w<x;w++)v[w].segment1=o,v[w].segment2=r,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function w(a,b,c){var d=x(a);return m(d,b,c)&&v(a,[["M",b,c],["H",d.x2+10]],1)%2==1}function x(a){var b=e(a);if(b.bbox)return L(b.bbox);if(!a)return f();a=G(a);for(var c,d=0,g=0,h=[],i=[],j=0,k=a.length;j<k;j++)if(c=a[j],"M"==c[0])d=c[1],g=c[2],h.push(d),i.push(g);else{var l=F(d,g,c[1],c[2],c[3],c[4],c[5],c[6]);h=h.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),d=c[5],g=c[6]}var m=R.apply(0,h),n=R.apply(0,i),o=S.apply(0,h),p=S.apply(0,i),q=f(m,n,o-m,p-n);return b.bbox=L(q),q}function y(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];var f=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return f.toString=g,f}function z(a,b,c,d,e){if(null==e&&null==d&&(d=c),a=+a,b=+b,c=+c,d=+d,null!=e)var f=Math.PI/180,h=a+c*Math.cos(-d*f),i=a+c*Math.cos(-e*f),j=b+c*Math.sin(-d*f),k=b+c*Math.sin(-e*f),l=[["M",h,j],["A",c,c,0,+(e-d>180),0,i,k]];else l=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return l.toString=g,l}function A(b){var c=e(b),d=String.prototype.toLowerCase;if(c.rel)return h(c.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var f=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=b[0][1],j=b[0][2],k=i,l=j,m++,f.push(["M",i,j]));for(var n=m,o=b.length;n<o;n++){var p=f[n]=[],q=b[n];if(q[0]!=d.call(q[0]))switch(p[0]=d.call(q[0]),p[0]){case"a":p[1]=q[1],p[2]=q[2],p[3]=q[3],p[4]=q[4],p[5]=q[5],p[6]=+(q[6]-i).toFixed(3),p[7]=+(q[7]-j).toFixed(3);break;case"v":p[1]=+(q[1]-j).toFixed(3);break;case"m":k=q[1],l=q[2];default:for(var r=1,s=q.length;r<s;r++)p[r]=+(q[r]-(r%2?i:j)).toFixed(3)}else{p=f[n]=[],"m"==q[0]&&(k=q[1]+i,l=q[2]+j);for(var t=0,u=q.length;t<u;t++)f[n][t]=q[t]}var v=f[n].length;switch(f[n][0]){case"z":i=k,j=l;break;case"h":i+=+f[n][v-1];break;case"v":j+=+f[n][v-1];break;default:i+=+f[n][v-2],j+=+f[n][v-1]}}return f.toString=g,c.rel=h(f),f}function B(b){var c=e(b);if(c.abs)return h(c.abs);if(K(b,"array")&&K(b&&b[0],"array")||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var d,f=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=+b[0][1],j=+b[0][2],k=i,l=j,m++,f[0]=["M",i,j]);for(var n,o,p=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),q=m,r=b.length;q<r;q++){if(f.push(n=[]),o=b[q],(d=o[0])!=d.toUpperCase())switch(n[0]=d.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+o[6]+i,n[7]=+o[7]+j;break;case"V":n[1]=+o[1]+j;break;case"H":n[1]=+o[1]+i;break;case"R":for(var s=[i,j].concat(o.slice(1)),t=2,u=s.length;t<u;t++)s[t]=+s[t]+i,s[++t]=+s[t]+j;f.pop(),f=f.concat(I(s,p));break;case"O":f.pop(),s=z(i,j,o[1],o[2]),s.push(s[0]),f=f.concat(s);break;case"U":f.pop(),f=f.concat(z(i,j,o[1],o[2],o[3])),n=["U"].concat(f[f.length-1].slice(-2));break;case"M":k=+o[1]+i,l=+o[2]+j;default:for(t=1,u=o.length;t<u;t++)n[t]=+o[t]+(t%2?i:j)}else if("R"==d)s=[i,j].concat(o.slice(1)),f.pop(),f=f.concat(I(s,p)),n=["R"].concat(o.slice(-2));else if("O"==d)f.pop(),s=z(i,j,o[1],o[2]),s.push(s[0]),f=f.concat(s);else if("U"==d)f.pop(),f=f.concat(z(i,j,o[1],o[2],o[3])),n=["U"].concat(f[f.length-1].slice(-2));else for(var v=0,w=o.length;v<w;v++)n[v]=o[v];if("O"!=(d=d.toUpperCase()))switch(n[0]){case"Z":i=+k,j=+l;break;case"H":i=n[1];break;case"V":j=n[1];break;case"M":k=n[n.length-2],l=n[n.length-1];default:i=n[n.length-2],j=n[n.length-1]}}return f.toString=g,c.abs=h(f),f}function C(a,b,c,d){return[a,b,c,d,c,d]}function D(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function E(b,c,d,e,f,g,h,i,j,k){var l,m=120*Q/180,n=Q/180*(+f||0),o=[],p=a._.cacher(function(a,b,c){return{x:a*P.cos(c)-b*P.sin(c),y:a*P.sin(c)+b*P.cos(c)}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(b,c,-n),b=l.x,c=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(P.cos(Q/180*f),P.sin(Q/180*f),(b-i)/2),r=(c-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=P.sqrt(s),d*=s,e*=s);var t=d*d,u=e*e,v=(g==h?-1:1)*P.sqrt(U((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*d*r/e+(b+i)/2,x=v*-e*q/d+(c+j)/2,y=P.asin(((c-x)/e).toFixed(9)),z=P.asin(((j-x)/e).toFixed(9));y=b<w?Q-y:y,z=i<w?Q-z:z,y<0&&(y=2*Q+y),z<0&&(z=2*Q+z),h&&y>z&&(y-=2*Q),!h&&z>y&&(z-=2*Q)}var A=z-y;if(U(A)>m){var B=z,C=i,D=j;z=y+m*(h&&z>y?1:-1),i=w+d*P.cos(z),j=x+e*P.sin(z),o=E(i,j,d,e,f,0,h,C,D,[z,B,w,x])}A=z-y;var F=P.cos(y),G=P.sin(y),H=P.cos(z),I=P.sin(z),J=P.tan(A/4),K=4/3*d*J,L=4/3*e*J,M=[b,c],N=[b+K*G,c-L*F],O=[i+K*I,j-L*H],R=[i,j];if(N[0]=2*M[0]-N[0],N[1]=2*M[1]-N[1],k)return[N,O,R].concat(o);o=[N,O,R].concat(o).join().split(",");for(var S=[],T=0,V=o.length;T<V;T++)S[T]=T%2?p(o[T-1],o[T],n).y:p(o[T],o[T+1],n).x;return S}function F(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;s<2;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),U(i)<1e-12){if(U(j)<1e-12)continue;0<(l=-k/j)&&l<1&&q.push(l)}else o=j*j-4*k*i,p=P.sqrt(o),o<0||(m=(-j+p)/(2*i),0<m&&m<1&&q.push(m),0<(n=(-j-p)/(2*i))&&n<1&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{min:{x:R.apply(0,r[0]),y:R.apply(0,r[1])},max:{x:S.apply(0,r[0]),y:S.apply(0,r[1])}}}function G(a,b){var c=!b&&e(a);if(!b&&c.curve)return h(c.curve);for(var d=B(a),f=b&&B(b),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(E.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(D(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(D(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(C(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(C(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(C(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(C(b.x,b.y,b.X,b.Y))}return a}),k=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)m[b]="A",f&&(n[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),r=S(d.length,f&&f.length||0)}},l=function(a,b,c,e,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],r=S(d.length,f&&f.length||0))},m=[],n=[],o="",p="",q=0,r=S(d.length,f&&f.length||0);q<r;q++){d[q]&&(o=d[q][0]),"C"!=o&&(m[q]=o,q&&(p=m[q-1])),d[q]=j(d[q],g,p),"A"!=m[q]&&"C"==o&&(m[q]="C"),k(d,q),f&&(f[q]&&(o=f[q][0]),"C"!=o&&(n[q]=o,q&&(p=n[q-1])),f[q]=j(f[q],i,p),"A"!=n[q]&&"C"==o&&(n[q]="C"),k(f,q)),l(d,f,g,i,q),l(f,d,i,g,q);var s=d[q],t=f&&f[q],u=s.length,v=f&&t.length;g.x=s[u-2],g.y=s[u-1],g.bx=O(s[u-4])||g.x,g.by=O(s[u-3])||g.y,i.bx=f&&(O(t[v-4])||i.x),i.by=f&&(O(t[v-3])||i.y),i.x=f&&t[v-2],i.y=f&&t[v-1]}return f||(c.curve=h(d)),f?[d,f]:d}function H(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=G(a),e=0,g=a.length;e<g;e++)for(i=a[e],f=1,h=i.length;f<h;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a}function I(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}var J=b.prototype,K=a.is,L=a._.clone,M="hasOwnProperty",N=/,?([a-z]),?/gi,O=parseFloat,P=Math,Q=P.PI,R=P.min,S=P.max,T=P.pow,U=P.abs,V=j(1),W=j(),X=j(0,1),Y=a._unit2px,Z={path:function(a){return a.attr("path")},circle:function(a){var b=Y(a);return z(b.cx,b.cy,b.r)},ellipse:function(a){var b=Y(a)
;return z(b.cx||0,b.cy||0,b.rx,b.ry)},rect:function(a){var b=Y(a);return y(b.x||0,b.y||0,b.width,b.height,b.rx,b.ry)},image:function(a){var b=Y(a);return y(b.x||0,b.y||0,b.width,b.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){var b=a.node.getBBox();return y(b.x,b.y,b.width,b.height)}};a.path=e,a.path.getTotalLength=V,a.path.getPointAtLength=W,a.path.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return X(a,b).end;var d=X(a,c,1);return b?X(d,b).end:d},J.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},J.getPointAtLength=function(a){return W(this.attr("d"),a)},J.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)},a._.box=f,a.path.findDotsAtSegment=k,a.path.bezierBBox=l,a.path.isPointInsideBBox=m,a.closest=function(b,c,d,e){for(var g=100,h=f(b-g/2,c-g/2,g,g),i=[],j=d[0].hasOwnProperty("x")?function(a){return{x:d[a].x,y:d[a].y}}:function(a){return{x:d[a],y:e[a]}},k=0;g<=1e6&&!k;){for(var l=0,n=d.length;l<n;l++){var o=j(l);if(m(h,o.x,o.y)){k++,i.push(o);break}}k||(g*=2,h=f(b-g/2,c-g/2,g,g))}if(1e6!=g){var p,q=1/0;for(l=0,n=i.length;l<n;l++){var r=a.len(b,c,i[l].x,i[l].y);q>r&&(q=r,i[l].len=r,p=i[l])}return p}},a.path.isBBoxIntersect=n,a.path.intersection=t,a.path.intersectionNumber=u,a.path.isPointInside=w,a.path.getBBox=x,a.path.get=Z,a.path.toRelative=A,a.path.toAbsolute=B,a.path.toCubic=G,a.path.map=H,a.path.toString=g,a.path.clone=h}),d.plugin(function(a,d,e,f){var g=Math.max,h=Math.min,i=function(a){if(this.items=[],this.bindings={},this.length=0,this.type="set",a)for(var b=0,c=a.length;b<c;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},j=i.prototype;j.push=function(){for(var a,b,c=0,d=arguments.length;c<d;c++)(a=arguments[c])&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},j.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},j.forEach=function(a,b){for(var c=0,d=this.items.length;c<d;c++)if(!1===a.call(b,this.items[c],c))return this;return this},j.animate=function(d,e,f,g){"function"!=typeof f||f.length||(g=f,f=c.linear),d instanceof a._.Animation&&(g=d.callback,f=d.easing,e=f.dur,d=d.attr);var h=arguments;if(a.is(d,"array")&&a.is(h[h.length-1],"array"))var i=!0;var j,k=function(){j?this.b=j:j=this.b},l=0,m=this,n=g&&function(){++l==m.length&&g.call(this)};return this.forEach(function(a,c){b.once("snap.animcreated."+a.id,k),i?h[c]&&a.animate.apply(a,h[c]):a.animate(d,e,f,n)})},j.remove=function(){for(;this.length;)this.pop().remove();return this},j.bind=function(a,b,c){var d={};if("function"==typeof b)this.bindings[a]=b;else{var e=c||a;this.bindings[a]=function(a){d[e]=a,b.attr(d)}}return this},j.attr=function(a){var b={};for(var c in a)this.bindings[c]?this.bindings[c](a[c]):b[c]=a[c];for(var d=0,e=this.items.length;d<e;d++)this.items[d].attr(b);return this},j.clear=function(){for(;this.length;)this.pop()},j.splice=function(a,b,c){a=a<0?g(this.length+a,0):a,b=g(0,h(this.length-a,b));var d,e=[],f=[],j=[];for(d=2;d<arguments.length;d++)j.push(arguments[d]);for(d=0;d<b;d++)f.push(this[a+d]);for(;d<this.length-a;d++)e.push(this[a+d]);var k=j.length;for(d=0;d<k+e.length;d++)this.items[a+d]=this[a+d]=d<k?j[d]:e[d-k];for(d=this.items.length=this.length-=b-k;this[d];)delete this[d++];return new i(f)},j.exclude=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]==a)return this.splice(b,1),!0;return!1},j.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},j.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=h.apply(0,a),b=h.apply(0,b),c=g.apply(0,c),d=g.apply(0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b,cx:a+(c-a)/2,cy:b+(d-b)/2}},j.clone=function(a){a=new i;for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a},j.toString=function(){return"Snap‘s set"},j.type="set",a.Set=i,a.set=function(){var a=new i;return arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0)),a}}),d.plugin(function(a,c,d,e){function f(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function g(b,c,d){c=r(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var e,g,h,i,j=Math.max(b.length,c.length),k=[],n=[],o=0;o<j;o++){if(h=b[o]||f(c[o]),i=c[o]||f(h),h[0]!=i[0]||"r"==h[0].toLowerCase()&&(h[2]!=i[2]||h[3]!=i[3])||"s"==h[0].toLowerCase()&&(h[3]!=i[3]||h[4]!=i[4])){b=a._.transform2matrix(b,d()),c=a._.transform2matrix(c,d()),k=[["m",b.a,b.b,b.c,b.d,b.e,b.f]],n=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}for(k[o]=[],n[o]=[],e=0,g=Math.max(h.length,i.length);e<g;e++)e in h&&(k[o][e]=h[e]),e in i&&(n[o][e]=i[e])}return{from:m(k),to:m(n),f:l(k)}}function h(a){return a}function i(a){return function(b){return+b.toFixed(3)+a}}function j(a){return a.join(" ")}function k(b){return a.rgb(b[0],b[1],b[2])}function l(a){var b,c,d,e,f,g,h=0,i=[];for(b=0,c=a.length;b<c;b++){for(f="[",g=['"'+a[b][0]+'"'],d=1,e=a[b].length;d<e;d++)g[d]="val["+h+++"]";f+=g+"]",i[b]=f}return Function("val","return Snap.path.toString.call(["+i+"])")}function m(a){for(var b=[],c=0,d=a.length;c<d;c++)for(var e=1,f=a[c].length;e<f;e++)b.push(a[c][e]);return b}function n(a){return isFinite(parseFloat(a))}function o(b,c){return!(!a.is(b,"array")||!a.is(c,"array"))&&b.toString()==c.toString()}var p={},q=/[a-z]+$/i,r=String;p.stroke=p.fill="colour",c.prototype.equal=function(a,c){return b("snap.util.equal",this,a,c).firstDefined()},b.on("snap.util.equal",function(b,c){var d,e,f=r(this.attr(b)||""),s=this;if(n(f)&&n(c))return{from:parseFloat(f),to:parseFloat(c),f:h};if("colour"==p[b])return d=a.color(f),e=a.color(c),{from:[d.r,d.g,d.b,d.opacity],to:[e.r,e.g,e.b,e.opacity],f:k};if("viewBox"==b)return d=this.attr(b).vb.split(" ").map(Number),e=c.split(" ").map(Number),{from:d,to:e,f:j};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return c instanceof a.Matrix&&(c=c.toTransformString()),a._.rgTransform.test(c)||(c=a._.svgTransform2string(c)),g(f,c,function(){return s.getBBox(1)});if("d"==b||"path"==b)return d=a.path.toCubic(f,c),{from:m(d[0]),to:m(d[1]),f:l(d[0])};if("points"==b)return d=r(f).split(a._.separator),e=r(c).split(a._.separator),{from:d,to:e,f:function(a){return a}};var t=f.match(q),u=r(c).match(q);return t&&o(t,u)?{from:parseFloat(f),to:parseFloat(c),f:i(t)}:{from:this.asPX(b),to:this.asPX(b,c),f:h}})}),d.plugin(function(a,c,d,e){for(var f=c.prototype,g="hasOwnProperty",h=("createTouch"in e.doc),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=(function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:e.doc;return d[c in d.documentElement?"documentElement":"body"][c]}),l=function(){return this.originalEvent.preventDefault()},m=function(){return this.originalEvent.stopPropagation()},n=function(a,b,c,d){var e=h&&j[b]?j[b]:b,f=function(e){var f=k("y",d),i=k("x",d);if(h&&j[g](b))for(var n=0,o=e.targetTouches&&e.targetTouches.length;n<o;n++)if(e.targetTouches[n].target==a||a.contains(e.targetTouches[n].target)){var p=e;e=e.targetTouches[n],e.originalEvent=p,e.preventDefault=l,e.stopPropagation=m;break}var q=e.clientX+i,r=e.clientY+f;return c.call(d,e,q,r)};return b!==e&&a.addEventListener(b,f,!1),a.addEventListener(e,f,!1),function(){return b!==e&&a.removeEventListener(b,f,!1),a.removeEventListener(e,f,!1),!0}},o=[],p=function(a){for(var c,d=a.clientX,e=a.clientY,f=k("y"),g=k("x"),i=o.length;i--;){if(c=o[i],h){for(var j,l=a.touches&&a.touches.length;l--;)if(j=a.touches[l],j.identifier==c.el._drag.id||c.el.node.contains(j.target)){d=j.clientX,e=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var m=c.el.node;m.nextSibling,m.parentNode,m.style.display;d+=g,e+=f,b("snap.drag.move."+c.el.id,c.move_scope||c.el,d-c.el._drag.x,e-c.el._drag.y,d,e,a)}},q=function(c){a.unmousemove(p).unmouseup(q);for(var d,e=o.length;e--;)d=o[e],d.el._drag={},b("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,c),b.off("snap.drag.*."+d.el.id);o=[]},r=i.length;r--;)!function(b){a[b]=f[b]=function(c,d){if(a.is(c,"function"))this.events=this.events||[],this.events.push({name:b,f:c,unbind:n(this.node||document,b,c,d||this)});else for(var e=0,f=this.events.length;e<f;e++)if(this.events[e].name==b)try{this.events[e].f.call(this)}catch(g){}return this},a["un"+b]=f["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a))return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(i[r]);f.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},f.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var s=[];f.drag=function(c,d,e,f,g,h){function i(i,j,l){(i.originalEvent||i).preventDefault(),k._drag.x=j,k._drag.y=l,k._drag.id=i.identifier,!o.length&&a.mousemove(p).mouseup(q),o.push({el:k,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("snap.drag.start."+k.id,d),c&&b.on("snap.drag.move."+k.id,c),e&&b.on("snap.drag.end."+k.id,e),b("snap.drag.start."+k.id,g||f||k,j,l,i)}function j(a,c,d){b("snap.draginit."+k.id,k,a,c,d)}var k=this;if(!arguments.length){var l;return k.drag(function(a,b){this.attr({transform:l+(l?"T":"t")+[a,b]})},function(){l=this.transform().local})}return b.on("snap.draginit."+k.id,i),k._drag={},s.push({el:k,start:i,init:j}),k.mousedown(j),k},f.undrag=function(){for(var c=s.length;c--;)s[c].el==this&&(this.unmousedown(s[c].init),s.splice(c,1),b.unbind("snap.drag.*."+this.id),b.unbind("snap.draginit."+this.id));return!s.length&&a.unmousemove(p).unmouseup(q),this}}),d.plugin(function(a,c,d,e){var f=(c.prototype,d.prototype),g=/^\s*url\((.+)\)/,h=String,i=a._.$;a.filter={},f.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);var e=a.parse(h(b)),f=a._.id(),g=(d.node.offsetWidth,d.node.offsetHeight,i("filter"));return i(g,{id:f,filterUnits:"userSpaceOnUse"}),g.appendChild(e.node),d.defs.appendChild(g),new c(g)},b.on("snap.util.getattr.filter",function(){b.stop();var c=i(this.node,"filter");if(c){var d=h(c).match(g);return d&&a.select(d[1])}}),b.on("snap.util.attr.filter",function(d){if(d instanceof c&&"filter"==d.type){b.stop();var e=d.node.id;e||(i(d.node,{id:d.id}),e=d.id),i(this.node,{filter:a.url(e)})}d&&"none"!=d||(b.stop(),this.node.removeAttribute("filter"))}),a.filter.blur=function(b,c){null==b&&(b=2);var d=null==c?b:[b,c];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:d})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(b,c,d,e,f){return"string"==typeof d&&(e=d,f=e,d=4),"string"!=typeof e&&(f=e,e="#000"),e=e||"#000",null==d&&(d=4),null==f&&(f=1),null==b&&(b=0,c=2),null==c&&(c=b),e=a.color(e),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:e,dx:b,dy:c,blur:d,opacity:f})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(b){return b=b||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:b,amount2:.5-b/2})},a.filter.contrast.toString=function(){return this()}}),d.plugin(function(a,b,c,d,e){var f=a._.box,g=a.is,h=/^[^a-z]*([tbmlrc])/i,i=function(){return"T"+this.dx+","+this.dy};b.prototype.getAlign=function(a,b){null==b&&g(a,"string")&&(b=a,a=null),a=a||this.paper;var c=a.getBBox?a.getBBox():f(a),d=this.getBBox(),e={};switch(b=b&&b.match(h),b=b?b[1].toLowerCase():"c"){case"t":e.dx=0,e.dy=c.y-d.y;break;case"b":e.dx=0,e.dy=c.y2-d.y2;break;case"m":e.dx=0,e.dy=c.cy-d.cy;break;case"l":e.dx=c.x-d.x,e.dy=0;break;case"r":e.dx=c.x2-d.x2,e.dy=0;break;default:e.dx=c.cx-d.cx,e.dy=0}return e.toString=i,e},b.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}}),d}),function(a){"use strict";"undefined"!=typeof Snap&&Snap.plugin(function(b,c,d,e){function f(a,b,c,d){var e,f,g=p.Marker;if(g.hasOwnProperty(a)&&a!==p.MarkerType.NONE){f=g[a];var h=f.attr;h.fill=c.stroke,h.stroke=c.stroke;var i=o.toInt(h["fill-opacity"],0)<1?0:1;h["fill-opacity"]=i;e=b.path().attr(h).marker(0,0,f.markerWidth,f.markerHeight,f.refX,f.refY).attr({orient:f.orient,viewBox:f.viewBox,fill:h.stroke,"fill-opacity":i,markerUnits:f.markerUnits,markerWidth:(d||f.markerWidth)/2,markerHeight:(d||f.markerHeight)/2,type:f.type})}return e}function g(a){var c=this;b(c.node.parentNode);c.data("isSelected",!0),c.data("initMatrix",c.transform().localMatrix);var d,e=b(c.node.ownerSVGElement),f=0;e.node.viewBox.animVal?d=e.node.viewBox.animVal:e.node.viewBox.baseVal&&(d=e.node.viewBox.baseVal),d.x<0&&d.y<0?f=180:d.x<0&&d.y>=0?f=90:d.x>=0&&d.y<0&&(f=270),c.data("rotate",f);var g=j(c,a);g.drag(i,u,l),c.data("handler",g),g.data("item",a),void 0!==a.transforms&&a.transforms.push({tx:0,ty:0,type:"translate"})}function h(){var a=this;a.data("handler")&&a.data("handler").remove(),a.removeData("isSelected"),a.data("bbT")&&a.data("bbT").remove();var b=["tx","ty","otx","oty","bb","bbT","initMatrix","handler","handler-group","parent","rotate"],c=this.data("tEl"),d=c?c.data("item"):null;if(d){var e=a.data("tx"),f=a.data("ty");void 0!==e&&void 0!==f?0===e&&0===f?d.transforms.pop():d.transforms[d.transforms.length-1]={tx:e,ty:f,type:"translate"}:d.transforms.pop()}b.forEach(function(b){a.removeData([b])})}function i(c,d,e,f,g){var h=this.data("tEl")||this,i=this.data("hEl")||this,j=h.data("bbT"),l=h.attr("anntype");if(this.paper&&j){var m,q,r,s,u,v,w,x,y=n(h,c,d),z=o.toNotEmpty(i.data("handlerIdx"),-1);if(j.attr("strokeWidth","5"),c=y.tx,d=y.ty,h.data("changed",!0),-1===z||a.Element.hasClass(i.node,a.moduleClassName+"-transition-handler")){h.data("tx",h.data("otx")+c),h.data("ty",h.data("oty")+d);var A="t"+h.data("tx")+","+h.data("ty")+h.data("initMatrix").toTransformString();h.attr({transform:A})}else{x=i.node.style.cursor,m=o.toInt(i.data("handlerIdx"))-1;var B=h.data("rotate");if(l===p.AnnotationType.RECT||l===p.AnnotationType.MASK||h.type===p.AnnotationType.RECT&&l===p.AnnotationType.HIGHLIGHTER||l===p.AnnotationType.ETERNITYRECT||l===p.AnnotationType.IMAGE){if(q=o.toInt(h.data("ox")),r=o.toInt(h.data("oy")),s=o.toInt(h.data("ow")),u=o.toInt(h.data("oh")),e=q,f=r,v=s,w=u,90===B)switch(x){case"nw-resize":e=q+c,v=s-c,w=u+d;break;case"n-resize":e=q+c,v=s-c;break;case"ne-resize":e=q+c,f=r+d,v=s-c,w=u-d;break;case"e-resize":f=r+d,w=u-d;break;case"se-resize":f=r+d,v=s+c,w=u-d;break;case"s-resize":v=s+c;break;case"sw-resize":v=s+c,w=u+d;break;case"w-resize":w=u+d;break;default:e=q+c,f=r+d}else if(180===B)switch(x){case"nw-resize":v=s+c,w=u+d;break;case"n-resize":w=u+d;break;case"ne-resize":e=q+c,v=s-c,w=u+d;break;case"e-resize":e=q+c,v=s-c;break;case"se-resize":e=q+c,f=r+d,v=s-c,w=u-d;break;case"s-resize":f=r+d,w=u-d;break;case"sw-resize":f=r+d,v=s+c,w=u-d;break;case"w-resize":v=s+c;break;default:e=q+c,f=r+d}else if(270===B)switch(x){case"nw-resize":f=r+d,v=s+c,w=u-d;break;case"n-resize":v=s+c;break;case"ne-resize":v=s+c,w=u+d;break;case"e-resize":w=u+d;break;case"se-resize":e=q+c,v=s-c,w=u+d;break;case"s-resize":e=q+c,v=s-c;break;case"sw-resize":e=q+c,f=r+d,v=s-c,w=u-d;break;case"w-resize":f=r+d,w=u-d;break;default:e=q+c,f=r+d}else switch(x){case"nw-resize":e=q+c,f=r+d,v=s-c,w=u-d;break;case"n-resize":f=r+d,w=u-d;break;case"ne-resize":f=r+d,v=s+c,w=u-d;break;case"e-resize":v=s+c;break;case"se-resize":v=s+c,w=u+d;break;case"s-resize":w=u+d;break;case"sw-resize":e=q+c,v=s-c,w=u+d;break;case"w-resize":e=q+c,v=s-c;break;default:e=q+c,f=r+d}v<0&&(c<0?(e+=c+s,v=-(c+s)):(e=q+s,v=c-s)),w<0&&(d<0?(f+=d+u,w=-(d+u)):(f=r+u,w=d-u)),h.attr({x:e,y:f,width:v,height:w})}else if(l===p.AnnotationType.STICKYNOTE){if(q=o.toInt(h.data("ox")),r=o.toInt(h.data("oy")),s=o.toInt(h.data("ow")),u=o.toInt(h.data("oh")),e=q,f=r,v=s,w=u,90===B)switch(x){case"nw-resize":e=q-d,v=s+d,f=r+c,w=u-c;break;case"n-resize":f=r+c,w=u-c;break;case"ne-resize":f=r+c,v=s-d,w=u-c;break;case"e-resize":v=s-d;break;case"se-resize":v=s-d,w=u+c;break;case"s-resize":w=u+c;break;case"sw-resize":e=q-d,v=s+d,w=u+c;break;case"w-resize":e=q-d,v=s+d;break;default:e=q+c,f=r+d}else if(180===B)switch(x){case"nw-resize":e=q-c,v=s+c,f=r-d,w=u+d;break;case"n-resize":f=r-d,w=u+d;break;case"ne-resize":f=r-d,v=s-c,w=u+d;break;case"e-resize":v=s-c;break;case"se-resize":v=s-c,w=u-d;break;case"s-resize":w=u-d;break;case"sw-resize":e=q-c,v=s+c,w=u-d;break;case"w-resize":e=q-c,v=s+c;break;default:e=q+c,f=r+d}else if(270===B)switch(x){case"nw-resize":e=q+d,v=s-d,f=r-c,w=u+c;break;case"n-resize":f=r-c,w=u+c;break;case"ne-resize":f=r-c,v=s+d,w=u+c;break;case"e-resize":v=s+d;break;case"se-resize":v=s+d,w=u-c;break;case"s-resize":w=u-c;break;case"sw-resize":e=q+d,v=s-d,w=u-c;break;case"w-resize":e=q+d,v=s-d;break;default:e=q+c,f=r+d}else switch(x){case"nw-resize":e=q+c,f=r+d,v=s-c,w=u-d;break;case"n-resize":f=r+d,w=u-d;break;case"ne-resize":f=r+d,v=s+c,w=u-d;break;case"e-resize":v=s+c;break;case"se-resize":v=s+c,w=u+d;break;case"s-resize":w=u+d;break;case"sw-resize":e=q+c,v=s-c,w=u+d;break;case"w-resize":e=q+c,v=s-c;break;default:e=q+c,f=r+d}var C=h.data("item");if(v<C.minWidth||w<C.minHeight)return;h[1].remove();for(var D,E=C.attr("font-size"),F=a.Element.convertTextareaLineBreakList(C.attr("text"),v-2*C.textPadding,w,E,C.attr("font-family")),G=h.text(e,f,F).attr({tabindex:"-1",fill:C.attr("font-color")}),H=G.node.childNodes,I=H.length,J=0,K=I;J<K;J+=1){var L=b(H[J]);D=t(e,f,J,E,C.textPadding),L.attr({x:D.x,y:D.y,fill:C.attr("font-color"),"font-size":E+"px",strokeWidth:C.attr("stroke-width"),"alignment-baseline":"hanging",tabindex:"-1"})}h.add(G);var M=G.getBBox();h[0].attr({x:e,y:f,width:Math.max(M.width+2*C.textPadding,v),height:Math.max(E*I+2*C.textPadding,w)})}else if(l===p.AnnotationType.CIRCLE){var N=o.toInt(h.data("or")),O=N;if(90===B)switch(x){case"n-resize":O=N-c;break;case"e-resize":O=N-d;break;case"s-resize":O=N+c;break;case"w-resize":O=N+d;break;default:O=N+c}else if(180===B)switch(x){case"n-resize":O=N+d;break;case"e-resize":O=N-c;break;case"s-resize":O=N-d;break;case"w-resize":default:O=N+c}else if(270===B)switch(x){case"n-resize":O=N+c;break;case"e-resize":O=N+d;break;case"s-resize":O=N-c;break;case"w-resize":O=N-d;break;default:O=N+c}else switch(x){case"n-resize":O=N-d;break;case"e-resize":O=N+c;break;case"s-resize":O=N+d;break;case"w-resize":O=N-c;break;default:O=N+c}O=O<0?-O:O,h.attr({r:O})}else if(l===p.AnnotationType.ELLIPSE){var P=o.toInt(h.data("orx")),Q=o.toInt(h.data("ory")),R=o.toInt(h.data("ocx")),S=o.toInt(h.data("ocy")),T=P,U=Q;if(q=R-P,r=S-Q,90===B)switch(x){case"nw-resize":T=P-c,U=Q+d;break;case"n-resize":T=P-c;break;case"ne-resize":T=P-c,U=Q-d;break;case"e-resize":U=Q-d;break;case"se-resize":T=P+c,U=Q-d;break;case"s-resize":T=P+c;break;case"sw-resize":T=P+c,U=Q+d;break;case"w-resize":U=Q+d}else if(180===B)switch(x){case"nw-resize":T=P+c,U=Q+d;break;case"n-resize":U=Q+d;break;case"ne-resize":T=P-c,U=Q+d;break;case"e-resize":T=P-c;break;case"se-resize":T=P-c,U=Q-d;break;case"s-resize":U=Q-d;break;case"sw-resize":T=P+c,U=Q-d;break;case"w-resize":T=P+c}else if(270===B)switch(x){case"nw-resize":T=P+c,U=Q-d;break;case"n-resize":T=P+c;break;case"ne-resize":T=P+c,U=Q+d;break;case"e-resize":U=Q+d;break;case"se-resize":T=P-c,U=Q+d;break;case"s-resize":T=P-c;break;case"sw-resize":T=P-c,U=Q-d;break;case"w-resize":U=Q-d}else switch(x){case"nw-resize":T=P-c,U=Q-d;break;case"n-resize":U=Q-d;break;case"ne-resize":T=P+c,U=Q-d;break;case"e-resize":T=P+c;break;case"se-resize":T=P+c,U=Q+d;break;case"s-resize":U=Q+d;break;case"sw-resize":U=Q+d,T=P-c;break;case"w-resize":T=P-c}T=T<0?-T:T,U=U<0?-U:U,h.attr({rx:T,ry:U})}else if(h.node.points){var V=h.node.points,W=V.getItem(m);W.x=o.toInt(i.attr("ox"))+c,W.y=o.toInt(i.attr("oy"))+d,i.attr("tx",c),i.attr("ty",d)}else if(-1!==l.indexOf(p.AnnotationType.LINE)){var X=h.select("line"),Y=h;X&&(Y=X),e=0,f=0,0===m?(e=o.toInt(i.attr("ox1")),f=o.toInt(i.attr("oy1")),Y.attr({x1:e+c,y1:f+d})):(e=o.toInt(i.attr("ox2")),f=o.toInt(i.attr("oy2")),Y.attr({x2:e+c,y2:f+d}))}}k(h,h.data("handler"),i)}}function j(c,d){var e,f=0,g=0,h=0,i=0,j=0,k=0,l=b(c.node.ownerSVGElement),m=l.g().addClass("sform-handler-group");c.data("handler-group",m),c.displayBBox();var n=c.data("bbT"),q=n.getBBox(),r=-1,s=[],t=c.attr("anntype")||"",u=0,v=0,w=c.attr("strokeWidth")?o.toInt(c.attr("strokeWidth"))<16?16:o.toInt(c.attr("strokeWidth"))+10:16,x=w;s[++r]=n,m.data("tEl",c);var y=c.data("rotate"),z={rect:{0:["nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize"],90:["nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize"],180:["nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize"],270:["nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize"]},circle:{0:["n-resize","w-resize","e-resize","s-resize"],90:["s-resize","n-resize","w-resize","e-resize"],180:["e-resize","s-resize","n-resize","w-resize"],270:["w-resize","e-resize","s-resize","n-resize"]}};if(t===p.AnnotationType.RECT||t===p.AnnotationType.CIRCLE||t===p.AnnotationType.ELLIPSE||t===p.AnnotationType.MASK||c.type===p.AnnotationType.RECT&&t===p.AnnotationType.HIGHLIGHTER||t===p.AnnotationType.ETERNITYRECT||t===p.AnnotationType.STICKYNOTE||t===p.AnnotationType.IMAGE)s[++r]=l.rect(q.x-w/2,q.y-x/2,w,x).attr({cursor:"nw-resize"}),s[++r]=l.rect(q.x+q.width/2-w/2,q.y-x/2,w,x).attr({cursor:"n-resize"}),s[++r]=l.rect(q.x2-w/2,q.y-x/2,w,x).attr({cursor:"ne-resize"}),s[++r]=l.rect(q.x-w/2,q.y+q.height/2-x/2,w,x).attr({cursor:"w-resize"}),s[++r]=l.rect(q.x2-w/2,q.y+q.height/2-x/2,w,x).attr({cursor:"e-resize"}),s[++r]=l.rect(q.x-w/2,q.y2-x/2,w,x).attr({cursor:"sw-resize"}),s[++r]=l.rect(q.x+q.width/2-w/2,q.y2-x/2,w,x).attr({cursor:"s-resize"}),s[++r]=l.rect(q.x2-w/2,q.y2-x/2,w,x).attr({cursor:"se-resize"});else if(t===p.AnnotationType.CIRCLE||t===p.AnnotationType.ELLIPSE)z.circle[y],s[++r]=l.rect(q.x+q.width/2-w/2,q.y-x/2,w,x).attr({cursor:"n-resize"}),s[++r]=l.rect(q.x-w/2,q.y+q.height/2-x/2,w,x).attr({cursor:"w-resize"}),s[++r]=l.rect(q.x2-w/2,q.y+q.height/2-x/2,w,x).attr({cursor:"e-resize"}),s[++r]=l.rect(q.x+q.width/2-w/2,q.y2-x/2,w,x).attr({cursor:"s-resize"});else if(c.node.points){var A=c.node.points;for(v=c.node.points.numberOfItems,e=new b.Matrix,e.add(c.transform().totalMatrix),u=0;u<v;u++){var B=A.getItem(u);j=e.x(B.x,B.y),k=e.y(B.x,B.y),s[++r]=l.rect(j-w/2,k-x/2,w,x).attr({cursor:"crosshair",pointIdx:u,ox:B.x,oy:B.y})}}else if(-1!==t.indexOf(p.AnnotationType.LINE)){var C=c.select("line");C&&(c=C),e=new b.Matrix,e.add(c.transform().totalMatrix),f=e.x(o.toInt(c.attr("x1")),o.toInt(c.attr("y1"))),g=e.y(o.toInt(c.attr("x1")),o.toInt(c.attr("y1"))),h=e.x(o.toInt(c.attr("x2")),o.toInt(c.attr("y2"))),i=e.y(o.toInt(c.attr("x2")),o.toInt(c.attr("y2"))),s[++r]=l.rect(f-w/2,g-x/2,w,x).attr({cursor:"crosshair",pointIdx:0,ox1:o.toInt(c.attr("x1")),oy1:o.toInt(c.attr("y1"))}),s[++r]=l.rect(h-w/2,i-x/2,w,x).attr({cursor:"crosshair",pointIdx:1,ox2:o.toInt(c.attr("x2")),oy2:o.toInt(c.attr("y2"))})}else s[++r]=l.rect(q.x-w/2,q.y-x/2,w,x).attr({cursor:"nw-resize"}),s[++r]=l.rect(q.x2-w/2,q.y-x/2,w,x).attr({cursor:"ne-resize"}),s[++r]=l.rect(q.x-w/2,q.y2-x/2,w,x).attr({cursor:"sw-resize"}),s[++r]=l.rect(q.x2-w/2,q.y2-x/2,w,x).attr({cursor:"se-resize"});for(u=0,v=s.length;u<v;u++)s[u].data("handlerIdx",u),u>0&&s[u].attr({fill:"rgba(0,0,0, 0.3)",class:a.moduleClassName+"-resize-handler"}),m.add(s[u]);return m}function k(a,c,d){a.displayBBox();var e,f=a.data("bbT").getBBox(),g=d?d.getBBox():a.getBBox(),h=a.attr("strokeWidth")?o.toInt(a.attr("strokeWidth"))<16?16:o.toInt(a.attr("strokeWidth"))+10:16,i=h,j=d?o.toInt(d.data("handlerIdx"))-1:-1,k=a.attr("anntype")||"",l=0,m=0,n={"nw-resize":{x:f.x-h/2,y:f.y-i/2},"n-resize":{x:f.x+f.width/2-h/2,y:f.y-i/2},"ne-resize":{x:f.x2-h/2,y:f.y-i/2},"w-resize":{x:f.x-h/2,y:f.y+f.height/2-i/2},"e-resize":{x:f.x2-h/2,y:f.y+f.height/2-i/2},"sw-resize":{x:f.x-h/2,y:f.y2-i/2},"s-resize":{x:f.x+f.width/2-h/2,y:f.y2-i/2},"se-resize":{x:f.x2-h/2,y:f.y2-i/2},crosshair:{x:g.x-h/2-h/2,y:g.y-i/2}};if(void 0!==a.node.points){var q,r=a.node.points,s=r.numberOfItems;if(e=new b.Matrix,e.add(a.transform().totalMatrix),j>-1)q=r.getItem(j),d.attr({x:e.x(q.x,q.y)-h/2,y:e.y(q.x,q.y)-i/2});else for(l=0;l<s;l++)q=r.getItem(l),c[l+1]=c[l+1].attr({x:e.x(q.x,q.y)-h/2,y:e.y(q.x,q.y)-i/2})}else if(-1!==k.indexOf(p.AnnotationType.LINE)){var t=a.select("line");t&&(a=t);var u=0,v=0,w=0,x=0;e=new b.Matrix,e.add(a.transform().totalMatrix),u=e.x(o.toInt(a.attr("x1")),o.toInt(a.attr("y1"))),v=e.y(o.toInt(a.attr("x1")),o.toInt(a.attr("y1"))),w=e.x(o.toInt(a.attr("x2")),o.toInt(a.attr("y2"))),x=e.y(o.toInt(a.attr("x2")),o.toInt(a.attr("y2"))),c[1].attr({x:u-h/2,y:v-i/2}),c[2].attr({x:w-h/2,y:x-i/2})}else for(l=1,m=c.node.childElementCount;l<m;l++)c[l]=c[l].attr(n[c[l].attr("cursor")])}function l(a){var b=this.data("tEl"),c=b.data("item"),d=b.data("bbT");d&&d.attr("strokeWidth",1),b.data("changed")&&c&&(c.attr("anntype")===p.AnnotationType.STICKYNOTE&&void 0!==this.data("tx")&&void 0!==this.data("ty")&&(c.transforms[c.transforms.length-1]={tx:this.data("tx"),ty:this.data("ty"),type:"translate"}),c.page.trigger("page"+c.page.pageIndex()+".change.annotation",c),b.data("changed",!1))}function m(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}function n(a,b,c,d){var e,f,g=a.transform().diffMatrix.invert();return g.e=g.f=0,e=g.x(b,c),f=g.y(b,c),{tx:e,ty:f}}var o=a.Utils,p=a.Type,q=0,r=0;c.prototype.changeattr=function(c,d){var e=this.attr("anntype"),g=[],h={},i=p.AnnotationType;c["fill-opacity"]&&(c["fill-opacity"]=o.toFloat(c["fill-opacity"],1)),e===i.LINE||e===i.POLYLINE||e===i.POLYCURVE||e===i.ARROWLINE?g=["stroke-width","stroke","stroke-dashstyle","stroke-linecap","left-arrow-shape","right-arrow-shape"]:e===i.CHECKMARK?g=["stroke-width","stroke"]:e===i.ARROWLINE?g=["stroke","stroke-width","left-arrow-shape","right-arrow-shape"]:e===i.MEMO||e===i.TEXT||e===i.EDITTEXT?g=["fill","stroke","font-size","font-color","font-style","font-weight","font-family"]:e===i.EDITTEXT?(g=["font-size","font-color","font-style","font-weight","font-family"],c["stroke-width"]=0):e===i.STICKYNOTE?g=["font-size","font-color","font-style","font-weight","font-family","fill","fill-opacity"]:e===i.HIGHLIGHTER?(g=["fill","fill-opacity"],0===o.toFloat(c["fill-opacity"],1)?(c.fill="#00ffffff",c["fill-opacity"]=.1):c["fill-opacity"]=.4,c.stroke=c.fill):(g=["stroke-width","stroke","fill","fill-opacity"],e===i.POLYGON&&(c.fill=0===c["fill-opacity"]?"#ffffff":c.fill));var j,k,l,m,n,s,t,u,v,w;for(q=0,r=g.length;q<r;q++)v=g[q],w=c[v],o.isNotEmpty(w)&&(h[g[q]]=w);if(h){var x,y,z,A;if(e===p.AnnotationType.MEMO||e===p.AnnotationType.TEXT||e===p.AnnotationType.EDITTEXT||e===p.AnnotationType.STICKYNOTE){for(j=this.select("rect"),k=this.select("text"),l=o.toInt(j.attr("x")),m=o.toInt(j.attr("y")),n=20,s=o.toInt(j.attr("width"))+n,u=o.toInt(c["font-size"]),t=(u+2*n)*k.node.childNodes.length,c["font-color"]=c["font-color"]||k.attr("fill"),k.attr({x:l,y:m,fontStyle:o.toNotEmpty(c["font-style"],"normal"),fontWeight:o.toNotEmpty(c["font-weight"],"normal"),fontSize:c["font-size"],fontFamily:c["font-family"],fill:c["font-color"]}),x=k.node.childNodes,z=s,q=0,r=x.length;q<r;q+=1)y=b(x[q]),void 0!==u&&"undefined"!==u||(u=o.toInt(y.node.style.fontSize)),A=y.node.textContent.length*u,z<A&&(z=A),y.attr("x",l+n),y.attr("y",m+(u*(q+(-1!==o.IEVersion()||o.isBrowser().wEdge()?1:0))+n/2)),y.attr("fill",c["font-color"]),y.attr("font-size",u+"px");var B=k.getBBox();j.attr({width:B.width+2*n,height:B.height+2*n,x:l,y:m,fill:c.fill||j.attr("fill")}),e===p.AnnotationType.STICKYNOTE&&j.attr("fillOpacity",c["fill-opacity"])}else if(e===p.AnnotationType.MEMOPAD){var C=this.select("g");C.select("path");for(j=C.select("rect"),k=C.select("text"),l=o.toInt(j.attr("x")),m=o.toInt(j.attr("y")),n=4,s=o.toInt(j.attr("width"))+n,u=o.toInt(c["font-size"]),t=(u+2*n)*k.node.childNodes.length,k.attr({x:l,y:m,fontStyle:o.toNotEmpty(c["font-style"],"normal"),fontWeight:o.toNotEmpty(c["font-weight"],"normal"),fontSize:c["font-size"],fontFamily:c["font-family"],stroke:c["font-color"],fill:"#ffffff","fill-opacity":.5}),x=k.node.childNodes,z=s,q=0,r=x.length;q<r;q+=1)y=b(x[q]),A=y.node.textContent.length*u,z<A&&(z=A),y.attr("x",l+n),y.attr("y",m+(u*(q+1)+n)),y.attr("fill",c["font-color"]),y.attr("font-size",u+"px");j.attr({stroke:c.stroke,strokeWidth:1,fill:o.toNotEmpty(c.fill,"none"),width:z+2*n,height:t,x:l,y:m})}else if(e===p.AnnotationType.STAMP){j=this.select("rect"),n=4,null===j&&(j=this.rect()),l=a.Utils.toInt(c.x),m=a.Utils.toInt(c.y),j.attr({width:a.Utils.toInt(c.width)+2*n,height:a.Utils.toInt(c.height),stroke:c.stroke||"#ff0000",strokeWidth:0===c["stroke-width"]?3:0,fill:"#ffffff",fillOpacity:1});var D=this.select("image");c["image-href"]?(null===D&&(D=this.image()),D.attr({"xlink:href":c["image-href"],x:l,y:m,width:c.width+2*n,height:c.height-(c["font-size"]*(-1!==o.IEVersion()||o.isBrowser().wEdge())?0:1)-2*n,preserveAspectRatio:"none"})):D&&D.remove(),k=this.select("text"),c.text?(1===c["text-halign"]?l=a.Utils.toInt(c.x)+a.Utils.toInt(c.width)/2:2===c["text-halign"]&&(l=a.Utils.toInt(c.x)+a.Utils.toInt(c.width)),k.attr({x:l+n,y:m+c.height-c["font-size"]-n,strokeWidth:"bold"===c["font-weight"]?2:1,"text-anchor":a.Type.AnnotationAttribute.TEXT_ALIGN[c["text-halign"]],
stroke:c["font-color"],fill:c["font-color"],"font-size":c["font-size"],"alignment-baseline":"hanging"}),k.node.textContent=c.text):k.remove()}else if(e===p.AnnotationType.ARROWLINE){var E=this.select("line"),F=h["left-arrow-shape"]?h["left-arrow-shape"]:a.Utils.toNotEmpty(this.data("left-arrow-shape"),-1),G=h["right-arrow-shape"]?h["right-arrow-shape"]:a.Utils.toNotEmpty(this.data("right-arrow-shape"),-1),H=h["las-size"]?h["las-size"]:a.Utils.toNotEmpty(this.data("las-size"),-1),I=h["ras-size"]?h["ras-size"]:a.Utils.toNotEmpty(this.data("ras-size"),-1),J=f(p.MarkerType.getByIndex(p.MarkerType.DIRECTION_LEFT,F),this.paper,h,H);this.data("markerLeft")&&this.data("markerLeft").remove(),this.data("markerLeft",J),h.markerStart=J,this.data("markerRight")&&this.data("markerRight").remove();var K=f(p.MarkerType.getByIndex(p.MarkerType.DIRECTION_RIGHT,G),this.paper,h,I);this.data("markerRight",K),h.markerEnd=K,E.attr(h)}else this.attr(h);a.Events.trigger("change.annotation",d)}};var s={fill:"#ff0000",stroke:"#ff0000",strokeWidth:2,strokeDasharray:"5,5",handerPositionX:30,handerPositionY:0,handerWidth:10,viewBox:"0 0 10 10",orient:"auto",markerWidth:4,markerHeight:3,refX:9,refY:5,markerUnits:"strokeWidth",class:"handler"};c.prototype.initDrag=function(a){var c,d=b(this.node.parentNode),e=b(this.node.ownerSVGElement),f=0;e.node.viewBox.animVal?c=e.node.viewBox.animVal:e.node.viewBox.baseVal&&(c=e.node.viewBox.baseVal),c.x<0&&c.y<0?f=180:c.x<0&&c.y>=0?f=90:c.x>=0&&c.y<0&&(f=270),this.data({parent:d,initMatrix:this.transform().localMatrix,rotate:f,tEl:this,item:a}),this.drag(i,u,l)},c.prototype.selected=function(a){g.call(this,a)},c.prototype.unselected=function(){h.call(this)},c.prototype.unbind=function(){var a,b=this.events||[],c=b.length-1;for(a=c;a>0;a--){var d=b[a],e=d.name,f=d.f;"mousedown"===e?this.unmousedown(f):"mouseup"===e?this.unmouseup(f):"mousemove"===e?this.unmousemove(f):"mouseout"===e?this.unmouseout(f):"click"===e&&this.unclick(f)}return this.events},c.prototype.displayBBox=function(){var b=this.data("handler-group"),c=this.data("bbT"),d=this.data("tEl").attr("anntype"),e=this.transform().total.toString();if(c)this.data("bbT").attr(m(this.getBBox(1))).transform(e);else{var f="none";-1===d.indexOf("line")&&-1===d.indexOf("pen")||(f="rgba(255,255,255, 0)"),this.data("bbT",b.rect(m(this.getBBox(1))).attr({fill:f,stroke:s.stroke,strokeDasharray:s.strokeDasharray,class:a.moduleClassName+"-transition-handler"}).transform(e))}return this};var t=function(a,b,c,d,e){return{x:a+e,y:b+(d*(c+(-1!==o.IEVersion()||o.isBrowser().wEdge()?1:0))+e/2)}},u=function(c,d,e){var f=b(e.target),g=this.data("tEl");g.data("changed",!1);var h=o.toNotEmpty(f.data("handlerIdx"),-1),i=a.Utils.svgCursorPoint(this.paper.node,c,d),j=n(g,i.x,i.y);if(this.data("hEl",f),this.data("op",j),this.data("ot",this.transform().localMatrix),g.data("otx",g.data("tx")||0),g.data("oty",g.data("ty")||0),-1!==h){var k=g.attr("anntype");if(k===p.AnnotationType.RECT||k===p.AnnotationType.MASK||g.type===p.AnnotationType.RECT&&k===p.AnnotationType.HIGHLIGHTER||k===p.AnnotationType.ETERNITYRECT||k===p.AnnotationType.IMAGE)g.data({ox:g.attr("x"),oy:g.attr("y"),ow:g.attr("width"),oh:g.attr("height")});else if(k===p.AnnotationType.STICKYNOTE)g.data({ox:g[0].attr("x"),oy:g[0].attr("y"),ow:g[0].attr("width"),oh:g[0].attr("height")});else if(k===p.AnnotationType.CIRCLE||k===p.AnnotationType.ELLIPSE)g.data({ocx:g.attr("cx"),ocy:g.attr("cy"),or:g.attr("r"),orx:g.attr("rx"),ory:g.attr("ry")});else if(g.node.points){var l=o.toInt(f.attr("ox"),0),m=o.toInt(f.attr("oy"),0),q=o.toInt(f.attr("tx"),0),r=o.toInt(f.attr("ty"),0);f.attr({ox:l+q,oy:m+r})}else if(-1!==k.indexOf(p.AnnotationType.LINE)){var s,t=g.select("line");s=g,t&&(s=t),g.data({ox1:s.attr("x1"),oy1:s.attr("y1"),ox2:s.attr("x2"),oy2:s.attr("y2")})}}}})}(InziSForm),function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],(e=c?c+f:b)in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b=a.options.inputClass;return new(b||(xa?M:ya?P:wa?R:L))(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=!c||a.CSS.supports("touch-action",d)}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?ub:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===ub||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");